{"version":3,"sources":["serviceWorker.js","components/misc/pages/ErrorBoundary.js","configs/Ability.js","configs/Ability-context.js","components/misc/pages/NotFound.jsx","components/auth/pages/Login.jsx","components/auth/SecuredLogin.js","components/misc/components/MyOwnSelect.jsx","components/misc/components/WelcomeVendorModal.jsx","components/vendors/pages/SignUp.jsx","components/vendors/SecuredSignupVendor.js","components/vendors/pages/EditVendor.jsx","components/vendors/SecuredEditVendor.js","components/misc/components/DeleteModal.jsx","components/misc/components/MyOwnListing.jsx","components/misc/pages/AllPersons.jsx","components/vendors/pages/AllVendors.jsx","components/vendors/SecuredAllVendors.js","components/vendors/Vendors.jsx","components/home/pages/Home.jsx","components/home/SecuredHome.js","components/users/pages/NewUser.jsx","components/users/SecuredNewUser.js","components/users/pages/AllUsers.jsx","components/users/SecuredAllUsers.js","components/users/pages/EditUser.jsx","components/users/SecuredEditUser.js","components/users/roles/pages/NewRole.jsx","components/users/roles/SecuredNewRole.js","components/users/roles/pages/AllRoles.jsx","components/users/roles/SecuredAllRoles.js","components/users/roles/pages/EditRole.jsx","components/users/roles/SecuredEditRole.js","components/users/roles/Roles.jsx","components/users/Users.jsx","components/products/pages/NewProduct.jsx","components/products/SecuredNewProduct.js","components/products/pages/AllProducts.jsx","components/products/SecuredAllProducts.js","components/products/pages/EditProduct.jsx","components/products/SecuredEditProduct.js","components/products/categories/pages/NewProductCategory.jsx","components/products/categories/SecuredNewProductCategory.js","components/products/categories/pages/AllProductCategories.jsx","components/products/categories/SecuredAllProductCategories.js","components/products/categories/pages/EditProductCategory.jsx","components/products/categories/SecuredEditProductCategory.js","components/products/categories/ProductCategories.jsx","components/products/brands/pages/NewBrand.jsx","components/products/brands/SecuredNewBrand.js","components/products/brands/pages/AllBrands.jsx","components/products/brands/SecuredAllBrands.js","components/products/brands/pages/EditBrand.jsx","components/products/brands/SecuredEditBrand.js","components/products/brands/Brands.jsx","components/products/Products.jsx","components/inventories/pages/AllInventories.jsx","components/inventories/SecuredAllInventories.js","components/inventories/pages/InventoryHistories.jsx","components/inventories/SecuredInventoryHistories.js","components/inventories/pages/UpdateInventories.jsx","components/inventories/SecuredUpdateInventories.js","components/inventories/Inventories.jsx","components/misc/components/QuestionModal.jsx","components/orders/pages/sections/OrderDetails.jsx","components/orders/pages/sections/OrderCustomerDetails.jsx","components/orders/pages/sections/OrderProductDetails.jsx","components/misc/components/PTableRow.jsx","components/orders/pages/sections/OrderProductsTable.jsx","components/orders/pages/NewOrder.jsx","components/orders/SecuredNewOrder.js","components/orders/pages/ViewOrder.jsx","components/orders/SecuredViewOrder.js","components/orders/pages/EditOrder.jsx","components/orders/SecuredEditOrder.js","components/orders/pages/AllOrders.jsx","components/orders/SecuredAllOrders.js","components/orders/pages/AllOrderDetails.jsx","components/orders/SecuredAllOrderDetails.js","components/orders/Orders.jsx","components/misc/pages/Invoice.jsx","components/invoices/pages/NewInvoice.jsx","components/invoices/SecuredNewInvoice.js","components/invoices/pages/EditInvoice.jsx","components/invoices/SecuredEditInvoice.js","components/invoices/pages/AllInvoices.jsx","components/invoices/SecuredAllInvoices.js","components/invoices/pages/AllInvoiceDetails.jsx","components/invoices/SecuredAllInvoiceDetails.js","components/misc/pages/Company.jsx","components/invoices/companies/pages/NewCompany.jsx","components/invoices/companies/SecuredNewCompany.js","components/invoices/companies/pages/EditCompany.jsx","components/invoices/companies/SecuredEditCompany.js","components/invoices/companies/pages/AllCompanies.jsx","components/invoices/companies/SecuredAllCompanies.js","components/invoices/companies/Companies.jsx","components/invoices/Invoices.jsx","components/misc/AllRoutes.js","components/misc/sections/NavBar.jsx","components/misc/components/ReactSideBar.jsx","App.js","index.js"],"names":["Boolean","window","location","hostname","match","unregister","navigator","serviceWorker","ready","then","registration","ErrorBoundary","props","state","error","errorInfo","this","setState","style","marginTop","md","className","src","alt","visibility","animationName","animationIterationCount","data-wow-delay","fontWeight","animationDelay","children","React","Component","roles","permissions","rolePermissions","AbilityContext","createContext","Can","createContextualCan","Consumer","fetch","res","json","data","catch","err","console","log","NotFound","fontSize","to","LoginForm","handleInput","e","target","name","value","validateLogin","preventDefault","stopPropagation","form","refs","loginForm","checkValidity","handleLogin","classList","add","options","method","body","JSON","stringify","username","password","headers","message","user","loginLabel","innerHTML","focus","isLoggedIn","Storage","localStorage","setItem","id","role_id","alert","screen","width","main","document","getElementById","marginLeft","changeUser","onChangeLabel","border","bind","lg","sm","xs","transparent","ref","onSubmit","noValidate","onInput","onChange","type","el","required","placeholder","SecuredLogin","loggedIn","getItem","Login","MyOwnSelect","handleChange","selectedOption","selectedValue","placeHolder","iconClass","isMulti","Entities","isOptionDisabled","withOutIcon","selectStyles","control","base","borderColor","isFocused","background","borderRadius","valueContainer","paddingLeft","maxHeight","fontFamily","multiValue","color","maxWidth","multiValueLabel","styles","multiValueRemove","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","EntityOptions","map","entity","key","label","closeMenuOnSelect","components","Option","innerProps","innerRef","cursor","checked","isSelected","ValueContainer","left","padding","DropdownIndicator","aria-hidden","IndicatorSeparator","alignSelf","backgroundColor","marginBottom","hideSelectedOptions","isClearable","isSearchable","WelcomeVendorModal","modalShow","toggle","handleClick","history","push","vendor","size","centered","backdrop","animation","modalStyle","isOpen","onClick","SignUp","handleSelectChange","bankName","handleNextButtonClick","current_fs","next_fs","animating","indexOFnext_fs","progressBar","Fieldsets","getElementsByTagName","parentNode","nextElementSibling","i","length","childNodes","display","handlePreviousButtonClick","previous_fs","indexOFcurrent_fs","previousElementSibling","remove","handleSubmit","allData","vendorRole","allRoles","filter","role","toLowerCase","shift","email","cell","address","cnic","shopName","shopAddress","shopCell","branchName","branchCode","accountTitle","accountNumber","ibanNumber","usernameCNICpart1","substring","split","reverse","join","usernameCNICpart2","usernameCNICpart3","newVendor","roleId","success","welcomeVendorModal","_isMounted","setTimeout","notificationShow","signUpLabel","center","xl","pattern","maxLength","SecuredSignupVendor","EditVendor","editVendorForm","updatedVendor","vendorId","reload","params","URLSearchParams","search","Number","get","vendorToBeEdited","allUsers","shop_name","shop_address","shop_cell","Math","random","bank_name","toUpperCase","branch_name","branch_code","account_title","account_id","iban_id","I","a","disabled","SecuredEditVendor","DeleteModal","deleteEntry","titleClass","tag","icon","outline","MyOwnListing","cardHeading","permissionEntity","redirectToNewEntityPath","addButtonEntityLabel","tableId","btnStyle","small","hover","entriesLabel","bordered","searchLabel","entries","entriesOptions","responsive","theadTextWhite","AllPersons","componentWillUnmount","handleEdit","allPersons","pathname","handleDelete","closest","rowIndex","rowToBeDeleted","personToBeDeleted","deleteModal","deletePerson","deleteRow","rows","index","forEach","currentRole","buttons","Fragment","columns","field","accountNo","ibanNo","AllVendors","SecuredAllVendors","Vendors","path","render","routeProps","Home","SecuredHome","NewUser","selectedRole","newUserForm","newUser","notificationMessage","option","SecuredNewUser","AllUsers","SecuredAllUsers","EditUser","onKeyPress","which","handleRoleChange","editingVendor","handleBankNameChange","componentDidMount","selectedBankName","editUserForm","costPricePercent","retailPricePercent","userId","updatedUser","userToBeEdited","roleToBeEdited","retail_price_percent","cost_price_percent","SecuredEditUser","NewRole","selectedPermissions","newRoleForm","newRole","RolePermissions","permission","permissionId","permission_id","permissionOptions","allPermissions","slug","textAlign","SecuredNewRole","AllRoles","roleToBeDeleted","deleteRole","SecuredAllRoles","EditRole","editRoleForm","reqBody","thisRolesPermissions","allRolePermissions","rolePermission","permissionsToBeEdited","SecuredEditRole","Roles","Users","NewProdcut","selectedBrand","selectedCategory","selectedVendor","newProductForm","sku","bktId","newProduct","status","brandId","categoryId","retailPrice","costPrice","allBrands","allProductCategories","vendorRoleId","allVendors","SecuredNewProduct","NewProduct","AllProducts","productToBeDeleted","deleteProduct","allProducts","product","thisProductCategory","thisProductBrand","thisProductVendor","category","product_category_id","brand","brand_id","vendor_id","bkt_id","retail_price","SecuredAllProducts","EditProduct","editValidatingLabel","editProductLabel","handleInputRetail","override","selectedUser","calculatedCostPrice","handleInputCost","calculatedRetailPrice","handleBlurRetail","handleBlurCost","handleClickCheckbox","string","selectedStatus","editProductForm","updateProduct","productId","productToBeEdited","cost_price","onBlur","SecuredEditProduct","NewProductCategory","newProductCategoryForm","newProductCategory","description","SecuredNewProductCategory","AllProductCategories","categoryToBeDeleted","deleteProductCategory","productCategory","SecuredAllProductCategories","EditProductCategory","editProductCategoryForm","updatedProductCategory","categoryToBeEdited","SecuredEditProductCategory","ProductCategories","NewBrand","newBrandForm","newBrand","SecuredNewBrand","AllBrands","brandToBeDeleted","deleteBrand","SecuredAllBrands","EditBrand","editBrandForm","updatedBrand","brandToBeEdited","SecuredEditBrand","Brands","Products","AllInventories","allInventories","inventory","thisProduct","qty","attributes","SecuredAllInventories","InventoryHistories","allInventoryHistories","thisVendor","SecuredInventoryHistory","UpdateInventories","selectedUpdateOption","updateInventoriesForm","updatedInventory","updateOption","updateCallOptions","inventoryHistory","historyOptions","inventoryUpdateOptions","SecuredUpdateInventories","Inventories","SecuredInventoryHistories","QuestionModal","sendResponseBack","boolean","positiveBtnClicked","negativeBtnClicked","positiveBtnTxt","negativeBtnTxt","heading","letterSpacing","sourceOptions","statusOptions","OrderDetails","handleDateChange","orderDate","questionHeading","questionMessage","orderState","setQuestionModalProps","handleChangingStatus","orderStatus","questionModal","questionModalPositiveBtnClicked","courier","orderTracking","exportCSV","questionModalNegativeBtnClicked","chooseCourier","confirm","order","orderBeingEdited","orderDetails","orderDetailsBeingEdited","orderDetailsForm","orderSource","makeFormEmpty","orderId","orderNote","middle","selected","placeholderText","peekNextMonth","showMonthDropdown","showYearDropdown","dropdownMode","dateFormat","autoComplete","hint","OrderCustomerDetails","orderCustomerDetailsForm","cName","cContact","cAddress","marginRight","validate","OrderProductDetails","handleAddProduct","orderProductDetailsForm","selectedProduct","pQTY","pRemarks","pDiscount","pId","pSKU","pRate","pCost","pPrice","parseFloat","toFixed","pChecked","checkbox","addProductToTbl","displayForm","productOptions","inputRef","max","end","PTableRow","mouseEntered","inputEditQty","inputEditDiscount","mouseLeft","handleInputQty","updatedPrice","updatedQty","minusFromTotal","minusFromTotalValueAdded","addToTotal","addToTotalValueAdded","handleInputDiscount","updatedDiscount","handleBlurQty","includes","handleChangeExtraAdded","row","cells","deleteProductFrmTbl","pName","onMouseEnter","onMouseLeave","scope","suppressContentEditableWarning","contentEditable","verticalAlign","deleteRowfn","ProductsTable","Rows","displayTable","submitOrderBtn","updatedRows","splice","submitOrder","tableValid","checkOrderValidity","pTable","validatingLabel","orderDetail","product_id","product_sku","product_cost","product_rate","product_qty","product_discount","product_price","product_remarks","product_extra_added","saveOrderDetailsToDB","makeTableEmpty","duration","delay","NewOrder","orderProductsTable","updatedTotal","orderTotal","updatedTotalValueAdded","totalValueAdded","orderDetailsValidity","orderCustomerDetailsValidity","detail","order_date","order_id","order_source","order_status","detail_type","orderType","orderDetailsOptions","saveOrderToDB","orderCustomerDetails","newOrder","date","source","note","total","totalAddedValue","newOrderOptions","deleteRowsFromtbl","OrderProductsTable","SecuredNewOrder","ViewOrder","tableRows","desiredOrder","allOrders","desiredOrderDetails","allOrderDetails","product_name","Date","toLocaleDateString","tracking_id","customer_name","customer_contact","customer_address","total_value_added","SecuredViewOrder","EditOrder","tableUpdated","deleteOrderDetailsOptions","updates","updateOrderDetailsOptions","updatedOrder","trackingId","updatedOrderOptions","displayAddFormButton","orderProductDetails","SecuredEditOrder","AllOrders","handleView","orderToBeDeleted","deleteOrder","deleteOrderOptions","tracking","SecuredAllOrders","AllOrderDetails","pSku","pQty","SecuredAllOrderDetails","Orders","Invoice","makeStateEmpty","invoice_id","floor","selectedClient","selectedCompany","phone","items","service","rate","printInvoice","printArea","wholeContent","print","submitInvoice","total_amount","innerValue","selectClientForm","isNaN","obj","slagme","companyId","cId","number","editingInvoiceId","deleteInvoiceDetailsOptions","updateInvoiceOptions","updateInvoiceDetailsOptions","newInvoiceOptions","allInvoices","allInvoiceDetails","invoiceToBeEdited","invoice","editingInvoiceDetails","price","toDateString","c_id","company_id","c_address","c_number","calculateTotal","item","onChangeSelect","ourClient","clients","client","addItem","addItemForm","newitem","tdOnBlur","Index","deleteItemData","prevState","itemData","allCompanies","clientRole","clientRoleId","allClients","companies","companyDetailStyle","clientOptions","companyOptions","company","companyDetails","logo","height","borderStyle","min","NewInvoice","SecuredNewInvoice","EditInvoice","SecuredEditInvoice","AllInvoices","invoiceToBeDeleted","invoiceId","deleteInvoice","deleteInvoiceOptions","SecuredAllInvoices","AllInvoiceDetails","SecuredAllInvoiceDetails","Company","companyToBeEdited","editCompany","existingLogo","displayExistingLogo","selectedFile","files","newCompanyForm","fd","FormData","fakeForm","append","validatingMessage","updatedCompany","logoAddress","position","accept","encType","NewCompany","SecuredNewCompany","EditCompany","SecuredEditCompany","AllCompanies","companyToBeDeleted","companyLogo","deleteCompany","deleteCompanyOptions","SecuredAllCompanies","Companies","Invoices","AllRoutes","exact","NavBar","toggleCollapse","toggleSidebar","activeClassToggeler","elems","querySelector","expand","boxShadow","navbar","right","textTransform","ReactSideBar","handleDropDownMenus","dropdownMenus","getElementsByClassName","listElement","dropDown","childElementCount","j","homeLink","loggingOut","ability","Ability","App","removeItem","userRole","rules","userRoleId","AbilityBuilder","extract","can","undefined","Role","userRolePermissions","userPermissions","defineRulesFor","update","contains","sidebar","dataRequests","Promise","all","responses","jsons","Provider","ReactDOM","module","hot"],"mappings":"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","file":"static/js/main.d25a9e3e.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { error: null, errorInfo: null };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n\r\n        this.setState({\r\n            error: error,\r\n            errorInfo: errorInfo\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n\r\n            //if error render this\r\n            return (\r\n                <>\r\n                    <MDBRow style={{ marginTop: '72px' }}>\r\n                        <MDBCol md='12' className='text-center float-md-none mx-auto'>\r\n                            <img\r\n                                src=\"/images/404_mdb.png\"\r\n                                alt=\"Error 404\"\r\n                                className=\"img-fluid wow fadeIn animated\"\r\n                                style={{ visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1 }} />\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n                    <MDBRow className=\"mt-5\">\r\n                        <MDBCol md='12' className=\"text-center mb-5\">\r\n                            <h2 className=\"h2-responsive wow fadeIn mb-4 animated\" data-wow-delay=\"0.2s\" style={{ fontWeight: 500, visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.2s' }}>Oops! Something went wrong.</h2>\r\n                        </MDBCol>\r\n                    </MDBRow >\r\n                </>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\n\r\nexport default ErrorBoundary","import { AbilityBuilder } from \"@casl/ability\";\r\n\r\nlet roles;\r\nlet permissions;\r\nlet rolePermissions;\r\nfetch('/getAllRoles')\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n        // console.log(json)\r\n        roles = json.data\r\n    })\r\n    .catch((err => {\r\n        console.log(err);\r\n    }))\r\nfetch('/getAllPermissions')\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n        // console.log(json)\r\n        permissions = json.data\r\n    })\r\n    .catch((err => {\r\n        console.log(err);\r\n    }))\r\n\r\nfetch('/getAllRolesPermissions')\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n        // console.log(json)\r\n        rolePermissions = json.data\r\n    })\r\n    .catch((err => {\r\n        console.log(err);\r\n    }))\r\n\r\nexport default function defineRulesFor(role) {\r\n    const { can, rules } = AbilityBuilder.extract();\r\n\r\n    //finding user's role\r\n    let userRoleId;\r\n    if (roles !== undefined) {\r\n        roles.forEach(Role => {\r\n            if (Role.name === role) {\r\n                userRoleId = Role.id\r\n            }\r\n        })\r\n\r\n        //getting permissions against that role\r\n        let userRolePermissions = rolePermissions !== undefined && userRoleId !== undefined ?\r\n            rolePermissions.filter(rolePermission => rolePermission.role_id === userRoleId) : undefined\r\n\r\n        //getting user's permissions\r\n        let userPermissions = []\r\n        if (userRolePermissions !== undefined && permissions !== undefined) {\r\n            userRolePermissions.forEach(rolePermission => {\r\n                permissions.forEach(permission => {\r\n                    if (permission.id === rolePermission.permission_id) {\r\n                        userPermissions.push(permission)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        // console.log(userPermissions);\r\n\r\n        // defining rules for user\r\n        if (userPermissions.length!==0 && userPermissions !== undefined) {\r\n            for (let index = 0; index < userPermissions.length; index++) {\r\n                can(`${userPermissions[index].permission}`, `${userPermissions[index].entity}`)\r\n                // console.log(`${userPermissions[index].permission}`, `${userPermissions[index].entity}`);\r\n\r\n            }\r\n        }\r\n        // can(\"manage\", \"all\");\r\n        // can(\"read\", \"all\");\r\n        // can(\"delete\", \"all\");\r\n        // can(\"update\", \"all\");\r\n        // can(\"create\", \"all\");\r\n\r\n        // switch (role) {\r\n        //     // case \"superAdmin\":\r\n        //     //     can(\"manage\", \"all\");\r\n        //     //     break;\r\n        //     case \"admin\":\r\n\r\n        //         can(\"manage\", \"all\");\r\n        //         // can(\"read\", \"all\");\r\n        //         // can(\"delete\", \"all\");\r\n        //         // can(\"update\", \"all\");\r\n        //         // can(\"create\", \"all\");\r\n        //         break;\r\n        //     case \"operator\":\r\n        //         can(\"read\", \"user\");\r\n        //         can('create', 'order')\r\n        //         can(\"read\", \"order\");\r\n        //         can(\"update\", \"order\");\r\n        //         can(\"delete\", \"order\");\r\n        //         break;\r\n        //     case \"endUser\":\r\n        //         can(\"read\", \"order\");\r\n        //         break;\r\n        //     default:\r\n        //         can(\"read\", \"order\");\r\n        // }\r\n    }\r\n    return rules;\r\n}\r\n\r\n        // import { AbilityBuilder } from '@casl/ability'\r\n\r\n        // const superAdmin = AbilityBuilder.define(can => {\r\n            //     can('manage', 'all')\r\n            // });\r\n\r\n// const admin = AbilityBuilder.define((can, cannot) => {\r\n//     can('read', 'all')\r\n//     can('delete', 'all')\r\n//     cannot('update', 'user')\r\n//     cannot('create', 'customer')\r\n// });\r\n// const operator = AbilityBuilder.define(can => {\r\n//     can('read', 'all')\r\n//     can('create', 'all')\r\n\r\n// });\r\n\r\n// const endUser = AbilityBuilder.define(can => {\r\n//     can('read', 'all')\r\n// });\r\n// const ABILITIES = { superAdmin, admin, operator, endUser }\r\n// export default ABILITIES","import { createContextualCan } from \"@casl/react\";\r\nimport React from \"react\";\r\n\r\nexport const AbilityContext = React.createContext();\r\nexport const Can = createContextualCan(AbilityContext.Consumer);\r\n","import React from 'react';\r\nimport { MDBCol, MDBRow, MDBNavLink } from 'mdbreact';\r\n\r\n\r\nconst NotFound = () => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <MDBRow style={{ marginTop: '72px' }}>\r\n        <MDBCol md='12' className='text-center float-md-none mx-auto'>\r\n          <img\r\n            src=\"/404_mdb.png\"\r\n            alt=\"Error 404\"\r\n            className=\"img-fluid wow fadeIn animated\"\r\n            style={{ visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1 }} />\r\n        </MDBCol>\r\n      </MDBRow>\r\n      <MDBRow className=\"mt-5\">\r\n        <MDBCol md='12' className=\"text-center mb-5\">\r\n          <h2 className=\"h2-responsive wow fadeIn mb-4 animated\" data-wow-delay=\"0.2s\" style={{ fontWeight: 500, visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.2s' }}>Oops! This obviously isn't a page you were looking for.</h2>\r\n          <p className=\"wow fadeIn animated\" data-wow-delay=\"0.4s\" style={{ fontSize: '1.25rem', visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.4s' }}>Please, use following link to navigate back to home page.</p>\r\n          <MDBCol md='6' className='mx-auto' >\r\n            <MDBNavLink to='/home'>Home</MDBNavLink>\r\n          </MDBCol>\r\n        </MDBCol>\r\n      </MDBRow >\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default NotFound","import React from \"react\";\r\nimport { Redirect } from 'react-router'\r\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBCardTitle, MDBCardHeader } from 'mdbreact';\r\n\r\nclass LoginForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            isLoggedIn: false,\r\n            user: ''\r\n        }\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    validateLogin = (e) => {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.loginForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        this.handleLogin();\r\n    }\r\n    handleLogin = () => {\r\n        var options = {\r\n            method: 'POST',\r\n            body: JSON.stringify({ username: this.state.username, password: this.state.password }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        fetch('/auth', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json);\r\n                let message = json.message;\r\n                let user = json.user\r\n                this.refs.loginLabel.innerHTML = message;\r\n                if (message === 'incorrect password') {\r\n                    this.password.value = \"\";\r\n                    this.password.focus();\r\n                }\r\n                else if (message === `username doesn't exist`) {\r\n                    this.username.value = '';\r\n                    this.username.focus();\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        isLoggedIn: true,\r\n                        user: user\r\n                    }, function () {\r\n                        if (typeof (Storage) !== \"undefined\") {\r\n                            localStorage.setItem('ui', JSON.stringify(user.id))\r\n                            localStorage.setItem('uri', JSON.stringify(user.role_id))\r\n                        }\r\n                        else {\r\n                            alert('Please use another browser to get it working correctly.')\r\n                        }\r\n                    })\r\n                    if (window.screen.width > 576) {\r\n                        let main = document.getElementById('main'), sidebar = document.getElementById('sidebar')\r\n                        sidebar.style.width = ' 12%'\r\n                        main.style.width = '88%'\r\n                        main.style.marginLeft = '12%'\r\n                    }\r\n                    this.props.changeUser(user);\r\n                }\r\n\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    onChangeLabel = (e) => {\r\n        e.target.style.border = 'none'\r\n        this.refs.loginLabel.innerHTML = '';\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else\r\n            return (\r\n                <MDBRow className='mt-5'>\r\n                    <MDBCol lg='4' md='6' sm='8' xs='10' className='offset-lg-6 offset-md-4 offset-sm-2 offset-xs-0'>\r\n                        <MDBCol>\r\n                            <MDBCard className='cardLogin'>\r\n                                <MDBCardHeader className='mb-4 border-0' transparent>\r\n                                    <div className='Avatar '>\r\n                                        <div className='imageLogin '>\r\n                                            <i className='fas fa-user-tie'></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </MDBCardHeader>\r\n                                <MDBCardBody>\r\n                                    <MDBCardTitle className='text-center fontRaleway ' >\r\n                                        <span className='colorBlue loginCardHeading'>User</span> <span className='colorGreen loginCardHeading'>Login</span>\r\n                                    </MDBCardTitle>\r\n                                    <form ref='loginForm' onSubmit={this.validateLogin} noValidate>\r\n                                        <div className='my-3'>\r\n                                            <i className=\"fa fa-user-tie inputIcon\" />\r\n                                            <input\r\n                                                name=\"username\"\r\n                                                value={this.state.username}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={this.onChangeLabel}\r\n                                                type=\"text\"\r\n                                                ref={el => this.username = el}\r\n                                                required\r\n                                                placeholder='Username'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            />\r\n                                            <div className=\"valid-feedback\">\r\n                                                Looks good!\r\n                                            </div>\r\n                                            <div className=\"invalid-feedback\">\r\n                                                Please enter a valid username.\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='my-3' >\r\n                                            <i className=\"fa fa-lock inputIcon\" />\r\n                                            <input\r\n                                                name=\"password\"\r\n                                                value={this.state.password}\r\n                                                onInput={this.handleInput}\r\n                                                ref={el => this.password = el}\r\n                                                onChange={this.onChangeLabel}\r\n                                                type=\"password\"\r\n                                                required\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                                placeholder='Password'\r\n                                            />\r\n                                            <div className=\"valid-feedback\">\r\n                                                Looks good!\r\n                                            </div>\r\n                                            <div className=\"invalid-feedback\">\r\n                                                Please enter a valid password.\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='mt-3'>\r\n                                            <button type='submit' className='fontRaleway loginSubmitBtn my-2'>Log In</button>\r\n                                        </div>\r\n                                        <div className='text-center m-0 p-0 '>\r\n                                            <label ref='loginLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                            <span className='colorBlue'>Forgot</span> <span className='colorGreen'>Password</span> <span className='colorBlue'>?</span>\r\n                                        </div>\r\n                                    </form>\r\n                                </MDBCardBody>\r\n                            </MDBCard>\r\n                        </MDBCol>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n            )\r\n    }\r\n}\r\nexport default LoginForm;","import React, { Component } from 'react';\r\nimport Login from './pages/Login';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\n\r\nclass SecuredLogin extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === true) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Login changeUser={this.props.changeUser} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredLogin","import React, { Component } from 'react';\r\nimport Select, { components } from 'react-select';\r\n\r\n\r\nclass MyOwnSelect extends Component {\r\n\r\n    handleChange = selectedOption => {\r\n        this.props.handleChange(selectedOption)\r\n    }\r\n\r\n    render() {\r\n        let { options, selectedValue, placeHolder, iconClass, isMulti, required, Entities, isOptionDisabled, withOutIcon } = this.props\r\n        // console.log(selectedValue);\r\n\r\n        const selectStyles = {\r\n            control: (base, state) => ({\r\n                ...base,\r\n                borderColor: state.isFocused ?\r\n                    '#ddd' : required ?\r\n                        selectedValue !== null ?\r\n                            '#ddd' : 'red' : '#ddd',\r\n                background: withOutIcon ? '' : \"#ebebeb\",\r\n                borderRadius: withOutIcon ? '4px' : '7px'\r\n            }),\r\n            valueContainer: (base, state) => ({\r\n                ...base,\r\n                background: withOutIcon ? '' : \"#ebebeb\",\r\n                paddingLeft: withOutIcon ? 12 : 46,\r\n                maxHeight: '35px',\r\n                fontWeight: 400,\r\n                borderRadius: '7px',\r\n                fontFamily: 'Raleway',\r\n            }),\r\n            multiValue: (base, state) => ({\r\n                ...base,\r\n                background: \"#112648\",\r\n                color: 'white',\r\n                maxWidth: \"110px\",\r\n                borderRadius: '5px'\r\n            }),\r\n            multiValueLabel: (styles, { data }) => ({\r\n                ...styles,\r\n                color: '#cedd88',\r\n            }),\r\n            multiValueRemove: base => ({\r\n                ...base,\r\n                background: '#cedd88',\r\n                color: '#112648',\r\n                borderBottomLeftRadius: '0px',\r\n                borderBottomRightRadius: '5px',\r\n                borderTopLeftRadius: '0px',\r\n                borderTopRightRadius: '5px',\r\n\r\n            }),\r\n        }\r\n\r\n        const Option = props => {\r\n\r\n            const { innerProps, innerRef } = props\r\n            return (\r\n                <div ref={innerRef} {...innerProps}>\r\n                    <div className='text-left ml-2 pl-2 mt-1 fontRaleway selectOption' style={{\r\n                        color: `${props.data.color}`,\r\n                        fontWeight: '500', cursor: 'pointer'\r\n                    }}>\r\n                        {this.props.isMulti && <input type='checkbox' checked={props.isSelected} onChange={() => { }} />}\r\n                        {props.data.label}\r\n                    </div>\r\n                </div >\r\n            );\r\n        };\r\n\r\n        const ValueContainer = ({ children, ...props }) => {\r\n            return (\r\n                components.ValueContainer && (\r\n                    <components.ValueContainer {...props}>\r\n                        {!!children && (\r\n                            <i\r\n                                className={`${iconClass} inputIcon`}\r\n                                style={{ left: 13, padding: '0px' }}\r\n                            />\r\n                        )}\r\n                        {children}\r\n                    </components.ValueContainer>\r\n                )\r\n            );\r\n        };\r\n\r\n        const DropdownIndicator = props => {\r\n            return (\r\n                components.DropdownIndicator && (\r\n                    <components.DropdownIndicator {...props}>\r\n                        <i\r\n                            className=\"fa fa-chevron-down\"\r\n                            aria-hidden=\"true\"\r\n                            style={{ color: '#112648' }}\r\n                        />\r\n                    </components.DropdownIndicator>\r\n                )\r\n            );\r\n        };\r\n\r\n        const IndicatorSeparator = ({ innerProps }) => {\r\n            return <span style={{ alignSelf: 'stretch', backgroundColor: '#112648', width: '0.1pc', marginTop: 8, marginBottom: 8 }} {...innerProps} />;\r\n        };\r\n\r\n        let EntityOptions = Entities && Entities.map(entity => ({\r\n            key: entity.id,\r\n            label: entity.name,\r\n            value: entity.id,\r\n            color: entity.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n\r\n        return (\r\n            <Select\r\n                closeMenuOnSelect={!isMulti}\r\n                value={selectedValue}\r\n                onChange={this.handleChange}\r\n                components={{ Option, ValueContainer, DropdownIndicator, IndicatorSeparator }}\r\n                options={options ? options : EntityOptions}\r\n                isMulti={isMulti}\r\n                hideSelectedOptions={false}\r\n                styles={selectStyles}\r\n                placeholder={placeHolder}\r\n                isClearable\r\n                isSearchable\r\n                isOptionDisabled={isOptionDisabled}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MyOwnSelect","import React from 'react';\r\nimport { MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBBtn } from 'mdbreact'\r\n\r\nclass WelcomeVendorModal extends React.Component {\r\n    state = {\r\n        modalShow: false,\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow\r\n        })\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.toggle();\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    render() {\r\n\r\n        let { vendor } = this.props\r\n\r\n        return (\r\n            <MDBModal size=\"md\" centered backdrop={true} animation={'right'} modalStyle=\"info\"\r\n                isOpen={this.state.modalShow}\r\n                // toggle={this.toggle}\r\n                toggle={() => { }}\r\n            >\r\n                <MDBModalHeader className='text-center'>\r\n                    Welcome {vendor.name}!\r\n                </MDBModalHeader>\r\n                <MDBModalBody className=\"text-center\">\r\n                    <h5> You are registered successfully as a <b className='text-info'>Seller</b>.<br /> Following are your <b className='text-info'>login</b> credentials:</h5><br />\r\n                    <h3 className='text-info'><small className='text-muted'> Username:  </small>{vendor.username}<br />\r\n                        <small className='text-muted'>Password:  </small>{vendor.password}</h3>\r\n                    <h6> <b>Note:</b> Your username is also your <b className='text-info'>Vendor ID</b>.</h6>\r\n                </MDBModalBody>\r\n                <MDBModalFooter>\r\n                    <MDBBtn size='sm' onClick={this.handleClick} color='info'>Ok</MDBBtn>\r\n                </MDBModalFooter>\r\n            </MDBModal>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default WelcomeVendorModal","import React from \"react\";\r\n// import { Redirect } from 'react-router'\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\nimport WelcomeVendorModal from '../../misc/components/WelcomeVendorModal'\r\n\r\nclass SignUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            cnic: '',\r\n            shopName: '',\r\n            shopAddress: '',\r\n            shopCell: '',\r\n            bankName: '',\r\n            branchName: '',\r\n            branchCode: '',\r\n            accountTitle: '',\r\n            accountNumber: '',\r\n            ibanNumber: '',\r\n            vendor: '',\r\n        }\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleNextButtonClick = (e) => {\r\n\r\n        let current_fs, next_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        next_fs = current_fs.nextElementSibling;\r\n\r\n        let indexOFnext_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === next_fs) {\r\n                indexOFnext_fs = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        //activate next step on progressbar using the index of next_fs\r\n        progressBar.childNodes[indexOFnext_fs].classList.add(\"active\");\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n        //show the next fieldset\r\n        next_fs.style.display = 'block';\r\n\r\n\r\n    }\r\n\r\n    handlePreviousButtonClick = (e) => {\r\n        let current_fs, previous_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        previous_fs = current_fs.previousElementSibling;\r\n\r\n        let indexOFcurrent_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === current_fs) {\r\n                indexOFcurrent_fs = i;\r\n                break;\r\n            }\r\n        }\r\n        //de-activate current step on progressbar\r\n        progressBar.childNodes[indexOFcurrent_fs].classList.remove(\"active\");\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n        //show the previous fieldset\r\n        previous_fs.style.display = 'block';\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n        let { allData } = this.props\r\n        let form = document.getElementById('msform')\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return\r\n        }\r\n        else if (this.state.bankName === '' || this.state.bankName === null) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let vendorRole = allData.allRoles.filter(role => role.name.toLowerCase() === 'vendor').shift()\r\n            let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle, accountNumber, ibanNumber } = this.state\r\n            let usernameCNICpart1 = cnic.substring(0, 5).substring(0, 3).split('').reverse().join('') //123\r\n            let usernameCNICpart2 = cnic.substring(0, 5).substring(3).split('').reverse().join('')//45\r\n            let usernameCNICpart3 = cnic.substring(cnic.length - 3).split('').reverse().join('')//671\r\n            let username = `bkt${usernameCNICpart2}${usernameCNICpart3}${usernameCNICpart1}V`//bkt54176321\r\n            let password = '12345'\r\n\r\n            let newVendor = {\r\n                roleId: vendorRole && vendorRole.id, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber\r\n            }\r\n\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newVendor),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        let vendor = json.data\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            vendor: vendor\r\n                        })\r\n                        this.refs.welcomeVendorModal.setState({ modalShow: true })\r\n                        // console.log(vendor);\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    onChangeLabel = () => {\r\n        this.refs.signUpLabel.innerHTML = ''\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle,\r\n            accountNumber, ibanNumber, vendor } = this.state\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'hbl',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'mcb',\r\n            color: '#687722'\r\n        },];\r\n\r\n        return (\r\n            <MDBRow center className='mt-2 p-0'>\r\n                <MDBCol xl='6' lg='8' md='8' sm='10' xs='12' className='p-0 offset-xl-1 offset-lg-1'>\r\n                    <form id=\"msform\" className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                        {/* <!-- progressbar --> */}\r\n                        <ul id=\"progressbar\" className='fontRaleway text-center'>\r\n                            <li className=\"active\">Personal Details</li>\r\n                            <li>Business Details</li>\r\n                            <li>Bank Details</li>\r\n                        </ul>\r\n\r\n                        {/* <!-- fieldsets --> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Personal Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Tell us something about you</h3>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-user-tie inputIcon\" />\r\n                                <input\r\n                                    name=\"name\"\r\n                                    value={name}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.name = el}\r\n                                    required\r\n                                    placeholder='Your Name*'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                />\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-envelope inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                <input\r\n                                    name=\"email\"\r\n                                    value={email}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.email = el}\r\n                                    required\r\n                                    placeholder='Email'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"cell\"\r\n                                    value={cell}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.cell = el}\r\n                                    required\r\n                                    placeholder='Phone'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"address\"\r\n                                    value={address}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.address = el}\r\n                                    required\r\n                                    placeholder='Address'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-id-card inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                <input\r\n                                    name=\"cnic\"\r\n                                    value={cnic}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.cnic = el}\r\n                                    pattern=\"^[0-9]{13}\"\r\n                                    required\r\n                                    placeholder='CNIC'\r\n                                    maxLength='13'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                />\r\n                                <p className='invalid-feedback'> <small className='pl-3 m-0'>CNIC must follow the '0000000000000' format !</small></p>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Business Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Your presence in business</h3>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                <input\r\n                                    name=\"shopName\"\r\n                                    value={shopName}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopName = el}\r\n                                    required\r\n                                    placeholder='Shop Name'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"shopAddress\"\r\n                                    value={shopAddress}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopAddress = el}\r\n                                    required\r\n                                    placeholder='Shop Address'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                <input\r\n                                    name=\"shopCell\"\r\n                                    value={shopCell}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopCell = el}\r\n                                    required\r\n                                    placeholder='Shop Phone'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous\" value=\"Back\" />\r\n                                <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Bank Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Fill in your bank account details</h3>\r\n                            <div className='my-3'>\r\n                                <MyOwnSelect\r\n                                    options={bankOptions}\r\n                                    handleChange={this.handleSelectChange}\r\n                                    placeHolder={'Bank Name*'}\r\n                                    selectedValue={bankName}\r\n                                    iconClass={'fa fa-university'}\r\n                                    required={true}\r\n                                    isMulti={false}\r\n                                />\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                <input\r\n                                    name=\"branchName\"\r\n                                    value={branchName}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.branchName = el}\r\n                                    required\r\n                                    placeholder='Branch Name'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                <input\r\n                                    name=\"branchCode\"\r\n                                    value={branchCode}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"number\"\r\n                                    ref={el => this.branchCode = el}\r\n                                    required\r\n                                    placeholder='Branch Code'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-book inputIcon\"></i>\r\n                                <input\r\n                                    name=\"accountTitle\"\r\n                                    value={accountTitle}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.accountTitle = el}\r\n                                    required\r\n                                    placeholder='A/C Title'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                <input\r\n                                    name=\"accountNumber\"\r\n                                    value={accountNumber}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"number\"\r\n                                    ref={el => this.accountNumber = el}\r\n                                    required\r\n                                    placeholder='A/C #'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='mt-3 '>\r\n                                <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                <input\r\n                                    name=\"ibanNumber\"\r\n                                    value={ibanNumber}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.ibanNumber = el}\r\n                                    required\r\n                                    placeholder='IBAN #'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='text-center'>\r\n                                <label ref='signUpLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous mb-0\" value=\"Back\" />\r\n                                <input type=\"submit\" name=\"submit\" className=\"submit action-button mb-0\" value=\"Submit\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                    </form>\r\n                </MDBCol>\r\n                <WelcomeVendorModal\r\n                    vendor={vendor}\r\n                    ref='welcomeVendorModal'\r\n                    {...this.props}\r\n                />\r\n            </MDBRow>\r\n        )\r\n    }\r\n}\r\nexport default SignUp;","import React, { Component } from 'react';\r\nimport SignUp from './pages/SignUp';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\n\r\nclass SecuredSignupVendor extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        if (this.loggedIn === true) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <SignUp {...this.props} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredSignupVendor","import React from \"react\";\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditVendor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.vendorId = Number(params.get('vendor'))\r\n        let vendorToBeEdited = props.allData.allUsers.filter(user => user.id === this.vendorId).shift()\r\n\r\n        this.state = {\r\n            name: vendorToBeEdited && vendorToBeEdited.name,\r\n            email: vendorToBeEdited && vendorToBeEdited.email,\r\n            cell: vendorToBeEdited && vendorToBeEdited.cell,\r\n            address: vendorToBeEdited && vendorToBeEdited.address,\r\n            cnic: vendorToBeEdited && vendorToBeEdited.cnic,\r\n            shopName: vendorToBeEdited && vendorToBeEdited.shop_name,\r\n            shopAddress: vendorToBeEdited && vendorToBeEdited.shop_address,\r\n            shopCell: vendorToBeEdited && vendorToBeEdited.shop_cell,\r\n            bankName: vendorToBeEdited && { key: Math.random(), label: vendorToBeEdited.bank_name.toUpperCase(), value: vendorToBeEdited.bank_name },\r\n            branchName: vendorToBeEdited && vendorToBeEdited.branch_name,\r\n            branchCode: vendorToBeEdited && vendorToBeEdited.branch_code,\r\n            accountTitle: vendorToBeEdited && vendorToBeEdited.account_title,\r\n            accountNumber: vendorToBeEdited && vendorToBeEdited.account_id,\r\n            ibanNumber: vendorToBeEdited && vendorToBeEdited.iban_id,\r\n            username: vendorToBeEdited && vendorToBeEdited.username,\r\n            password: vendorToBeEdited && vendorToBeEdited.password,\r\n            vendor: '',\r\n        }\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleNextButtonClick = (e) => {\r\n\r\n        let current_fs, next_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        next_fs = current_fs.nextElementSibling;\r\n\r\n        let indexOFnext_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === next_fs) {\r\n                indexOFnext_fs = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        //activate next step on progressbar using the index of next_fs\r\n        progressBar.childNodes[indexOFnext_fs].classList.add(\"active\");\r\n        //show the next fieldset\r\n        next_fs.style.display = 'block';\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none';\r\n\r\n    }\r\n\r\n    handlePreviousButtonClick = (e) => {\r\n        let current_fs, previous_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        previous_fs = current_fs.previousElementSibling;\r\n\r\n        let indexOFcurrent_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === current_fs) {\r\n                indexOFcurrent_fs = i;\r\n                break;\r\n            }\r\n        }\r\n        //de-activate current step on progressbar\r\n        progressBar.childNodes[indexOFcurrent_fs].classList.remove(\"active\");\r\n        //show the previous fieldset\r\n        previous_fs.style.display = 'block';\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n        let form = this.editVendorForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return\r\n        }\r\n        else if (this.state.bankName === '' || this.state.bankName === null) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode,\r\n                accountTitle, accountNumber, ibanNumber, roleId, username, password } = this.state\r\n\r\n            let updatedVendor = {\r\n                id: this.vendorId, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber\r\n            }\r\n\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedVendor),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        let vendor = json.data\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            vendor: vendor\r\n                        })\r\n                        window.location.reload()\r\n                        // this.refs.welcomeVendorModal.setState({ modalShow: true })\r\n                        // console.log(vendor);\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    onChangeLabel = () => {\r\n        this.refs.signUpLabel.innerHTML = ''\r\n    }\r\n\r\n\r\n    render() {\r\n        let { name, email, cell, address, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle,\r\n            accountNumber, ibanNumber, password } = this.state\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'hbl',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'mcb',\r\n            color: '#687722'\r\n        },];\r\n\r\n\r\n        return (\r\n            <Can I='edit' a='vendor'>\r\n                <MDBRow center className='mt-2 p-0'>\r\n                    <MDBCol xl='6' lg='8' md='8' sm='10' xs='12' className='p-0 offset-xl-2 offset-lg-2'>\r\n                        <form id=\"msform\" ref={el => this.editVendorForm = el} className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            {/* <!-- progressbar --> */}\r\n                            <ul id=\"progressbar\" className='fontRaleway text-center'>\r\n                                <li className=\"active\">Personal Details</li>\r\n                                <li>Business Details</li>\r\n                                <li>Bank Details</li>\r\n                            </ul>\r\n\r\n                            {/* <!-- fieldsets --> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Personal Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Tell us something about you</h3>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-user-tie inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Your Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        disabled\r\n                                        placeholder='Email'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        required\r\n                                        placeholder='Phone'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        required\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-lock inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Your Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <p className='colorBlue'> <small className='pl-3 m-0'>You can change your password here.</small></p>\r\n\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Business Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Your presence in business</h3>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                    <input\r\n                                        name=\"shopName\"\r\n                                        value={shopName}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopName = el}\r\n                                        required\r\n                                        placeholder='Shop Name'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"shopAddress\"\r\n                                        value={shopAddress}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopAddress = el}\r\n                                        required\r\n                                        placeholder='Shop Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                    <input\r\n                                        name=\"shopCell\"\r\n                                        value={shopCell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopCell = el}\r\n                                        required\r\n                                        placeholder='Shop Phone'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous\" value=\"Back\" />\r\n                                    <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Bank Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Fill in your bank account details</h3>\r\n                                <div className='my-3'>\r\n                                    <MyOwnSelect\r\n                                        options={bankOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Bank Name*'}\r\n                                        selectedValue={bankName}\r\n                                        iconClass={'fa fa-university'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"branchName\"\r\n                                        value={branchName}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.branchName = el}\r\n                                        required\r\n                                        placeholder='Branch Name'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"branchCode\"\r\n                                        value={branchCode}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"number\"\r\n                                        ref={el => this.branchCode = el}\r\n                                        required\r\n                                        placeholder='Branch Code'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-book inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"accountTitle\"\r\n                                        value={accountTitle}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.accountTitle = el}\r\n                                        required\r\n                                        placeholder='A/C Title'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"accountNumber\"\r\n                                        value={accountNumber}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"number\"\r\n                                        ref={el => this.accountNumber = el}\r\n                                        required\r\n                                        placeholder='A/C #'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='mt-3 '>\r\n                                    <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                    <input\r\n                                        name=\"ibanNumber\"\r\n                                        value={ibanNumber}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.ibanNumber = el}\r\n                                        required\r\n                                        placeholder='IBAN #'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <label ref='signUpLabel' className='m-0 p-0' style={{ fontFamily: 'monospace', color: 'red' }}></label><br />\r\n                                    <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous mb-0\" value=\"Back\" />\r\n                                    <input type=\"submit\" name=\"submit\" className=\"submit action-button mb-0\" value=\"Submit\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n            </Can>\r\n        )\r\n    }\r\n}\r\nexport default EditVendor;","import React, { Component } from 'react';\r\nimport EditVendor from './pages/EditVendor';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\n\r\nclass SecuredEditVendor extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='vendor'><EditVendor {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditVendor","import React, { Component } from 'react';\r\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBIcon } from\r\n    'mdbreact';\r\n\r\nclass DeleteModal extends Component {\r\n    state = {\r\n        modalShow: false,\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow,\r\n\r\n        });\r\n    }\r\n\r\n    deleteEntry = () => {\r\n        this.props.deleteEntry();\r\n        this.toggle();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MDBContainer>\r\n                <MDBModal modalStyle=\"danger\" className=\"text-white\" size=\"md\" centered backdrop={true} isOpen={this.state.modalShow}\r\n                    toggle={this.toggle}>\r\n                    <MDBModalHeader className=\"text-center\" titleClass=\"w-100\" tag=\"p\" toggle={this.toggle}>\r\n                        <b>\r\n                            Are you sure?\r\n                        </b><br></br>\r\n                        Record will be deleted permanently.\r\n                    </MDBModalHeader>\r\n                    <MDBModalBody className=\"text-center\">\r\n                        <MDBIcon icon=\"times\" size=\"6x\" className=\"animated rotateIn\" />\r\n                    </MDBModalBody>\r\n                    <MDBModalFooter className=\"justify-content-center\">\r\n                        <MDBBtn color=\"danger\" onClick={this.deleteEntry}>Yes</MDBBtn>\r\n                        <MDBBtn color=\"danger\" outline onClick={this.toggle}>No</MDBBtn>\r\n                    </MDBModalFooter>\r\n                </MDBModal>\r\n            </MDBContainer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteModal;","import React, { Component } from 'react';\r\nimport { MDBDataTable, MDBCard, MDBCardHeader, MDBCardBody, MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from './DeleteModal'\r\nimport { Can } from \"../../../configs/Ability-context\";\r\n\r\nclass MyOwnListing extends Component {\r\n\r\n\r\n    render() {\r\n        let { cardHeading, permissionEntity, redirectToNewEntityPath, addButtonEntityLabel, tableId, data } = this.props\r\n        let btnStyle = { fontSize: '17px', borderRadius: '4px', color: 'white' }\r\n\r\n        return (\r\n            <MDBCard style={{ marginTop: '50px', borderRadius: '15px' }}>\r\n                <MDBCardHeader tag=\"h3\" className=\"text-center text-white font-weight-bold backGround-green\"\r\n                    style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\r\n                    {cardHeading}\r\n                </MDBCardHeader>\r\n                <MDBCardBody>\r\n                    {permissionEntity !== 'vendor' && permissionEntity !== 'inventoryHistories' && permissionEntity !== 'orderDetail' && permissionEntity !== 'invoiceDetail' &&\r\n                        < Can I='create' a={permissionEntity}>\r\n                            {/* two buttons used to make it responsive */}\r\n                            <div className='row justify-content-center d-md-none'>\r\n                                <button style={btnStyle} onClick={redirectToNewEntityPath} className='btn py-1 px-2 font-weight-bold backGround-blue borderBlue'>\r\n                                    Add New {addButtonEntityLabel}\r\n                                </button>\r\n                            </div>\r\n                            <div className='row justify-content-end d-none d-md-flex no-gutters'>\r\n                                <button style={btnStyle} onClick={redirectToNewEntityPath} className='btn py-1 px-2 font-weight-bold backGround-blue borderBlue'>\r\n                                    Add New {addButtonEntityLabel}\r\n                                </button>\r\n                            </div>\r\n                        </Can>\r\n                    }\r\n                    <MDBDataTable id={tableId} small hover entriesLabel=\"Show\"\r\n                        bordered searchLabel=\"\" entries={12} entriesOptions={[5, 10, 20, 35, 55, 70, 100, 135]} responsive\r\n                        data={data} theadTextWhite >\r\n                    </MDBDataTable>\r\n                </MDBCardBody>\r\n            </MDBCard >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MyOwnListing","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllPersons extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            allUsers: props.allData.allUsers,\r\n            rowToBeDeleted: '',\r\n            personToBeDeleted: '',\r\n            allRoles: props.allData.allRoles,\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n\r\n        this.props.allPersons === 'Users' &&\r\n            this.props.history.push({ pathname: \"/users/edit\", search: `user=${id}` })\r\n        this.props.allPersons === 'Vendors' &&\r\n            this.props.history.push({ pathname: \"/vendors/edit\", search: `vendor=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.allPersons === 'Users' &&\r\n            this.props.history.push('/users/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            personToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deletePerson = () => {\r\n        let { rowToBeDeleted, personToBeDeleted } = this.state\r\n        // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n        let deletePerson = { value: personToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deletePerson),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteUser', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json)\r\n                if (json.success) {\r\n                    document.getElementById('allPersonsTable').deleteRow(rowToBeDeleted)\r\n                    // let userId = json.data.id\r\n                    // if (userRole === 'driver') {\r\n                    //     let driver = { driver_id: userId }\r\n                    //     let deleteRouteOptions = {\r\n                    //         method: 'DELETE',\r\n                    //         body: JSON.stringify(driver),\r\n                    //         headers: { 'Content-Type': 'application/json' }\r\n                    //     }\r\n                    //     fetch('/deleteDriverRoutes', deleteRouteOptions)\r\n                    //         .then((res) => res.json())\r\n                    //         .then((json) => {\r\n                    //             // console.log(json)\r\n                    //         })\r\n                    //         .catch((error) => console.log(error))\r\n                    // }\r\n                }\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n    render() {\r\n        let { allUsers, allRoles } = this.state, rows = [], data, index = 0, { allPersons } = this.props,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        switch (allPersons) {\r\n            case 'Users':\r\n                allUsers && allUsers.forEach((user) => {\r\n                    index = index + 1;\r\n                    let currentRole;\r\n                    if (allRoles) {\r\n                        allRoles.forEach(role => {\r\n                            if (role.id === user.role_id) {\r\n                                currentRole = role.name\r\n                            }\r\n                        });\r\n                    }\r\n                    rows.push(\r\n                        {\r\n                            index: index,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            cell: user.cell,\r\n                            address: user.address,\r\n                            username: currentRole === 'super_admin' ? 'superAdmin' : user.username,\r\n                            // password: user.password,\r\n                            role: currentRole,\r\n                            buttons: <React.Fragment>\r\n                                <Can I='update' a={currentRole === 'super_admin' ? 'superAdmin' : 'user'}>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(user.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                                <Can I='delete' a={currentRole === 'super_admin' ? 'superAdmin' : 'user'}>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(user.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"trash iconRed\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                            </React.Fragment>\r\n                        }\r\n                    );\r\n                });\r\n                data = {\r\n                    columns: [\r\n                        { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                        { label: 'Email', field: 'email', }, { label: 'Cell', field: 'cell', },\r\n                        { label: 'Address', field: 'address', }, { label: 'Username', field: 'username', },\r\n                        { label: 'Role', field: 'role', }, { label: 'Action', field: 'buttons' }\r\n                    ],\r\n                    rows: rows\r\n                }\r\n                break;\r\n            case 'Vendors':\r\n                let roleId;\r\n                if (allRoles) {\r\n                    allRoles.forEach(role => {\r\n                        if (role.name === 'vendor') {\r\n                            roleId = role.id\r\n                        }\r\n                    })\r\n                }\r\n                let allVendors = allUsers && allUsers.filter(user => user.role_id === roleId)\r\n                allVendors.forEach((vendor) => {\r\n                    index = index + 1;\r\n                    rows.push(\r\n                        {\r\n                            index: index,\r\n                            name: vendor.name,\r\n                            email: vendor.email,\r\n                            cell: vendor.cell,\r\n                            address: vendor.address,\r\n                            cnic: vendor.cnic,\r\n                            shopName: vendor.shop_name,\r\n                            shopAddress: vendor.shop_address,\r\n                            shopCell: vendor.shop_cell,\r\n                            bankName: vendor.bank_name,\r\n                            branchName: vendor.branch_name,\r\n                            branchCode: vendor.branch_code,\r\n                            accountTitle: vendor.account_title,\r\n                            accountNo: vendor.account_id,\r\n                            ibanNo: vendor.iban_id,\r\n                            username: vendor.username,\r\n                            // password: user.password,\r\n                            buttons: <React.Fragment>\r\n                                {/* <Can I='read' a='driverInventories'>\r\n                                    <MDBBtn style={{ fontSize: '15px' }} onClick={this.handleViewInventory(driver.id)} className='m-1 py-1 px-2' outline color='secondary' size=\"sm\"><MDBIcon icon=\"boxes\" /></MDBBtn>\r\n                                </Can> */}\r\n                                <Can I='update' a='vendor'>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(vendor.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                                <Can I='delete' a='vendor'>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(vendor.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"trash iconRed\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                            </React.Fragment>\r\n                        }\r\n                    );\r\n                });\r\n                data = {\r\n                    columns: [\r\n                        { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'Email', field: 'email', }, { label: 'Cell', field: 'cell', },\r\n                        { label: 'Address', field: 'address', }, { label: 'CNIC', field: 'cnic', }, { label: 'Shop', field: 'shopName' },\r\n                        { label: 'Shop-Address', field: 'shopAddress', }, { label: 'Shop-Phone', field: 'shopCell', }, { label: 'Bank', field: 'bankName', },\r\n                        { label: 'Branch', field: 'branchName' }, { label: 'Br. Code', field: 'branchCode', }, { label: 'A/C Title', field: 'accountTitle', },\r\n                        { label: 'A/C #', field: 'accountNo', }, { label: 'IBAN', field: 'ibanNo', }, { label: 'Username', field: 'username', },\r\n                        { label: 'Action', field: 'buttons' }\r\n                    ],\r\n                    rows: rows\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n\r\n        return (\r\n            <Can I='read' a={allPersons === 'Users' ? 'user' : 'vendor'}>\r\n                <MyOwnListing\r\n                    cardHeading={allPersons}\r\n                    permissionEntity={allPersons === 'Users' ? 'user' : 'vendor'}\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel={allPersons === 'Users' ? 'User' : ''}\r\n                    tableId='allPersonsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deletePerson}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllPersons","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport AllPersons from '../../misc/pages/AllPersons';\r\n\r\n\r\nconst AllVendors = ({ ...props }) => {\r\n\r\n    return (\r\n        <Can I='read' a='vendor'>\r\n            <AllPersons allPersons={'Vendors'} {...props} />\r\n        </Can>\r\n    );\r\n}\r\n\r\n\r\nexport default AllVendors","import React, { Component } from 'react';\r\nimport AllVendors from './pages/AllVendors';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllVendors extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='vendor'> <AllVendors {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllVendors","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredSignupVendor from './SecuredSignupVendor';\r\nimport SecuredEditVendor from './SecuredEditVendor';\r\nimport SecuredAllVendors from './SecuredAllVendors';\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\nconst Vendors = ({ allData }) => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/vendors/signup\" render={(routeProps) => <SecuredSignupVendor {...routeProps} allData={allData} />} />\r\n            <Route path=\"/vendors/edit\" render={() => <SecuredEditVendor allData={allData} />} />\r\n            <Route path=\"/vendors/all\" render={(routeProps) => <SecuredAllVendors {...routeProps} allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default Vendors","import React from 'react';\r\n// import { Can } from '../../../configs/Ability-context'\r\nimport { MDBNavLink } from 'mdbreact';\r\n\r\n\r\n\r\nconst Home = () => {\r\n\r\n    return (\r\n        < React.Fragment >\r\n            {/* {displaySidebar()} */}\r\n            {/* <MDBNavLink to='/users/permissions/new'>Create Permission</MDBNavLink> */}\r\n            <MDBNavLink to='/users/roles/new'>Create Role</MDBNavLink>\r\n            <MDBNavLink to='/users/new'>Create User</MDBNavLink>\r\n            <MDBNavLink to='/products/brands/new'>Create Brand</MDBNavLink>\r\n            <MDBNavLink to='/products/categories/new'>Create Product-Category</MDBNavLink>\r\n            <MDBNavLink to='/products/new'>Create Product</MDBNavLink>\r\n            <MDBNavLink to='/inventories/update'>Update Inventory</MDBNavLink>\r\n            <MDBNavLink to={{ pathname: \"/orders/new\", search: `type=sale` }}>Create Sale</MDBNavLink>\r\n            <MDBNavLink to='/orders/all'>All Order</MDBNavLink>\r\n            <MDBNavLink to='/orders/order_details'>All Order-Details</MDBNavLink>\r\n\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default Home","import React, { Component } from 'react';\r\nimport Home from './pages/Home';\r\nimport { Redirect } from 'react-router'\r\n\r\n\r\nclass SecuredHome extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            \r\n            return <Home allData={this.props.allData} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredHome","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass NewUser extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            username: '',\r\n            password: '',\r\n            selectedRole: '',\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedRole: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newUserForm\r\n        if (!this.state.selectedRole) {\r\n            this.setState({ selectedRole: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { selectedRole, name, email, cell, address, username, password } = this.state\r\n            let newUser = { roleId: selectedRole.value, name: name, email: email, cell: cell, address: address, username: username, password: password }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newUser),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            username: '',\r\n                            password: '',\r\n                            selectedRole: '',\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.username.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, email, cell, address, username, password, selectedRole } = this.state\r\n        let { allData } = this.props\r\n\r\n\r\n        // let roleOptions = allData.allRoles && allData.allRoles.map(role => (role.name.toLowerCase() !== 'vendor' && {\r\n        //     key: role.id,\r\n        //     label: role.name,\r\n        //     value: role.id,\r\n        //     color: role.id % 2 === 0 ?\r\n        //         '#112648' : '#687722'\r\n        // }));\r\n\r\n        return (\r\n            <Can I='create' a='user' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'\r\n                    //  className=' offset-xl-2 offset-lg-3 offset-md-3'\r\n                     >\r\n                        <form ref='newUserForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New User</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={roleOptions}\r\n                                        Entities={allData.allRoles}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Role..*'}\r\n                                        selectedValue={selectedRole}\r\n                                        iconClass={'fa fa-user-tag'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                        isOptionDisabled={(option) => option.label.toLowerCase() === 'vendor'}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"email\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        placeholder='Cell'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-user inputIcon\" />\r\n                                    <input\r\n                                        name=\"username\"\r\n                                        value={username}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.username = el}\r\n                                        required\r\n                                        placeholder='Username'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-lock inputIcon\" />\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewUser","import React, { Component } from 'react';\r\nimport NewUser from './pages/NewUser';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewUser extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='user'><NewUser allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewUser","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport AllPersons from '../../misc/pages/AllPersons';\r\n\r\n\r\nconst AllUsers = ({ ...props }) => {\r\n    return (\r\n        <Can I='read' a='user'>\r\n            <AllPersons allPersons={'Users'} {...props} />\r\n        </Can>\r\n    );\r\n}\r\n\r\n\r\nexport default AllUsers","import React, { Component } from 'react';\r\nimport AllUsers from './pages/AllUsers';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllUsers extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='user'> <AllUsers {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllUsers","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditUser extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.userId = Number(params.get('user'))\r\n        let userToBeEdited = allData.allUsers && allData.allUsers.filter(user => user.id === this.userId).shift(),\r\n            roleToBeEdited = userToBeEdited && allData.allRoles && allData.allRoles.filter(role => role.id === userToBeEdited.role_id).shift()\r\n        // console.log(userToBeEdited);\r\n\r\n        this.selectedRole = roleToBeEdited && {\r\n            key: roleToBeEdited.id,\r\n            label: roleToBeEdited.name,\r\n            value: roleToBeEdited.id,\r\n            color: roleToBeEdited.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }\r\n        this.selectedBankName = roleToBeEdited && roleToBeEdited.name === 'vendor' && {\r\n            key: userToBeEdited.id,\r\n            label: userToBeEdited.bank_name,\r\n            value: userToBeEdited.bank_name,\r\n            color: userToBeEdited.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }\r\n        this.state = {\r\n            name: userToBeEdited && userToBeEdited.name,\r\n            email: userToBeEdited && userToBeEdited.email,\r\n            cell: userToBeEdited && userToBeEdited.cell,\r\n            address: userToBeEdited && userToBeEdited.address,\r\n            username: userToBeEdited && userToBeEdited.username,\r\n            password: userToBeEdited && userToBeEdited.password,\r\n            // allRoles: props.allData.allRoles,\r\n            selectedRole: '',\r\n            cnic: roleToBeEdited.name === 'vendor' ? userToBeEdited.cnic : '',\r\n            shopName: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_name : '',\r\n            shopAddress: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_address : '',\r\n            shopCell: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_cell : '',\r\n            bankName: '',\r\n            branchName: roleToBeEdited.name === 'vendor' ? userToBeEdited.branch_name : '',\r\n            branchCode: roleToBeEdited.name === 'vendor' ? userToBeEdited.branch_code : '',\r\n            accountTitle: roleToBeEdited.name === 'vendor' ? userToBeEdited.account_title : '',\r\n            accountNumber: roleToBeEdited.name === 'vendor' ? userToBeEdited.account_id : '',\r\n            ibanNumber: roleToBeEdited.name === 'vendor' ? userToBeEdited.iban_id : '',\r\n            notificationMessage: '',\r\n            notificationShow: false,\r\n            editingVendor: false,\r\n            retailPricePercent: roleToBeEdited.name === 'vendor' ? userToBeEdited.retail_price_percent : '',\r\n            costPricePercent: roleToBeEdited.name === 'vendor' ? userToBeEdited.cost_price_percent : '',\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleRoleChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedRole: selectedOption,\r\n            editingVendor: selectedOption.label.toLowerCase() === 'vendor' ? true : false\r\n        })\r\n    }\r\n\r\n    handleBankNameChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRoleChange(this.selectedRole)\r\n        this.setState({ bankName: this.selectedBankName })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editUserForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedRole) {\r\n            this.setState({ selectedRole: null })\r\n            return\r\n        }\r\n        else if (this.state.editingVendor && !this.state.bankName) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let {\r\n                selectedRole, name, email, cell, address, username, password, cnic, shopName, shopCell, shopAddress, bankName,\r\n                branchName, branchCode, accountNumber, accountTitle, ibanNumber, editingVendor, costPricePercent, retailPricePercent\r\n            } = this.state\r\n            let updatedVendor = {\r\n                id: this.userId, name: name, email: email, cell: cell, address: address, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber, username: username, costPricePercent: Number(costPricePercent),\r\n                retailPricePercent: Number(retailPricePercent)\r\n            },\r\n                updatedUser = {\r\n                    id: this.userId, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                    cnic: null, shopName: null, shopAddress: null, shopCell: null, bankName: null, branchName: null, branchCode: null,\r\n                    accountTitle: null, accountNumber: null, ibanNumber: null, roleId: selectedRole.value\r\n                }\r\n\r\n            let options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(editingVendor ? updatedVendor : updatedUser),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            username: '',\r\n                            password: '',\r\n                            selectedRole: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            retailPricePercent: '',\r\n                            costPricePercent: ''\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.username.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { selectedRole, name, email, cell, address, username, password, cnic, shopName, shopCell, shopAddress, bankName,\r\n            branchName, branchCode, accountNumber, accountTitle, ibanNumber, editingVendor, costPricePercent, retailPricePercent } = this.state\r\n        let { allData } = this.props\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'HBL',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'MCB',\r\n            color: '#687722'\r\n        },];\r\n\r\n        return (\r\n            <Can I='update' a='user' >\r\n                {/* <MDBCol > */}\r\n                <form ref='editUserForm' className='mb-4 mt-4 p-0' onSubmit={this.handleSubmit} noValidate>\r\n                    <MDBRow center >\r\n                        <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                            <fieldset className='w-100 pb-0'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit User</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={roleOptions}\r\n                                        Entities={allData.allRoles}\r\n                                        handleChange={this.handleRoleChange}\r\n                                        placeHolder={'Select Role..*'}\r\n                                        selectedValue={selectedRole}\r\n                                        iconClass={'fa fa-user-tag'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                        isOptionDisabled={(option) => option.label.toLowerCase() === 'vendor'}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"email\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        placeholder='Cell'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {!editingVendor ?\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-user inputIcon\" />\r\n                                        <input\r\n                                            name=\"username\"\r\n                                            value={username}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.username = el}\r\n                                            required\r\n                                            placeholder='Username'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        />\r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-lock inputIcon\" />\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {editingVendor ?\r\n                                    <>\r\n                                        <div className='mb-2'>\r\n                                            <i className=\"fa fa-id-card inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                            <input\r\n                                                name=\"cnic\"\r\n                                                value={cnic}\r\n                                                onInput={this.handleInput}\r\n                                                type=\"text\"\r\n                                                onChange={() => { }}\r\n                                                ref={el => this.cnic = el}\r\n                                                pattern=\"^[0-9]{13}\"\r\n                                                required\r\n                                                placeholder='CNIC'\r\n                                                maxLength='13'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            />\r\n                                            <p className='invalid-feedback'> <small className='pl-3 m-0'>CNIC must follow the '0000000000000' format !</small></p>\r\n                                        </div>\r\n                                        <div className='mb-2'>\r\n                                            <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                            <input\r\n                                                name=\"shopName\"\r\n                                                value={shopName}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={() => { }}\r\n                                                type=\"text\"\r\n                                                ref={el => this.shopName = el}\r\n                                                required\r\n                                                placeholder='Shop Name'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            >\r\n                                            </input>\r\n                                        </div>\r\n                                        <div className='m-0'>\r\n                                            <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                            <input\r\n                                                name=\"shopAddress\"\r\n                                                value={shopAddress}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={() => { }}\r\n                                                type=\"text\"\r\n                                                ref={el => this.shopAddress = el}\r\n                                                required\r\n                                                placeholder='Shop Address'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            >\r\n                                            </input>\r\n                                        </div>\r\n                                        <div className='mb-2 pb-1'>\r\n                                            <h3 className='font-weight-bold colorBlue text-right m-0 p-0'>....</h3>\r\n                                        </div>\r\n                                    </>\r\n                                    : null\r\n                                }\r\n                                {!editingVendor ?\r\n                                    <div className='text-center'>\r\n                                        <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                            </fieldset>\r\n                        </MDBCol>\r\n                        {editingVendor ?\r\n                            <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                                <fieldset className='w-100 pb-2 pt-0' >\r\n                                    <div className='mt-1 mb-3 p-0'>\r\n                                        <h3 className='font-weight-bold colorBlue text-left m-0'>....</h3>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                        <input\r\n                                            name=\"shopCell\"\r\n                                            value={shopCell}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.shopCell = el}\r\n                                            required\r\n                                            placeholder='Shop Phone'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <MyOwnSelect\r\n                                            options={bankOptions}\r\n                                            handleChange={this.handleBankNameChange}\r\n                                            placeHolder={'Bank Name*'}\r\n                                            selectedValue={bankName}\r\n                                            iconClass={'fa fa-university'}\r\n                                            required={true}\r\n                                            isMulti={false}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"branchName\"\r\n                                            value={branchName}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.branchName = el}\r\n                                            required\r\n                                            placeholder='Branch Name'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"branchCode\"\r\n                                            value={branchCode}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"number\"\r\n                                            ref={el => this.branchCode = el}\r\n                                            required\r\n                                            placeholder='Branch Code'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-book inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"accountTitle\"\r\n                                            value={accountTitle}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.accountTitle = el}\r\n                                            required\r\n                                            placeholder='A/C Title'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"accountNumber\"\r\n                                            value={accountNumber}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"number\"\r\n                                            ref={el => this.accountNumber = el}\r\n                                            required\r\n                                            placeholder='A/C #'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"ibanNumber\"\r\n                                            value={ibanNumber}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.ibanNumber = el}\r\n                                            required\r\n                                            placeholder='IBAN #'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-percentage inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"retailPricePercent\"\r\n                                            value={retailPricePercent}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                            type=\"number\"\r\n                                            ref={el => this.retailPricePercent = el}\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            placeholder='Retail-Price %'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-percentage inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"costPricePercent\"\r\n                                            value={costPricePercent}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                            type=\"number\"\r\n                                            ref={el => this.costPricePercent = el}\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            placeholder='Cost-Price %'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='text-center mb-0'>\r\n                                        <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                    </div>\r\n                                </fieldset>\r\n                            </MDBCol>\r\n                            : null}\r\n                    </MDBRow>\r\n                </form>\r\n                {/* {\r\n                        this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                        <Notification\r\n                        message={this.state.notificationMessage}\r\n                        icon={\"bell\"}\r\n                        />\r\n                        </MDBAnimation>\r\n                        : null\r\n                    } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditUser","import React, { Component } from 'react';\r\nimport EditUser from './pages/EditUser';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditUser extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='user'><EditUser allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditUser","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n// import Notification from '../../misc/sections/Notification';\r\nimport { Can } from '../../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\n\r\nclass NewRole extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            // allPermissions: props.allData.allPermissions,\r\n            selectedPermissions: [],\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedPermissions: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.newRoleForm\r\n\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedPermissions || this.state.selectedPermissions.length === 0) {\r\n            this.setState({ selectedPermissions: null })\r\n            return\r\n        }\r\n        else {\r\n            let { name, selectedPermissions } = this.state\r\n\r\n            let newRole = { name: name.toLowerCase() }\r\n            let options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newRole),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewRole', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true });\r\n                    if (json.success) {\r\n                        let RolePermissions = [], roleId = json.data.id;\r\n                        selectedPermissions.forEach(permission => {\r\n                            let permissionId = permission.value\r\n                            RolePermissions.push({ role_id: roleId, permission_id: permissionId })\r\n                        })\r\n                        let rolePermissions = { RolePermissions: RolePermissions }\r\n                        var options = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(rolePermissions),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewRolePermissions', options)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                                this.setState({\r\n                                    name: '',\r\n                                    selectedPermissions: []\r\n                                })\r\n                                window.location.reload();\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, selectedPermissions } = this.state\r\n        let { allData } = this.props\r\n        let permissionOptions = allData.allPermissions && allData.allPermissions.map(permission => ({\r\n            key: permission.id,\r\n            label: permission.slug,\r\n            value: permission.id,\r\n            color: permission.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n        return (\r\n            <Can I='create' a='role' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newRoleForm' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-5 text-center\">New Role</h2>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. admin</small></p>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={permissionOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Permissions..'}\r\n                                        selectedValue={selectedPermissions}\r\n                                        iconClass={'fa fa-exclamation-circle'}\r\n                                        required={true}\r\n                                        isMulti={true}\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" name=\"next\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewRole","import React, { Component } from 'react';\r\nimport NewRole from './pages/NewRole';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewRole extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n        if (this.loggedIn === false) {\r\n\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='role'>\r\n                <NewRole allData={allData} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewRole","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\n\r\n\r\nclass AllRoles extends Component {\r\n    _isMounted = false\r\n    constructor() {\r\n        super();\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            rowToBeDeleted: '',\r\n            roleToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/users/roles/edit\", search: `role=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/users/roles/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            roleToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteRole = () => {\r\n        let { rowToBeDeleted, roleToBeDeleted } = this.state\r\n        let deleteRole = { value: roleToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteRole),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteRole', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                if (json.success) {\r\n                    document.getElementById('allRolesTable').deleteRow(rowToBeDeleted)\r\n                    fetch('/deleteAllRolePermissions', options)\r\n                        .then(res => res.json())\r\n                        .then(json => {\r\n                            console.log(json);\r\n                        })\r\n                        .catch(err => console.log(err))\r\n                }\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allData } = this.props, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allData.allRoles && allData.allRoles.forEach((role) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: role.name,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='role'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(role.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='role'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(role.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='role'>\r\n                <MyOwnListing\r\n                    cardHeading={`Users' Roles`}\r\n                    permissionEntity='role'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Role'\r\n                    tableId='allRolesTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteRole}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllRoles","import React, { Component } from 'react';\r\nimport AllRoles from './pages/AllRoles';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllRoles extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='role'>\r\n                <AllRoles {...this.props} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllRoles","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n// import Notification from '../../misc/sections/Notification';\r\nimport { Can } from '../../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditRole extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.roleId = Number(params.get('role'))\r\n\r\n        let roleToBeEdited = allData.allRoles && allData.allRoles.filter(role => role.id === this.roleId).shift(),\r\n            thisRolesPermissions = allData.allRolePermissions && allData.allRolePermissions.filter(rolePermission => rolePermission.role_id === this.roleId),\r\n            permissionsToBeEdited = []\r\n\r\n        thisRolesPermissions && thisRolesPermissions.forEach(rolePermission => {\r\n            allData.allPermissions && allData.allPermissions.forEach(permission => {\r\n                if (permission.id === rolePermission.permission_id) {\r\n                    permissionsToBeEdited.push(permission);\r\n                }\r\n            })\r\n        })\r\n        // console.log(roleToBeEdited);\r\n        // console.log(permissionsToBeEdited);\r\n\r\n        this.state = {\r\n            name: roleToBeEdited && roleToBeEdited.name,\r\n            selectedPermissions: permissionsToBeEdited.map(permission => ({\r\n                key: permission.id,\r\n                label: permission.slug,\r\n                value: permission.id,\r\n                color: permission.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            })),\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedPermissions: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.editRoleForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedPermissions || this.state.selectedPermissions.length === 0) {\r\n            this.setState({ selectedPermissions: null })\r\n            return\r\n        }\r\n        else {\r\n            let { selectedPermissions } = this.state\r\n\r\n            let reqBody = { roleId: this.roleId }\r\n            let options = {\r\n                method: 'DELETE',\r\n                body: JSON.stringify(reqBody),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/deleteAllRolePermissions', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true });\r\n                    if (json.success) {\r\n                        let RolePermissions = [], roleId = this.roleId;\r\n                        selectedPermissions.forEach(permission => {\r\n                            let permissionId = permission.value\r\n                            RolePermissions.push({ role_id: roleId, permission_id: permissionId })\r\n                        })\r\n                        let rolePermissions = { RolePermissions: RolePermissions }\r\n                        var options = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(rolePermissions),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewRolePermissions', options)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                                this.setState({\r\n                                    name: '',\r\n                                    selectedPermissions: []\r\n                                })\r\n                                window.location.reload()\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, selectedPermissions } = this.state\r\n        let { allData } = this.props\r\n        let permissionOptions = allData.allPermissions && allData.allPermissions.map(permission => ({\r\n            key: permission.id,\r\n            label: permission.slug,\r\n            value: permission.id,\r\n            color: permission.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n        return (\r\n            <Can I='create' a='role' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editRoleForm' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-5 text-center\">Edit Role</h2>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        disabled\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. admin</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={permissionOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Permissions..'}\r\n                                        selectedValue={selectedPermissions}\r\n                                        iconClass={'fa fa-exclamation-circle'}\r\n                                        required={true}\r\n                                        isMulti={true}\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" name=\"next\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditRole","import React, { Component } from 'react';\r\nimport EditRole from './pages/EditRole';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditRole extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='role'>\r\n                <EditRole allData={allData} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditRole","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewRole from './SecuredNewRole';\r\nimport SecuredAllRoles from './SecuredAllRoles';\r\nimport SecuredEditRole from './SecuredEditRole';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst Roles = ({ allData }) => {\r\n\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/users/roles/new\" render={() => <SecuredNewRole allData={allData} />} />\r\n            <Route path=\"/users/roles/all\" render={(routeProps) => <SecuredAllRoles {...routeProps} allData={allData} />} />\r\n            <Route path=\"/users/roles/edit\" render={() => <SecuredEditRole allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Roles","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewUser from './SecuredNewUser';\r\nimport SecuredAllUsers from './SecuredAllUsers';\r\nimport SecuredEditUser from './SecuredEditUser';\r\nimport Roles from './roles/Roles'\r\n// import Permissions from './permissions/Permissions'\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\nconst Users = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/users/new\" render={() => <SecuredNewUser allData={allData} />} />\r\n            <Route path=\"/users/all\" render={(routeProps) => <SecuredAllUsers {...routeProps} allData={allData} />} />\r\n            <Route path=\"/users/edit\" render={() => <SecuredEditUser allData={allData} />} />\r\n            <Route path=\"/users/roles\" render={() => <Roles allData={allData} />} />\r\n            {/* <Route path=\"/users/permissions\" render={() => <Permissions allData={allData} />} /> */}\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Users","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass NewProdcut extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            sku: '',\r\n            bktId: '',\r\n            selectedBrand: '',\r\n            selectedCategory: '',\r\n            selectedVendor: '',\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedBrand, selectedCategory, selectedVendor } = this.state\r\n\r\n        e.preventDefault();\r\n        let form = this.refs.newProductForm\r\n\r\n        if (!selectedBrand) {\r\n            this.setState({ selectedBrand: null })\r\n            return\r\n        }\r\n        else if (!selectedCategory) {\r\n            this.setState({ selectedCategory: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, sku, bktId } = this.state\r\n            let newProduct = {\r\n                status: 'pending', brandId: selectedBrand.value, name: name, sku: sku,\r\n                bktId: bktId, categoryId: selectedCategory.value, vendorId: selectedVendor.value\r\n            }\r\n            console.log(newProduct);\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newProduct),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewProduct', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    json.success ?\r\n                        this.setState({\r\n                            name: '',\r\n                            sku: '',\r\n                            bktId: '',\r\n                            retailPrice: '',\r\n                            costPrice: '',\r\n                            selectedBrand: '',\r\n                            selectedCategory: '',\r\n                            selectedVendor: '',\r\n                        })\r\n                        :\r\n                        this.bktId.focus();\r\n\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, sku, bktId, selectedBrand, selectedCategory, selectedVendor } = this.state,\r\n            { allBrands, allProductCategories, allUsers, allRoles } = this.props.allData,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n\r\n        return (\r\n            <Can I='create' a='product' >\r\n                <MDBRow center className='mt-4 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='newProductForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Prodcut</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={brandOptions}\r\n                                        Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedBrand')}\r\n                                        placeHolder={'Select Brand..*'}\r\n                                        selectedValue={selectedBrand}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allProductCategories}\r\n                                        handleChange={this.handleSelectChange('selectedCategory')}\r\n                                        placeHolder={'Select Product-Category..*'}\r\n                                        selectedValue={selectedCategory}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-user-tie'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-search-dollar inputIcon\" />\r\n                                    <input\r\n                                        name=\"sku\"\r\n                                        value={sku}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.sku = el}\r\n                                        placeholder='SKU*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-link inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.bktId = el}\r\n                                        placeholder='Product-ID from bucket.pk*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center mt-2'>\r\n                                    <input type=\"submit\" className=\"mt-2 action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewProdcut","import React, { Component } from 'react';\r\nimport NewProduct from './pages/NewProduct';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewProduct extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='product'><NewProduct allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewProduct","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllProducts extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            rowToBeDeleted: '',\r\n            productToBeDeleted: '',\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/edit\", search: `product=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            productToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteProduct = () => {\r\n        let { rowToBeDeleted, productToBeDeleted } = this.state\r\n        // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n        let deleteProduct = { value: productToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteProduct),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteProduct', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                json.success && document.getElementById('allProductsTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n    render() {\r\n        let { allBrands, allProductCategories, allProducts, allUsers, allRoles } = this.props.allData, rows = [], data, index = 0,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId),\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        allProducts && allProducts.forEach((product) => {\r\n            index = index + 1;\r\n            let thisProductCategory, thisProductBrand, thisProductVendor\r\n            allProductCategories && allProductCategories.forEach(category => {\r\n                category.id === product.product_category_id && (thisProductCategory = category.name)\r\n            });\r\n            allBrands && allBrands.forEach(brand => {\r\n                brand.id === product.brand_id && (thisProductBrand = brand.name)\r\n            });\r\n            allVendors && allVendors.forEach(vendor => {\r\n                vendor.id === product.vendor_id && (thisProductVendor = vendor.name)\r\n            });\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    status: product.status,\r\n                    name: product.name,\r\n                    sku: product.sku,\r\n                    bktId: product.bkt_id,\r\n                    brand: thisProductBrand,\r\n                    category: thisProductCategory,\r\n                    vendor: thisProductVendor,\r\n                    retailPrice: product.retail_price,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='product'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='product'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n        data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Status', field: 'status' }, { label: 'Name', field: 'name' },\r\n                { label: 'SKU', field: 'sku', }, { label: 'Id. @ Bucket', field: 'bktId', },\r\n                { label: 'Brand', field: 'brand', }, { label: 'Product-Category', field: 'category', },\r\n                { label: 'Vendor', field: 'vendor', }, { label: 'Retail-Price', field: 'retailPrice', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <Can I='read' a='product'>\r\n                <MyOwnListing\r\n                    cardHeading={`Products`}\r\n                    permissionEntity='product'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Product'\r\n                    tableId='allProductsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllProducts","import React, { Component } from 'react';\r\nimport AllProducts from './pages/AllProducts';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredAllProducts extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='product'><AllProducts  {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllProducts","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditProduct extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.productId = Number(params.get('product'))\r\n        let productToBeEdited = props.allData.allProducts && props.allData.allProducts.filter(product => product.id === this.productId).shift(),\r\n            selectedCategory = productToBeEdited && allData.allProductCategories && allData.allProductCategories.filter(\r\n                category => category.id === productToBeEdited.product_category_id).shift(),\r\n            selectedBrand = productToBeEdited && allData.allBrands && allData.allBrands.filter(brand => brand.id === productToBeEdited.brand_id).shift(),\r\n            selectedVendor = productToBeEdited && allData.allUsers && allData.allUsers.filter(user => user.id === productToBeEdited.vendor_id).shift()\r\n        this.state = {\r\n            selectedStatus: productToBeEdited && {\r\n                key: Math.random(),\r\n                label: productToBeEdited.status,\r\n                value: productToBeEdited.status,\r\n                color: '#687722'\r\n            },\r\n            selectedBrand: selectedBrand && {\r\n                key: selectedBrand.id,\r\n                label: selectedBrand.name,\r\n                value: selectedBrand.id,\r\n                color: selectedBrand.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            selectedCategory: selectedCategory && {\r\n                key: selectedCategory.id,\r\n                label: selectedCategory.name,\r\n                value: selectedCategory.id,\r\n                color: selectedCategory.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            selectedVendor: selectedVendor && {\r\n                key: selectedVendor.id,\r\n                label: selectedVendor.name,\r\n                value: selectedVendor.id,\r\n                color: selectedVendor.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            name: productToBeEdited && productToBeEdited.name,\r\n            sku: productToBeEdited && productToBeEdited.sku,\r\n            bktId: productToBeEdited && productToBeEdited.bkt_id,\r\n            retailPrice: productToBeEdited ? productToBeEdited.retail_price ? productToBeEdited.retail_price : '' : '',\r\n            costPrice: productToBeEdited ? productToBeEdited.cost_price ? productToBeEdited.cost_price : '' : '',\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.editValidatingLabel('')\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        if (name === 'selectedVendor') {\r\n            if (selectedOption) {\r\n                this.refs.editProductLabel.innerHTML = ''\r\n                let comingVendor = selectedOption.value, alreadySelectedVendor = this.state.selectedVendor.value\r\n                comingVendor !== alreadySelectedVendor ?\r\n                    this.setState({\r\n                        [name]: selectedOption, costPrice: '', retailPrice: ''\r\n                    })\r\n                    :\r\n                    this.setState({\r\n                        [name]: selectedOption\r\n                    })\r\n            }\r\n            else {\r\n                this.setState({\r\n                    [name]: selectedOption, costPrice: '', retailPrice: ''\r\n                })\r\n            }\r\n        }\r\n        else\r\n            this.setState({\r\n                [name]: selectedOption\r\n            })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleInputRetail = e => {\r\n        this.editValidatingLabel('')\r\n        let { selectedVendor } = this.state, retailPrice = Number(e.target.value), our_percent\r\n        this.setState({\r\n            retailPrice: retailPrice,\r\n        })\r\n        if (!selectedVendor) {\r\n            this.editValidatingLabel('Please select vendor first')\r\n            this.setState({ retailPrice: '', costPrice: '' })\r\n        }\r\n        else if (!this.override.checked) {\r\n            let selectedUser = this.props.allData && this.props.allData.allUsers.filter(user => user.id === selectedVendor.value).shift()\r\n            if (selectedUser.retail_price_percent)\r\n                our_percent = Number(retailPrice) * Number(selectedUser.retail_price_percent) / 100\r\n            else {\r\n                this.editValidatingLabel('retail-percent-price for this vendor has not been found.')\r\n                this.setState({ retailPrice: '', costPrice: '' })\r\n                return\r\n            }\r\n            let calculatedCostPrice = retailPrice - our_percent\r\n            calculatedCostPrice < retailPrice ?\r\n                this.setState({ costPrice: calculatedCostPrice })\r\n                : this.editValidatingLabel(`you can't set retail-price less than cost-price.`)\r\n        }\r\n    }\r\n\r\n    handleInputCost = (e) => {\r\n        this.editValidatingLabel('')\r\n        let { selectedVendor } = this.state, costPrice = Number(e.target.value), our_percent\r\n        this.setState({\r\n            costPrice: costPrice,\r\n        })\r\n        if (!selectedVendor) {\r\n            this.editValidatingLabel('Please select vendor first')\r\n            this.setState({ costPrice: '', retailPrice: '' })\r\n        }\r\n        else if (!this.override.checked) {\r\n            let selectedUser = this.props.allData && this.props.allData.allUsers.filter(user => user.id === selectedVendor.value).shift()\r\n            if (selectedUser.cost_price_percent)\r\n                our_percent = Number(costPrice) * Number(selectedUser.cost_price_percent) / 100\r\n            else {\r\n                this.editValidatingLabel('cost-percent-price for this vendor has not been found.')\r\n                this.setState({ costPrice: '', retailPrice: '' })\r\n                return\r\n            }\r\n            let calculatedRetailPrice = costPrice + our_percent\r\n            calculatedRetailPrice > costPrice ?\r\n                this.setState({ retailPrice: calculatedRetailPrice })\r\n                : this.editValidatingLabel(`you can't set cost-price more than retail-price.`)\r\n        }\r\n    }\r\n\r\n    handleBlurRetail = e => {\r\n        let retailPrice = Number(e.target.value), { costPrice } = this.state\r\n        if (this.override.checked) {\r\n            this.editValidatingLabel(retailPrice < costPrice ? `you can't set retail-price less than cost-price.` : '');\r\n            retailPrice < costPrice && this.costPrice.focus()\r\n        }\r\n    }\r\n\r\n    handleBlurCost = e => {\r\n        let costPrice = Number(e.target.value), { retailPrice } = this.state\r\n        if (this.override.checked) {\r\n            this.editValidatingLabel(retailPrice < costPrice ? `you can't set cost-price more than retail-price.` : '');\r\n            retailPrice < costPrice && this.retailPrice.focus()\r\n        }\r\n    }\r\n\r\n    handleClickCheckbox = () => {\r\n        this.editValidatingLabel('');\r\n        this.setState({\r\n            retailPrice: '',\r\n            costPrice: ''\r\n        })\r\n    }\r\n\r\n    editValidatingLabel = string => {\r\n        this.refs.editProductLabel.innerHTML = string\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedStatus, selectedBrand, selectedCategory, selectedVendor, retailPrice, costPrice, } = this.state\r\n        e.preventDefault();\r\n        let form = this.refs.editProductForm\r\n        if (!selectedStatus) {\r\n            this.setState({ selectedStatus: null })\r\n            return\r\n        }\r\n        else if (!selectedBrand) {\r\n            this.setState({ selectedBrand: null })\r\n            return\r\n        }\r\n        else if (!selectedCategory) {\r\n            this.setState({ selectedCategory: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (costPrice > retailPrice || costPrice === retailPrice) {\r\n            this.refs.editProductLabel.innerHTML = `It seems you entered retail-price less than or equal to cost-price but it can't, please change prices.`\r\n            return\r\n        }\r\n        else {\r\n\r\n            let { name, sku, bktId } = this.state\r\n            let updateProduct = {\r\n                id: this.productId, status: selectedStatus.value, brandId: selectedBrand.value, name: name, sku: sku, bktId: bktId, categoryId: selectedCategory.value,\r\n                retailPrice: retailPrice, costPrice: costPrice, vendorId: selectedVendor.value\r\n            }\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updateProduct),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateProduct', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            sku: '',\r\n                            bktId: '',\r\n                            retailPrice: '',\r\n                            costPrice: '',\r\n                            selectedBrand: '',\r\n                            selectedCategory: '',\r\n                            selectedVendor: '',\r\n                            selectedStatus: ''\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.bktId.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, sku, bktId, selectedBrand, selectedCategory, selectedVendor, costPrice, retailPrice, selectedStatus } = this.state\r\n        let { allBrands, allProductCategories, allUsers, allRoles } = this.props.allData,\r\n            vendorRoleId = allRoles && allRoles.filter(role => role.name === 'vendor').shift().id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n\r\n        let productStatusOptions = [\r\n            {\r\n                key: 1,\r\n                label: 'Pending',\r\n                value: 'Pending',\r\n                color: '#112648'\r\n            },\r\n            {\r\n                key: 2,\r\n                label: 'Published',\r\n                value: 'Published',\r\n                color: '#687722'\r\n            },\r\n        ]\r\n\r\n        return (\r\n            <Can I='update' a='product' >\r\n                <MDBRow center className='mt-4 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='editProductForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='pb-1'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Prodcut</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={productStatusOptions}\r\n                                        handleChange={this.handleSelectChange('selectedStatus')}\r\n                                        placeHolder={'Status..*'}\r\n                                        selectedValue={selectedStatus}\r\n                                        iconClass={'fa fa-star-half-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedBrand')}\r\n                                        placeHolder={'Select Brand..*'}\r\n                                        selectedValue={selectedBrand}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allProductCategories}\r\n                                        handleChange={this.handleSelectChange('selectedCategory')}\r\n                                        placeHolder={'Select Product-Category..*'}\r\n                                        selectedValue={selectedCategory}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-user-tie'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-search-dollar inputIcon\" />\r\n                                    <input\r\n                                        name=\"sku\"\r\n                                        value={sku}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.sku = el}\r\n                                        placeholder='SKU*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-link inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.bktId = el}\r\n                                        placeholder='Product-ID from bucket.pk*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MDBRow>\r\n                                        <MDBCol className='pr-1'>\r\n                                            <i className=\"fa fa-dollar-sign inputIcon\" />\r\n                                            <input\r\n                                                name=\"retailPrice\"\r\n                                                value={retailPrice}\r\n                                                onInput={this.handleInputRetail}\r\n                                                onChange={() => { }}\r\n                                                pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                                onKeyPress={this.onKeyPress}\r\n                                                onBlur={this.handleBlurRetail}\r\n                                                type=\"number\"\r\n                                                ref={el => this.retailPrice = el}\r\n                                                required\r\n                                                placeholder='Retail-Price*'\r\n                                                className='fontRaleway inputText pl-5 pr-0 form-control'\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol className='pl-1'>\r\n                                            <i className=\"fa fa-dollar-sign inputIcon\" />\r\n                                            <input\r\n                                                name=\"costPrice\"\r\n                                                value={costPrice}\r\n                                                onInput={this.handleInputCost}\r\n                                                onChange={() => { }}\r\n                                                type=\"number\"\r\n                                                ref={el => this.costPrice = el}\r\n                                                pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                                required\r\n                                                onBlur={this.handleBlurCost}\r\n                                                onKeyPress={this.onKeyPress}\r\n                                                placeholder='Cost-Price*'\r\n                                                className='fontRaleway inputText pl-5 pr-0 form-control'\r\n                                            />\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                </div>\r\n                                <div className='m-0 text-left'>\r\n                                    <input\r\n                                        id=\"override\"\r\n                                        type=\"checkbox\"\r\n                                        ref={el => this.override = el}\r\n                                        onClick={this.handleClickCheckbox}\r\n                                        className='fontRaleway text-left align-middle ml-2'\r\n                                    />\r\n                                    <small className='ml-2 colorBlue fontRaleway align-middle'>Override prices</small>\r\n                                </div>\r\n                                <div className='text-center mt-1 mb-0 pb-0'>\r\n                                    <label ref='editProductLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                    <input type=\"submit\" className=\" mt-2 action-button mb-1\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditProduct","import React, { Component } from 'react';\r\nimport EditProduct from './pages/EditProduct';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditProduct extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='product'><EditProduct allData={allData} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditProduct","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass NewProductCategory extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            description: '',\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newProductCategoryForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, description } = this.state\r\n            let newProductCategory = { name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newProductCategory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewProductCategory', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='productCategory' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='newProductCategoryForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Product-Category</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewProductCategory","import React, { Component } from 'react';\r\nimport NewProductCategory from './pages/NewProductCategory';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewProductCategory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='productCategory'><NewProductCategory /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewProductCategory","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\n\r\n\r\nclass AllProductCategories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            allProductCategories: props.allData.allProductCategories,\r\n            rowToBeDeleted: '',\r\n            categoryToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/categories/edit\", search: `category=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/categories/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            categoryToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteProductCategory = () => {\r\n        let { rowToBeDeleted, categoryToBeDeleted } = this.state\r\n        let deleteProductCategory = { value: categoryToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteProductCategory),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteProductCategory', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                json.success && document.getElementById('allProductCategoriesTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allProductCategories } = this.state, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allProductCategories && allProductCategories.forEach((productCategory) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: productCategory.name,\r\n                    description: productCategory.description,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='productCategory'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(productCategory.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='productCategory'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(productCategory.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Description', field: 'description', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='productCategory'>\r\n                <MyOwnListing\r\n                    cardHeading={`Product-Categories`}\r\n                    permissionEntity='productCategory'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Category'\r\n                    tableId='allProductCategoriesTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProductCategory}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllProductCategories","import React, { Component } from 'react';\r\nimport AllProductCategories from './pages/AllProductCategories';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllProductCategories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='productCategory'> <AllProductCategories {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllProductCategories","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass EditProductCategory extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.categoryId = Number(params.get('category'))\r\n        let categoryToBeEdited = props.allData.allProductCategories && props.allData.allProductCategories.filter(category => category.id === this.categoryId).shift()\r\n        this.state = {\r\n            name: categoryToBeEdited && categoryToBeEdited.name,\r\n            description: categoryToBeEdited && categoryToBeEdited.description,\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editProductCategoryForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n\r\n        else {\r\n            let { name, description } = this.state\r\n            let updatedProductCategory = { id: this.categoryId, name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedProductCategory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateProductCategory', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='update' a='productCategory' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editProductCategoryForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Product-Category</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditProductCategory","import React, { Component } from 'react';\r\nimport EditProductCategory from './pages/EditProductCategory';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditProductCategory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='productCategory'><EditProductCategory allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditProductCategory","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewProductCategory from './SecuredNewProductCategory';\r\nimport SecuredAllProductCategories from './SecuredAllProductCategories';\r\nimport SecuredEditProductCategory from './SecuredEditProductCategory';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst ProductCategories = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/categories/new\" render={() => <SecuredNewProductCategory />} />\r\n            <Route path=\"/products/categories/all\" render={(routeProps) => <SecuredAllProductCategories {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/categories/edit\" render={() => <SecuredEditProductCategory allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default ProductCategories","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass NewBrand extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            description: '',\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newBrandForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, description } = this.state\r\n            let newBrand = { name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newBrand),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewBrand', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    json.success ?\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        :\r\n                        this.name.focus();\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='brand' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newBrandForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Brand</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewBrand","import React, { Component } from 'react';\r\nimport NewBrand from './pages/NewBrand';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewBrand extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='brand'><NewBrand /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewBrand","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\n\r\n\r\nclass AllBrands extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            allBrands: props.allData.allBrands,\r\n            rowToBeDeleted: '',\r\n            brandToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/brands/edit\", search: `brand=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/brands/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            brandToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteBrand = () => {\r\n        let { rowToBeDeleted, brandToBeDeleted } = this.state\r\n        let deleteBrand = { value: brandToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteBrand),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteBrand', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json)\r\n                json.success && document.getElementById('allBrandsTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allBrands } = this.state, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allBrands && allBrands.forEach((brand) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: brand.name,\r\n                    description: brand.description,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='brand'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(brand.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='brand'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(brand.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Description', field: 'description', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='brand'>\r\n                <MyOwnListing\r\n                    cardHeading={`Brands`}\r\n                    permissionEntity='brand'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Brand'\r\n                    tableId='allBrandsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteBrand}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllBrands","import React, { Component } from 'react';\r\nimport AllBrands from './pages/AllBrands';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllBrands extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='brand'> <AllBrands {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllBrands","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass EditBrand extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.brandId = Number(params.get('brand'))\r\n        let brandToBeEdited = props.allData.allBrands && props.allData.allBrands.filter(brand => brand.id === this.brandId).shift()\r\n        this.state = {\r\n            name: brandToBeEdited && brandToBeEdited.name,\r\n            description: brandToBeEdited && brandToBeEdited.description,\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editBrandForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n\r\n        else {\r\n            let { name, description } = this.state\r\n            let updatedBrand = { id: this.brandId, name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedBrand),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateBrand', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='update' a='brand' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editBrandForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Brand</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditBrand","import React, { Component } from 'react';\r\nimport EditBrand from './pages/EditBrand';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditBrand extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='brand'><EditBrand allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditBrand","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewBrand from './SecuredNewBrand';\r\nimport SecuredAllBrands from './SecuredAllBrands';\r\nimport SecuredEditBrand from './SecuredEditBrand';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst Brands = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/brands/new\" render={() => <SecuredNewBrand />} />\r\n            <Route path=\"/products/brands/all\" render={(routeProps) => <SecuredAllBrands {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/brands/edit\" render={() => <SecuredEditBrand allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Brands","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewProduct from './SecuredNewProduct';\r\nimport SecuredAllProducts from './SecuredAllProducts';\r\nimport SecuredEditProduct from './SecuredEditProduct';\r\nimport ProductCategories from './categories/ProductCategories';\r\nimport Brands from './brands/Brands';\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\n\r\nconst Products = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/new\" render={() => <SecuredNewProduct allData={allData} />} />\r\n            <Route path=\"/products/all\" render={(routeProps) => <SecuredAllProducts {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/edit\" render={() => <SecuredEditProduct allData={allData} />} />\r\n            <Route path=\"/products/categories\" render={() => <ProductCategories allData={allData} />} />\r\n            <Route path=\"/products/brands\" render={() => <Brands allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Products","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllInventories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            allInventories: props.allData.allInventories,\r\n            allProducts: props.allData.allProducts,\r\n            allProductCategories: props.allData.allProductCategories,\r\n            allBrands: props.allData.allBrands,\r\n            // rowToBeDeleted: '',\r\n            // inventorToBeDeleted: '',\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    // handleEdit = (id) => (e) => {\r\n    //     this.props.history.push({ pathname: \"/inventories/update\", search: `inventory=${id}` })\r\n    // }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/inventories/update')\r\n    }\r\n\r\n    // handleDelete = (id) => (e) => {\r\n    //     let el = e.target\r\n    //     let row = el.closest('tr')\r\n    //     var i = row.rowIndex;\r\n    //     this.setState({\r\n    //         rowToBeDeleted: i,\r\n    //         productToBeDeleted: id\r\n    //     })\r\n    //     this.refs.deleteModal.setState({\r\n    //         modalShow: true,\r\n    //     })\r\n    // }\r\n\r\n    // deleteInventory = () => {\r\n    //     let { rowToBeDeleted, productToBeDeleted } = this.state\r\n    //     // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n    //     let deleteProduct = { value: productToBeDeleted }\r\n\r\n    //     var options = {\r\n    //         method: 'DELETE',\r\n    //         body: JSON.stringify(deleteProduct),\r\n    //         headers: { 'Content-Type': 'application/json' }\r\n    //     }\r\n    //     fetch('/deleteProduct', options)\r\n    //         .then((res) => res.json())\r\n    //         .then((json) => {\r\n    //             // console.log(json)\r\n    //             json.success && document.getElementById('allProductsTable').deleteRow(rowToBeDeleted)\r\n    //         })\r\n    //         .catch((error) => console.log(error))\r\n    // }\r\n\r\n\r\n    render() {\r\n        let { allInventories, allBrands, allProductCategories, allProducts } = this.state, rows = [], data, index = 0\r\n        // btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        allInventories && allInventories.forEach((inventory) => {\r\n\r\n            index = index + 1;\r\n            let thisProductCategory, thisProductBrand, thisProduct\r\n            allProducts && allProducts.forEach(product => {\r\n                product.id === inventory.bkt_id && (thisProduct = product.name)\r\n            });\r\n            allProductCategories && allProductCategories.forEach(category => {\r\n                thisProduct ? category.id === thisProduct.id && (thisProductCategory = category.name) : thisProductCategory = 'Product not found.'\r\n            });\r\n            allBrands && allBrands.forEach(brand => {\r\n                thisProduct ? brand.id === thisProduct.brand_id && (thisProductBrand = brand.name) : thisProductBrand = 'Product not found.'\r\n            });\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: thisProduct ? thisProduct.name : 'Product not created yet.',\r\n                    bktId: inventory.bkt_id ? inventory.bkt_id : 'Product not found.',\r\n                    sku: thisProduct ? thisProduct.sku : 'Product not created yet.',\r\n                    category: thisProduct ? thisProductCategory : 'Product not created yet.',\r\n                    brand: thisProduct ? thisProductBrand : 'Product not created yet.',\r\n                    qty: inventory.qty,\r\n                    // buttons: <React.Fragment>\r\n                    //     <Can I='update' a='product'>\r\n                    //         <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                    //             <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                    //         </MDBBtn>\r\n                    //     </Can>\r\n                    //     <Can I='delete' a='product'>\r\n                    //         <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                    //             <MDBIcon icon=\"trash iconRed\" />\r\n                    //         </MDBBtn>\r\n                    //     </Can>\r\n                    // </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n        data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'bucket-ID', field: 'bktId', },\r\n                { label: 'SKU', field: 'sku', }, { label: 'Category', field: 'category', }, { label: 'Brand', field: 'brand', }, {\r\n                    label: 'QTY.', field: 'qty', attributes: {\r\n                        \"fontWeight\": \"bold\"\r\n                    }\r\n                },\r\n                // { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <Can I='read' a='inventories'>\r\n                <MyOwnListing\r\n                    cardHeading={`Inventories`}\r\n                    permissionEntity='inventories'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Inventory'\r\n                    tableId='allInventoriesTable'\r\n                    data={data}\r\n                />\r\n                {/* <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                /> */}\r\n\r\n                {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllInventories","import React, { Component } from 'react';\r\nimport AllInventories from './pages/AllInventories';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredAllInventories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='inventories'><AllInventories  {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInventories","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nconst InventoryHistories = ({ allData }) => {\r\n\r\n    let { allInventoryHistories, allProducts, allUsers, allRoles } = allData, rows = [], data, index = 0,\r\n        vendorRoleId = allRoles && allRoles.filter(role => role.name === 'vendor').shift().id,\r\n        allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n    // btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n    allInventoryHistories && allInventoryHistories.forEach((history) => {\r\n        index = index + 1;\r\n        let thisVendor, thisProduct\r\n        allProducts && allProducts.forEach(product => {\r\n            product.bkt_id === history.bkt_id && (thisProduct = product)\r\n        });\r\n        allVendors && allVendors.forEach(vendor => {\r\n            vendor.id === history.vendor_id && (thisVendor = vendor)\r\n        });\r\n\r\n        rows.push(\r\n            {\r\n                index: index,\r\n                name: thisProduct ? thisProduct.name : history.bkt_id,\r\n                bktId: history.bkt_id,\r\n                option: history.option,\r\n                qty: history.qty,\r\n                vendor: thisVendor.name\r\n                // buttons: <React.Fragment>\r\n                //     <Can I='update' a='product'>\r\n                //         <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                //             <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                //         </MDBBtn>\r\n                //     </Can>\r\n                //     <Can I='delete' a='product'>\r\n                //         <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                //             <MDBIcon icon=\"trash iconRed\" />\r\n                //         </MDBBtn>\r\n                //     </Can>\r\n                // </React.Fragment>\r\n            }\r\n        );\r\n    });\r\n    data = {\r\n        columns: [\r\n            { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'bucket-ID', field: 'bktId', },\r\n            { label: 'Update-Option', field: 'option', }, {\r\n                label: 'QTY.', field: 'qty', attributes: {\r\n                    \"fontWeight\": \"bold\"\r\n                }\r\n            }, { label: 'Vendor', field: 'vendor', },\r\n            // { label: 'Action', field: 'buttons' }\r\n        ],\r\n        rows: rows\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Can I='read' a='inventoryHistories'>\r\n            <MyOwnListing\r\n                cardHeading={`inventory Histories`}\r\n                permissionEntity='inventoryHistories'\r\n                redirectToNewEntityPath={null}\r\n                addButtonEntityLabel='inventory History'\r\n                tableId='allinventoryHistoriesTable'\r\n                data={data}\r\n            />\r\n            {/* <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                /> */}\r\n\r\n            {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n        </Can>\r\n    );\r\n\r\n}\r\n\r\nexport default InventoryHistories","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router'\r\nimport InventoryHistories from './pages/InventoryHistories';\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredInventoryHistory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='inventoryHistories'> <InventoryHistories {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredInventoryHistory","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass UpdateInventories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            selectedUpdateOption: '',\r\n            selectedVendor: '',\r\n            bktId: '',\r\n            qty: ''\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedUpdateOption, selectedVendor } = this.state\r\n        e.preventDefault();\r\n        let form = this.refs.updateInventoriesForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!selectedUpdateOption) {\r\n            this.setState({ selectedUpdateOption: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else {\r\n            let { bktId, qty } = this.state\r\n            let updatedInventory = {\r\n                bktId: bktId, qty: qty, updateOption: selectedUpdateOption.value\r\n            }\r\n\r\n            let updateCallOptions = {\r\n                method: 'POST',\r\n                body: JSON.stringify(updatedInventory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/manualUpdateInventories', updateCallOptions)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success) {\r\n                        this.setState({\r\n                            selectedUpdateOption: '',\r\n                            selectedVendor: '',\r\n                            bktId: '',\r\n                            qty: ''\r\n                        })\r\n                        let inventoryHistory = updatedInventory\r\n                        inventoryHistory.vendor = selectedVendor ? selectedVendor.value : selectedVendor\r\n                        let historyOptions = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(inventoryHistory),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewInventoryHistory', historyOptions)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n\r\n\r\n                        ////////////////////////////////////add sale or return to vendor ledgers\r\n\r\n\r\n                    }\r\n                    else {\r\n                        this.bktId.focus();\r\n                    }\r\n\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { selectedUpdateOption, selectedVendor, bktId, qty } = this.state, { allUsers, allRoles } = this.props.allData,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n        let inventoryUpdateOptions = [\r\n            {\r\n                key: Math.random(),\r\n                label: 'Create',\r\n                value: 'create',\r\n                color: '#112648'\r\n            },\r\n            {\r\n                key: Math.random(),\r\n                label: 'Return',\r\n                value: 'return',\r\n                color: '#687722'\r\n            },\r\n            {\r\n                key: Math.random(),\r\n                label: 'Delete',\r\n                value: 'delete',\r\n                color: '#112648'\r\n            },\r\n        ]\r\n\r\n\r\n        return (\r\n            <Can I='create' a='product' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'\r\n                    //  className=' offset-xl-2 offset-lg-3 offset-md-3'\r\n                    >\r\n                        <form ref='updateInventoriesForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Update Your Inventory</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={inventoryUpdateOptions}\r\n                                        // Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedUpdateOption')}\r\n                                        placeHolder={'Select an update option..*'}\r\n                                        selectedValue={selectedUpdateOption}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.bktId = el}\r\n                                        required\r\n                                        placeholder={`Product's bucket-ID*`}\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <input\r\n                                        name=\"qty\"\r\n                                        value={qty}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"number\"\r\n                                        onKeyPress={this.onKeyPress}\r\n                                        ref={el => this.qty = el}\r\n                                        required\r\n                                        placeholder='Qty.*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default UpdateInventories","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router'\r\nimport UpdateInventories from './pages/UpdateInventories';\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredUpdateInventories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return (\r\n                <React.Fragment>\r\n                    <Can I='update' a='inventories'><UpdateInventories allData={this.props.allData} /></Can>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredUpdateInventories","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredAllInventories from './SecuredAllInventories';\r\nimport SecuredInventoryHistories from './SecuredInventoryHistories';\r\nimport SecuredUpdateInventories from './SecuredUpdateInventories';\r\n\r\n\r\n\r\nconst Inventories = ({ allData }) => {\r\n\r\n    return (\r\n\r\n        <Switch>\r\n            <Route path=\"/inventories/update\" render={() => <SecuredUpdateInventories allData={allData} />} />\r\n            <Route path=\"/inventories/all\" render={(routeProps) => <SecuredAllInventories {...routeProps} allData={allData} />} />\r\n            <Route path=\"/inventories/history\" render={() => < SecuredInventoryHistories allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Inventories","import React, { Component } from 'react';\r\nimport { MDBContainer, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBIcon, MDBRow, MDBCol } from\r\n    'mdbreact';\r\n\r\nclass QuestionModal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            modalShow: false,\r\n            option: ''\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow,\r\n        });\r\n    }\r\n\r\n    sendResponseBack = (boolean) => e => {\r\n        let { option } = this.state\r\n        if (boolean) {\r\n            this.props.positiveBtnClicked(option)\r\n            this.toggle()\r\n        }\r\n        else {\r\n            this.props.negativeBtnClicked(option)\r\n            this.toggle()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { positiveBtnTxt, negativeBtnTxt, message, heading } = this.props\r\n        return (\r\n            <MDBContainer>\r\n                <MDBModal modalStyle='info' style={{ borderRadius: '10px' }} className=\"text-white\" size=\"md\" centered backdrop={true} isOpen={this.state.modalShow}\r\n                    toggle={this.toggle}>\r\n                    <MDBModalHeader className=\"text-center questionModalHeader\" titleClass=\"w-100\" tag=\"p\" toggle={this.toggle}>\r\n                        <b style={{ letterSpacing: '0.2vw' }}>\r\n                            {heading}\r\n                        </b><br />\r\n                        {message}.\r\n                    </MDBModalHeader>\r\n                    <MDBModalBody className=\"text-center\">\r\n                        <MDBIcon icon=\"question\" size=\"6x\" className=\"animated rotateIn colorGreen\" />\r\n                    </MDBModalBody>\r\n                    <MDBModalFooter className=\"justify-content-center\">\r\n                        <MDBRow center className='w-100'>\r\n                            <MDBCol className='text-center' size='4'>\r\n                                <button type='button' className='questionModalBtn w-100 px-0' onClick={this.sendResponseBack(true)}>{positiveBtnTxt}</button>\r\n                            </MDBCol>\r\n                            <MDBCol className='text-center' size='4'>\r\n                                <button type='button' className='questionModalBtn w-100 px-0' onClick={this.sendResponseBack(false)}>{negativeBtnTxt}</button>\r\n                            </MDBCol>\r\n                        </MDBRow>\r\n                    </MDBModalFooter>\r\n                </MDBModal>\r\n            </MDBContainer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default QuestionModal;","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol, MDBBtn } from 'mdbreact';\r\nimport DatePicker from \"react-datepicker\";\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect';\r\nimport QuestionModal from '../../../misc/components/QuestionModal';\r\n\r\n\r\n\r\nconst sourceOptions = [\r\n    { value: 'Website', label: 'Website', key: 1, color: '#112648' },\r\n    { value: 'facebook', label: 'Facebook', key: 2, color: '#687722' },\r\n    { value: 'WhatsApp', label: 'WhatsApp', key: 3, color: '#112648' },\r\n    { value: 'Phone', label: 'Phone', key: 4, color: '#687722' },\r\n];\r\n\r\nconst statusOptions = [\r\n    { value: 'Waiting vendor confirmation', label: 'Waiting vendor confirmation', key: 1, color: '#112648' },\r\n    { value: 'Waiting customer confirmation', label: 'Waiting customer confirmation', key: 2, color: '#687722' },\r\n    { value: 'On-hold', label: 'On-hold', key: 3, color: '#112648' },\r\n    { value: 'Cancelled', label: 'Cancelled', key: 4, color: 'red' },\r\n    { value: 'Confirmed', label: 'Confirmed', key: 5, color: '#112648' },\r\n    { value: 'Requested', label: 'Requested', key: 6, color: '#687722' },\r\n    { value: 'Awaiting dispatch', label: 'Awaiting dispatch', key: 7, color: '#112648' },\r\n    { value: 'Awaiting pickup', label: 'Awaiting pickup', key: 8, color: '#687722' },\r\n    { value: 'Rider notified', label: 'Rider notified', key: 9, color: '#112648' },\r\n    { value: 'Packing in process', label: 'Packing in process', key: 10, color: '#687722' },\r\n    { value: 'RTS', label: 'RTS', key: 11, color: '#112648' },\r\n    { value: 'Shipped', label: 'Shipped', key: 12, color: '#687722' },\r\n    { value: 'Delivered', label: 'Delivered', key: 13, color: '#112648' },\r\n    { value: 'Refused', label: 'Refused', key: 14, color: 'red' },\r\n];\r\n\r\n\r\nclass OrderDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            orderId: '',\r\n            orderDate: '',\r\n            orderSource: '',\r\n            orderStatus: { value: 'Waiting vendor confirmation', label: 'Waiting vendor confirmation', key: 1, color: '#112648' },\r\n            courier: '',\r\n            orderTracking: '',\r\n            orderNote: '',\r\n            questionHeading: '',\r\n            questionMessage: '',\r\n            positiveBtnTxt: \"\",\r\n            negativeBtnTxt: '',\r\n        }\r\n    }\r\n\r\n    handleDateChange = (value) => {\r\n        this.setState({\r\n            orderDate: value\r\n        });\r\n    }\r\n\r\n    handleSelectChange = name => selectedOption => {\r\n        const { orderState } = this.props\r\n        var questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt\r\n        if (name === 'orderStatus' && orderState === 'edit') {\r\n            switch (selectedOption.label) {\r\n                case 'Waiting customer confirmation':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Goods Demanded By Customer are Available'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'On-hold':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Put the Order On-Hold'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Cancelled':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Cancelled the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Confirmed':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Confirmed the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Requested':\r\n                    questionHeading = 'Did You Call Vendor?'\r\n                    questionMessage = 'to process the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Awaiting dispatch':\r\n                    questionHeading = 'Did You Receive Call from Vendor?'\r\n                    questionMessage = 'that Parcel is ready to dispatch'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Awaiting pickup':\r\n                    break;\r\n                case 'Rider notified':\r\n                    break;\r\n                case 'Packing in process':\r\n                    break;\r\n                case 'RTS':\r\n                    break;\r\n                case 'Shipped':\r\n                    break;\r\n                case 'Delivered':\r\n                    break;\r\n                case 'Refused':\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                [name]: selectedOption\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChangingStatus = (selectedOption) => {\r\n        this.setState({\r\n            orderStatus: selectedOption\r\n        })\r\n    }\r\n\r\n    setQuestionModalProps = (questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption) => {\r\n        this.setState({\r\n            questionHeading: questionHeading,\r\n            questionMessage: questionMessage,\r\n            positiveBtnTxt: positiveBtnTxt,\r\n            negativeBtnTxt: negativeBtnTxt\r\n        })\r\n        this.refs.questionModal.setState({ modalShow: true, option: selectedOption })\r\n    }\r\n\r\n    questionModalPositiveBtnClicked = (selectedOption) => {\r\n        if (selectedOption) {\r\n            this.handleChangingStatus(selectedOption)\r\n        }\r\n        else {\r\n            this.setState({ courier: 'M&P', orderTracking: '' }, () => { this.exportCSV('M&P') })\r\n        }\r\n    }\r\n\r\n    questionModalNegativeBtnClicked = (selectedOption) => {\r\n        if (selectedOption) {\r\n        }\r\n        else {\r\n            this.setState({ courier: 'TCS', orderTracking: '' }, () => { this.exportCSV('TCS') })\r\n        }\r\n    }\r\n\r\n    chooseCourier = () => {\r\n        let { orderStatus, courier } = this.state\r\n        if (orderStatus.label === 'Awaiting dispatch') {\r\n            if (courier) {\r\n                if (window.confirm(`Do you want to export CSV file for this order again ?\\nIf you choose 'OK' Tracking # for this order will be cleared.`)) {\r\n                    let positiveBtnTxt = <img className='w-100 h-100' alt={`M&P`} src={'/images/m&p.png'} />\r\n                    let negativeBtnTxt = <img className='w-100 h-100' alt='TCS' src={'/images/tcs.png'} />\r\n                    let selectedOption = ''\r\n                    this.setQuestionModalProps('Which Company?', 'Do You Want to Use to Ship Parcel', positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                }\r\n            }\r\n            else {\r\n                let positiveBtnTxt = <img className='w-100 h-100' alt={`M&P`} src={'/images/m&p.png'} />\r\n                let negativeBtnTxt = <img className='w-100 h-100' alt='TCS' src={'/images/tcs.png'} />\r\n                let selectedOption = ''\r\n                this.setQuestionModalProps('Which Company?', 'Do You Want to Use to Ship Parcel', positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n            }\r\n        }\r\n    }\r\n\r\n    exportCSV = (courier) => {\r\n        let { orderBeingEdited, orderDetailsBeingEdited } = this.props\r\n        let order = orderBeingEdited, orderToBeExported = []\r\n        let orderDetails = orderDetailsBeingEdited\r\n        console.log(order);\r\n        console.log(orderDetails);\r\n        if (courier === 'TCS') {\r\n            orderToBeExported.push(\r\n                {\r\n\r\n                }\r\n            )\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    checkValidity = () => {\r\n        let form = this.orderDetailsForm, { orderSource, orderStatus } = this.state\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return false\r\n        }\r\n        else if (!orderSource) {\r\n            this.setState({\r\n                orderSource: null\r\n            })\r\n            return false;\r\n        }\r\n        else if (!orderStatus) {\r\n            this.setState({\r\n                orderStatus: null\r\n            })\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    makeFormEmpty = () => {\r\n        this.setState({\r\n            orderId: '',\r\n            orderDate: '',\r\n            orderSource: '',\r\n            orderStatus: { value: 'Pending confirmation', label: 'Pending confirmation', key: 1, color: '#112648' },\r\n            orderTracking: '',\r\n            orderNote: '',\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        let { orderId, orderSource, orderStatus, orderDate, courier, orderTracking, orderNote, questionMessage, positiveBtnTxt, negativeBtnTxt, questionHeading } = this.state\r\n        const { orderState } = this.props\r\n\r\n        return (\r\n            <MDBRow className='m-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    <form className='m-0 p-0 orderDetailsForm' ref={el => (this.orderDetailsForm = el)} noValidate>\r\n                        <fieldset className='borderBlue py-0 px-3 w-100'>\r\n                            <legend className='legend-border'> Order:</legend>\r\n                            <MDBRow className='m-0 p-0'>\r\n                                <MDBCol className='m-0'>\r\n                                    <MDBRow center className='m-0 p-0'>\r\n                                        <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0' middle >\r\n                                            <MDBInput\r\n                                                name='orderId'\r\n                                                onInput={this.handleInput}\r\n                                                className='m-0'\r\n                                                value={orderId}\r\n                                                label='Id'\r\n                                                outline\r\n                                                required\r\n                                                disabled={orderState === 'edit' && true}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol xl='2' lg='2' md='3' sm='6' className='my-2' middle >\r\n                                            <DatePicker\r\n                                                id='datePicker'\r\n                                                selected={orderDate}\r\n                                                placeholderText='Date'\r\n                                                onChange={this.handleDateChange}\r\n                                                className='form-control'\r\n                                                peekNextMonth\r\n                                                showMonthDropdown\r\n                                                showYearDropdown\r\n                                                dropdownMode=\"select\"\r\n                                                dateFormat=\"dd/MM/yy\"\r\n                                                autoComplete='off'\r\n                                                required\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol xl='4' lg='4' md='3' sm='6' className='my-2' middle>\r\n                                            <MyOwnSelect\r\n                                                options={sourceOptions}\r\n                                                handleChange={this.handleSelectChange('orderSource')}\r\n                                                placeHolder={'Source..*'}\r\n                                                selectedValue={orderSource}\r\n                                                required={true}\r\n                                                withOutIcon={true}\r\n                                                isMulti={false}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        {orderState === 'edit' ?\r\n                                            <>\r\n                                                <MDBCol xl='4' lg='4' md='4' sm='6' className='my-2' middle>\r\n                                                    <MyOwnSelect\r\n                                                        options={statusOptions}\r\n                                                        handleChange={this.handleSelectChange('orderStatus')}\r\n                                                        placeHolder={'Status..*'}\r\n                                                        selectedValue={orderStatus}\r\n                                                        required={true}\r\n                                                        withOutIcon={true}\r\n                                                        isMulti={false}\r\n                                                    />\r\n                                                </MDBCol>\r\n                                                <MDBCol md='4' className='m-0' sm='6' middle>\r\n                                                    <MDBInput\r\n                                                        label=\"Tracking Id\"\r\n                                                        name=\"orderTracking\"\r\n                                                        onInput={this.handleInput}\r\n                                                        hint={courier}\r\n                                                        value={orderTracking}\r\n                                                        outline\r\n                                                        className='m-0'\r\n                                                    />\r\n                                                </MDBCol>\r\n                                            </>\r\n                                            : null}\r\n                                        <MDBCol\r\n                                            md={orderState === 'edit' ? orderStatus.label === 'Awaiting dispatch' ? '6' : '8' : '4'}\r\n                                            sm={orderState === 'edit' ? orderStatus.label === 'Awaiting dispatch' ? '3' : '6' : '6'} className='m-0' middle>\r\n                                            <MDBInput\r\n                                                type='textarea'\r\n                                                rows='1'\r\n                                                label=\"Note\"\r\n                                                name=\"orderNote\"\r\n                                                onInput={this.handleInput}\r\n                                                value={orderNote}\r\n                                                outline\r\n                                                className='m-0'\r\n                                                style={{ borderRadius: '4px' }}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        {orderState === 'edit' && orderStatus.label === 'Awaiting dispatch' ?\r\n                                            <MDBCol md='2' sm='3' className='m-0' middle>\r\n                                                <button\r\n                                                    style={{ fontSize: '17px', borderRadius: '4px' }}\r\n                                                    type='button'\r\n                                                    onClick={this.chooseCourier}\r\n                                                    className='btn py-1 px-2 w-100 mx-0 mt-0 mb-1 font-weight-bold text-white backGround-blue borderBlue fontRaleway'>\r\n                                                    Export CSV\r\n                                                </button>\r\n                                            </MDBCol>\r\n                                            : null}\r\n                                        <QuestionModal\r\n                                            ref='questionModal'\r\n                                            heading={questionHeading}\r\n                                            message={questionMessage}\r\n                                            positiveBtnClicked={this.questionModalPositiveBtnClicked}\r\n                                            negativeBtnClicked={this.questionModalNegativeBtnClicked}\r\n                                            positiveBtnTxt={positiveBtnTxt}\r\n                                            negativeBtnTxt={negativeBtnTxt}\r\n                                        />\r\n                                    </MDBRow>\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n                        </fieldset>\r\n                    </form>\r\n                </MDBCol>\r\n            </MDBRow >\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderDetails","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol } from 'mdbreact';\r\n\r\n\r\n\r\nclass OrderCustomerDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            cName: '',\r\n            cContact: '',\r\n            cAddress: '',\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    checkValidity = () => {\r\n        let form = this.orderCustomerDetailsForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return false\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    makeFormEmpty = () => {\r\n        this.setState({\r\n            cName: '',\r\n            cContact: '',\r\n            cAddress: '',\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { cName, cContact, cAddress, } = this.state\r\n\r\n        return (\r\n            <MDBRow className='my-3 mx-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    <form className='m-0 p-0 orderCustomerDetailsForm' ref={el => (this.orderCustomerDetailsForm = el)} noValidate>\r\n                        <fieldset className='borderBlue py-0 px-3 w-100'>\r\n                            <legend className='legend-border'>Customer:</legend>\r\n                            <MDBRow className='m-0 p-0'>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cName}\r\n                                        className='my-0'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Name\"\r\n                                        name=\"cName\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cContact}\r\n                                        className='my-0'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Contact\"\r\n                                        name=\"cContact\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cAddress}\r\n                                        className='my-0'\r\n                                        type='textarea'\r\n                                        rows='1'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Address\"\r\n                                        name=\"cAddress\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n                        </fieldset>\r\n                    </form>\r\n                </MDBCol>\r\n            </MDBRow>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderCustomerDetails","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\n\r\nclass OrderProductDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            selectedProduct: '',\r\n            pQTY: 1,\r\n            pRemarks: '',\r\n            pDiscount: 0,\r\n            displayForm: props.orderState === 'edit' ? false : true,\r\n        }\r\n    }\r\n\r\n    handleSelectChange = name => selectedOption => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleAddProduct = (e) => {\r\n        e.preventDefault();\r\n        let form = this.orderProductDetailsForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedProduct) {\r\n            this.setState({ selectedProduct: null })\r\n            return\r\n        }\r\n        else {\r\n            // document.getElementById('pTableCard').style.display = '';\r\n            let { selectedProduct, pQTY, pRemarks, pDiscount } = this.state\r\n            let pId = selectedProduct.value, pSKU = selectedProduct.sku, pRate = selectedProduct.retailPrice, pCost = selectedProduct.costPrice,\r\n                pPrice = parseFloat(this.pPrice.value).toFixed(2), pChecked = (this.checkbox.checked) ? true : false\r\n            // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\r\n            this.props.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\r\n            this.setState({\r\n                selectedProduct: '',\r\n                pQTY: 1,\r\n                pRemarks: '',\r\n                pDiscount: 0\r\n            })\r\n            form.classList.remove('was-validated')\r\n            this.checkbox.checked = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { selectedProduct, pQTY, pRemarks, pDiscount, displayForm } = this.state, { allProducts } = this.props.allData,\r\n            productOptions = allProducts && allProducts.map(product => ({\r\n                key: product.id,\r\n                label: product.name,\r\n                value: product.id,\r\n                retailPrice: product.retail_price,\r\n                costPrice: product.cost_price,\r\n                sku: product.sku,\r\n                color: product.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            }));\r\n\r\n\r\n        return (\r\n            <MDBRow className='m-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    {displayForm ?\r\n                        <form className='m-0 p-0 orderProductDetailsForm' ref={el => (this.orderProductDetailsForm = el)} onSubmit={this.handleAddProduct} noValidate>\r\n                            <fieldset className='borderBlue pt-0 pb-2 px-3 w-100'>\r\n                                <legend className='legend-border'>Product:</legend>\r\n                                <MDBRow className='m-0 p-0'>\r\n                                    <MDBCol xl='3' lg='3' md='3' sm='6' className='my-2' middle>\r\n                                        <MyOwnSelect\r\n                                            options={productOptions}\r\n                                            handleChange={this.handleSelectChange('selectedProduct')}\r\n                                            placeHolder={'Product..*'}\r\n                                            selectedValue={selectedProduct}\r\n                                            required={true}\r\n                                            withOutIcon={true}\r\n                                            isMulti={false}\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pQTY}\r\n                                            // type='number'\r\n                                            label=\"Qty\"\r\n                                            name=\"pQTY\"\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            onInput={this.handleInput}\r\n                                            required\r\n                                            pattern='^[1-9]\\d*|(^[0-9]\\d*[.]?)+[1-9]+'\r\n                                            outline\r\n                                            className='my-0'\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pDiscount}\r\n                                            type='number'\r\n                                            label=\"Discount(%)\"\r\n                                            name='pDiscount'\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            onInput={this.handleInput}\r\n                                            inputRef={e => { this.pDiscount = e }}\r\n                                            outline\r\n                                            className='my-0'\r\n                                            max={selectedProduct ? (((selectedProduct.retailPrice - selectedProduct.costPrice) / (selectedProduct.retailPrice)) * 100) - 1 : 0}\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={selectedProduct ? ((selectedProduct.retailPrice * pQTY) - (((selectedProduct.retailPrice * pQTY) * pDiscount) / 100)).toFixed(2) : 0}\r\n                                            type='number'\r\n                                            label=\"Price\"\r\n                                            inputRef={e => { this.pPrice = e }}\r\n                                            disabled\r\n                                            outline\r\n                                            className='my-0'\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='3' lg='3' md='3' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pRemarks}\r\n                                            type='textarea'\r\n                                            rows='1'\r\n                                            label=\"Remarks\"\r\n                                            name=\"pRemarks\"\r\n                                            onInput={this.handleInput}\r\n                                            outline\r\n                                            className='my-0'\r\n                                            style={{ borderRadius: '4px' }}\r\n                                        />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow className='m-0 p-0' end>\r\n                                    <MDBCol xl='3' lg='3' md='4' sm='5' className='m-0 p-0 text-center' middle>\r\n                                        <div className=\"form-check\">\r\n                                            <input className=\"align-middle\" type=\"checkbox\" ref={e => { this.checkbox = e }} />\r\n                                            <label className=\"ml-2 colorBlue\" >\r\n                                                Is extra added?\r\n                                    </label>\r\n                                        </div>\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='3' lg='4' md='5' sm='6' className='m-0 text-center' middle>\r\n                                        <div className='text-center m-0'>\r\n                                            <input type=\"submit\" style={{ width: '80%' }} className=\" action-button\" value=\"Sale Product\" />\r\n                                        </div>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                            </fieldset>\r\n                        </form>\r\n                        :\r\n                        null\r\n                    }\r\n                </MDBCol>\r\n            </MDBRow>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderProductDetails","import React, { Component, PureComponent } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact'\n\n\nclass PTableRow extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            pRate: props.pRate,\n            pQTY: props.pQTY,\n            pDiscount: props.pDiscount,\n            pPrice: props.pPrice,\n            pChecked: props.pChecked\n        };\n    }\n\n    mouseEntered = () => {\n        this.inputEditQty.style.backgroundColor = '#f2f2f2'\n        this.inputEditDiscount.style.backgroundColor = '#f2f2f2'\n    }\n\n    mouseLeft = () => {\n        this.inputEditQty.style.backgroundColor = 'white'\n        this.inputEditDiscount.style.backgroundColor = 'white'\n    }\n\n    deleteRowfn(e) {\n        let el = e.target,\n            row = el.closest('tr'),\n            rowToBeDeleted = row.rowIndex,\n            pPrice = row.cells[6].innerHTML,\n            pChecked = this.state.pChecked\n        this.props.deleteProductFrmTbl(pPrice, rowToBeDeleted, pChecked);\n    }\n\n    handleInputQty = e => {\n        let { pPrice, pChecked, pDiscount, pRate } = this.state,\n            { pCost } = this.props,\n            updatedQty = e.target.value,\n            updatedPrice;\n        this.setState({ pQTY: updatedQty })\n        // console.log(updatedQty > 0);\n        updatedPrice = updatedQty > 0 ?\n            parseFloat((pRate * updatedQty) - (((pRate * updatedQty) * pDiscount) / 100)).toFixed(2)\n            : 0\n        // console.log(updatedPrice);\n        // console.log(this.props.pCost);\n        if (updatedPrice > (updatedQty * pCost).toFixed(2)) {\n            this.props.minusFromTotal(pPrice);\n            pChecked && this.props.minusFromTotalValueAdded(pPrice);\n            this.setState({\n                pPrice: updatedPrice,\n            }, function () {\n                this.props.addToTotal(updatedPrice);\n                pChecked && this.props.addToTotalValueAdded(updatedPrice);\n            })\n        }\n    }\n\n    handleInputDiscount = e => {\n        let { pPrice, pChecked, pRate, pQTY } = this.state,\n            { pCost } = this.props,\n            updatedDiscount = e.target.value,\n            updatedPrice = pQTY ? parseFloat((pRate * pQTY) - (((pRate * pQTY) * updatedDiscount) / 100)).toFixed(2) : 0\n        // console.log(pQTY);\n        // console.log(pCost);\n        // console.log(pCost * pQTY);\n        // console.log(updatedPrice);\n\n        if (updatedPrice > (pQTY * pCost).toFixed(2)) {\n            this.props.minusFromTotal(pPrice);\n            pChecked && this.props.minusFromTotalValueAdded(pPrice);\n            this.setState({\n                pDiscount: updatedDiscount,\n                pPrice: updatedPrice,\n            }, function () {\n                this.props.addToTotal(updatedPrice);\n                pChecked && this.props.addToTotalValueAdded(updatedPrice);\n            })\n        }\n    }\n\n    handleBlurQty = e => {\n        if (e.target.value == 0 || e.target.value == '') {\n            let { pPrice, pChecked, pDiscount, pRate } = this.state,\n                { pCost } = this.props,\n                updatedQty = 1,\n                updatedPrice;\n            this.setState({ pQTY: updatedQty })\n            updatedPrice = updatedQty > 0 ?\n                parseFloat((pRate * updatedQty) - (((pRate * updatedQty) * pDiscount) / 100)).toFixed(2)\n                : 0\n            if (updatedPrice > (updatedQty * pCost)) {\n                this.props.minusFromTotal(pPrice);\n                pChecked && this.props.minusFromTotalValueAdded(pPrice);\n                this.setState({\n                    pPrice: updatedPrice,\n                }, function () {\n                    this.props.addToTotal(updatedPrice);\n                    pChecked && this.props.addToTotalValueAdded(updatedPrice);\n                })\n            }\n        }\n    }\n\n    onKeyPress = (e) => {\n\n        // if (isNaN(String.fromCharCode(e.which))) e.preventDefault();\n        // if ((e.which) === 32 || (e.which) === 13) e.preventDefault();\n        let array = [46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]\n        if (array.includes(e.which)) {\n        }\n        else {\n            e.preventDefault()\n        }\n    }\n\n    handleChangeExtraAdded = () => {\n        this.setState({\n            pChecked: !this.state.pChecked\n        }, function () {\n            this.state.pChecked ?\n                this.props.addToTotalValueAdded(this.state.pPrice) :\n                this.props.minusFromTotalValueAdded(this.state.pPrice)\n        })\n    }\n\n    render() {\n        let { index, pId, pSKU, pRemarks, pRate, pCost, allData } = this.props,\n            { pQTY, pPrice, pDiscount, pChecked } = this.state,\n            product = allData.allProducts && allData.allProducts.filter(product => product.id === Number(pId)).shift(),\n            pName = product ? product.name : 'Not Found'\n\n\n        return (\n\n            <tr onMouseEnter={this.mouseEntered} onMouseLeave={this.mouseLeft}>\n                <th scope='row' className='font-weight-bold colorBlue'>{index}</th>\n                <td >{pName}</td>\n                <td >{pSKU}</td>\n                <td >{pRate}</td>\n                <td>\n                    <input type='text' className='m-0 text-center w-75 colorBlue p-0'\n                        onKeyPress={this.onKeyPress} onInput={this.handleInputQty} ref={el => this.inputEditQty = el}\n                        value={pQTY} onChange={() => { }} onBlur={this.handleBlurQty}\n                        style={{ border: 'none', outline: 'none' }} />\n                </td>\n                <td>\n                    <input type='text' className='m-0 text-center w-75 colorBlue p-0'\n                        onKeyPress={this.onKeyPress} onInput={this.handleInputDiscount} ref={el => this.inputEditDiscount = el}\n                        value={pDiscount} onChange={() => { }}\n                        style={{ border: 'none', outline: 'none' }} />\n                </td>\n                <td >{pPrice}</td>\n                <td suppressContentEditableWarning={true} contentEditable='true'>{pRemarks}</td>\n                <td >\n                    <input type='checkbox' onChange={this.handleChangeExtraAdded} checked={pChecked} style={{ verticalAlign: 'middle' }} className='fontRaleway' />\n                </td>\n\n                {/* \"id\" needed when pTable row called from edit modal */}\n\n                <td style={{ display: 'none' }}>{pCost}</td>\n                <td style={{ display: 'none' }}>{pId}</td>\n                <td >\n                    <MDBBtn\n                        style={{ fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }}\n                        color='white'\n                        onClick={this.deleteRowfn.bind(this)}\n                        className='mx-0 my-1 py-1 px-2'\n                        size=\"sm\"\n                    >\n                        <MDBIcon icon=\"trash iconRed\" />\n                    </MDBBtn>\n\n                </td>\n            </tr >\n        );\n    }\n}\n\n\nexport default PTableRow","import React, { Component } from 'react';\nimport PTableRow from '../../../misc/components/PTableRow';\nimport { Animation, MDBCol, MDBRow } from 'mdbreact';\n\n\n\nclass ProductsTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            Rows: [],\n            submitOrderBtn: false,\n            displayTable: false\n        }\n    }\n\n    addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n        let row = [], { Rows } = this.state, index = Rows.length + 1,\n            { allData, minusFromTotal, addToTotal, minusFromTotalValueAdded, addToTotalValueAdded } = this.props\n        row.push(\n            <PTableRow\n                index={index}\n                pId={pId}\n                pSKU={pSKU}\n                pRate={pRate}\n                pQTY={pQTY}\n                pDiscount={pDiscount}\n                pPrice={pPrice}\n                pRemarks={pRemarks}\n                pChecked={pChecked}\n                pCost={pCost}\n                key={Math.random()}\n                deleteProductFrmTbl={this.deleteProductFrmTbl}\n                minusFromTotal={minusFromTotal}\n                addToTotal={addToTotal}\n                minusFromTotalValueAdded={minusFromTotalValueAdded}\n                addToTotalValueAdded={addToTotalValueAdded}\n                allData={allData}\n            />\n        );\n\n        Rows.length === 0 ?\n            this.setState({\n                displayTable: true,\n                submitOrderBtn: true,\n                Rows: [...Rows, row]\n            })\n            :\n            this.setState({\n                Rows: [...Rows, row]\n            })\n    }\n\n    deleteProductFrmTbl = (pPrice, rowToBeDeleted, pChecked) => {\n        let updatedRows = this.state.Rows\n        rowToBeDeleted !== -1 && updatedRows.splice(rowToBeDeleted - 1, 1)\n        this.props.minusFromTotal(pPrice);\n        pChecked && this.props.minusFromTotalValueAdded(pPrice);\n        updatedRows.length === 0 ?\n            this.setState({ Rows: updatedRows, submitOrderBtn: false, displayTable: false })\n            :\n            this.setState({ Rows: updatedRows })\n    }\n\n    submitOrder = () => {\n        // this.refs.loaderModal.setState({ modalShow: true })\n        let allFormsValid = this.props.checkOrderValidity(),\n            // let allFormsValid = false,\n            orderDetails = [], tableValid = true\n        if (allFormsValid) {\n            let pTable = document.getElementById('orderProductsTable');\n            for (let index = pTable.rows.length - 1; index > 0; index--) {\n                const pId = pTable.rows[index].cells[10].innerHTML;\n                const pSKU = pTable.rows[index].cells[2].innerHTML;\n                const pRate = pTable.rows[index].cells[3].innerHTML;\n                const pQTY = pTable.rows[index].cells[4].childNodes[0].value;\n                const pDiscount = pTable.rows[index].cells[5].childNodes[0].value;\n                const pPrice = pTable.rows[index].cells[6].innerHTML;\n                const pRemarks = pTable.rows[index].cells[7].innerHTML;\n                const pChecked = pTable.rows[index].cells[8].childNodes[0].checked;\n                const pCost = pTable.rows[index].cells[9].innerHTML;\n                // console.log(pName, pSKU, pRate, pQTY,pDiscount, pPrice, pRemarks, pChecked)\n                if (pQTY == 0 || pQTY == '') {\n                    this.refs.validatingLabel.innerHTML = `You can't set any product's quantity to 0.`\n                    tableValid = false\n                    break;\n                }\n                const orderDetail = {\n                    product_id: pId, product_sku: pSKU, product_cost: pCost, product_rate: pRate, product_qty: pQTY, product_discount: pDiscount, product_price: pPrice,\n                    product_remarks: pRemarks, product_extra_added: pChecked\n                }\n                orderDetails.push(orderDetail)\n            }\n            // console.log(tableValid && orderDetails);\n            tableValid && this.props.saveOrderDetailsToDB(orderDetails);\n        }\n        else {\n            alert('Please enter all required data.')\n        }\n    }\n\n    makeTableEmpty = () => {\n        // this.refs.loaderModal.setState({ modalShow: false })\n        this.setState({\n            Rows: [],\n            submitOrderBtn: false,\n            displayTable: false,\n        })\n    }\n\n    render() {\n        let { submitOrderBtn, displayTable } = this.state, { orderState } = this.props\n\n\n        return (\n            <MDBRow className='my-3 mx-0 p-0'>\n                <MDBCol className='m-0 p-0'>\n                    {\n                        displayTable ?\n                            <Animation type=\"fadeInDown\" duration=\"1500ms\" delay=\"0ms\">\n                                <fieldset className='borderBlue px-3 pb-0 pt-2 w-100'>\n                                    <legend className='legend-border'>Products to be sale:</legend>\n                                    <MDBRow className='m-0 p-0 table-responsive'>\n                                        <table id='orderProductsTable' className='table table-sm table-hover table-bordered mb-0'>\n                                            {submitOrderBtn ?\n                                                <caption className='mx-0 my-2 p-0 text-left'>\n                                                    <button type='button' onClick={this.submitOrder}\n                                                        style={{ fontSize: \"17px\", borderRadius: '4px' }}\n                                                        className='fontRaleway btn py-1 px-2 mx-0 my-2 w-100 font-weight-bold text-white borderBlue backGround-blue'\n                                                    >\n                                                        {orderState === 'new' ? 'SUBMIT' : 'UPDATE'}\n                                                    </button>\n                                                    <label ref='validatingLabel' className='p-0 validatingLabel'></label>\n                                                </caption>\n                                                : null}\n                                            <thead className='text-white' >\n                                                <tr >\n                                                    <th scope='col' style={{ borderTopLeftRadius: '10px' }}>#</th>\n                                                    <th scope='col'>Product</th>\n                                                    <th scope='col'>SKU</th>\n                                                    <th scope='col'>Rate</th>\n                                                    <th scope='col'>QTY</th>\n                                                    <th scope='col'>Discount (%)</th>\n                                                    <th scope='col'>Price</th>\n                                                    <th scope='col'>Remarks</th>\n                                                    <th scope='col'>Extra Added?</th>\n                                                    <th scope='col' style={{ borderTopRightRadius: '10px' }}>Action</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody className='p-0 m-0'>\n                                                {this.state.Rows}\n                                            </tbody>\n                                        </table>\n                                    </MDBRow>\n                                </fieldset>\n                            </Animation>\n                            : null\n                    }\n                </MDBCol>\n            </MDBRow>\n        );\n    }\n\n}\n\nexport default ProductsTable","import React from 'react';\nimport OrderDetails from './sections/OrderDetails';\nimport OrderCustomerDetails from './sections/OrderCustomerDetails';\nimport OrderProductDetails from './sections/OrderProductDetails';\nimport OrderProductsTable from './sections/OrderProductsTable';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader } from 'mdbreact';\nimport { Can } from '../../../configs/Ability-context'\n\n\nclass NewOrder extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      orderTotal: 0,\n      totalValueAdded: 0,\n      orderType: 'sale',\n      orderState: 'new'\n    };\n  }\n  addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n    // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n    this.refs.orderProductsTable.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\n    this.addToTotal(pPrice);\n    pChecked && this.addToTotalValueAdded(pPrice);\n  }\n\n  //handling total prices\n  minusFromTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) - Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal\n    })\n  }\n\n  addToTotal = (pPrice) => {\n    // console.log((pPrice));\n    // console.log((this.state.orderTotal));\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) + Number(pPrice)).toFixed(2)\n    // let updatedTotal = Number(this.state.orderTotal) + Number(pPrice)\n    // console.log(updatedTotal);\n    this.setState({\n      orderTotal: updatedTotal\n    })\n  }\n\n  minusFromTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) - Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded\n    })\n  }\n\n  addToTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) + Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded\n    })\n  }\n\n  checkOrderValidity = () => {\n    let orderDetailsValidity = this.refs.orderDetails.checkValidity();\n    let orderCustomerDetailsValidity = this.refs.orderDetails.checkValidity();\n    if (!orderDetailsValidity || !orderCustomerDetailsValidity) {\n      return false;\n    }\n    else {\n      return true;\n    }\n  }\n\n  saveOrderDetailsToDB = (orderDetails) => {\n    let { orderDate, orderId, orderSource, orderStatus } = this.refs.orderDetails.state\n    orderDetails.map(detail => {\n      detail.order_date = orderDate\n      detail.order_id = orderId\n      detail.order_source = orderSource.value\n      detail.order_status = orderStatus.value\n      detail.detail_type = this.state.orderType === 'sale' && 'Sale'\n    })\n    // console.log(orderDetails);\n    let orderDetailsOptions = {\n      method: 'POST',\n      body: JSON.stringify({ orderDetails: orderDetails }),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/addNewOrderDetails', orderDetailsOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        let success = true;\n        json.data.forEach(data => { if (!data.success) success = false; return })\n        success && this.saveOrderToDB()\n      })\n      .catch((error) => console.log(error))\n  }\n\n  saveOrderToDB = () => {\n    let { orderId, orderDate, orderSource, orderNote, orderStatus } = this.refs.orderDetails.state,\n      { orderTotal, totalValueAdded, orderType } = this.state,\n      { cName, cContact, cAddress } = this.refs.orderCustomerDetails.state,\n      newOrder = {\n        orderId: orderId, date: orderDate, source: orderSource.value, status: orderStatus.value,\n        orderType: orderType, note: orderNote, total: orderTotal, totalAddedValue: totalValueAdded,\n        cName: cName, cContact: cContact, cAddress: cAddress\n      }\n    // console.log(\n    //   JSON.stringify(newOrder)\n    // );\n    var newOrderOptions = {\n      method: 'POST',\n      body: JSON.stringify(newOrder),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/addNewOrder', newOrderOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        if (json.success) {\n          this.refs.orderProductsTable.makeTableEmpty();\n          this.refs.orderDetails.makeFormEmpty();\n          this.refs.orderCustomerDetails.makeFormEmpty();\n          this.setState({\n            orderTotal: 0,\n            totalValueAdded: 0,\n          })\n          // window.location.reload()\n        }\n        else\n          alert(json.message)\n      })\n      .catch((error) => console.log(error))\n  }\n\n\n\n  render() {\n    let { orderTotal, totalValueAdded, orderState, orderType } = this.state, { allData } = this.props\n\n    return (\n      <Can I='create' a='order'>\n        <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n          <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n            style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n            {orderType === 'sale' ? 'Order' : orderType === 'refund' ? 'Refund' : 'Replacement'} Details\n          </MDBCardHeader>\n          <MDBCardBody className='px-5 py-4 m-0'>\n            <OrderDetails\n              ref='orderDetails'\n              orderState={orderState}\n              orderType={orderType}\n            />\n            <OrderCustomerDetails\n              ref='orderCustomerDetails'\n            />\n\n            <OrderProductDetails\n              ref='orderProductDetails'\n              addProductToTbl={this.addProductToTbl}\n              deleteRowsFromtbl={this.deleteRowsFromtbl}\n              allData={allData}\n              orderState={orderState}\n              orderType={orderType}\n            />\n            <MDBRow end className='mb-0 mt-3 p-0' >\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={orderTotal}\n                  label=\"Total\"\n                  hint=\"Total\"\n                  disabled\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={totalValueAdded}\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                  label=\"Total value added\"\n                  hint=\"Total value added\"\n                  disabled\n                />\n              </MDBCol>\n            </MDBRow>\n            <OrderProductsTable\n              ref='orderProductsTable'\n              saveOrderDetailsToDB={this.saveOrderDetailsToDB}\n              saveOrderToDB={this.saveOrderToDB}\n              checkOrderValidity={this.checkOrderValidity}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              orderState={orderState}\n              orderType={orderType}\n              allData={allData}\n            />\n          </MDBCardBody>\n        </MDBCard >\n      </Can>\n    );\n  }\n}\n\nexport default NewOrder;","import React, { Component } from 'react';\r\nimport NewOrder from './pages/NewOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='order'><NewOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewOrder","import React from 'react';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader } from 'mdbreact';\nimport { Can } from '../../../configs/Ability-context'\n\n\n\nconst ViewOrder = ({ allData }) => {\n\n  let params = new URLSearchParams(window.location.search), orderId = Number(params.get('order')), tableRows = [],\n    desiredOrder = allData && allData.allOrders.filter(order => order.id === orderId).shift(),\n    desiredOrderDetails = allData && allData.allOrderDetails.filter(detail => detail.order_id === desiredOrder.order_id)\n  // console.log(desiredOrder);\n  // console.log(desiredOrderDetails);\n  desiredOrderDetails && desiredOrderDetails.forEach(detail => {\n    tableRows.push(\n      <tr key={tableRows.length}>\n        <th scope='row' className='font-weight-bold colorBlue'>{tableRows.length+1}</th>\n        <td >{detail.product_name}</td>\n        <td >{detail.product_sku}</td>\n        <td >{detail.product_rate}</td>\n        <td >{detail.product_qty}</td>\n        <td >{detail.product_discount} </td>\n        <td >{detail.product_price}</td>\n        <td >{detail.product_remarks}</td>\n        <td >\n          <input type='checkbox' disabled checked={detail.product_extra_added} style={{ verticalAlign: 'middle' }} className='fontRaleway' />\n        </td>\n      </tr >\n    )\n  })\n\n\n  return (\n    <Can I='read' a='order'>\n      <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n        <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n          style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n          Your Order\n        </MDBCardHeader>\n        <MDBCardBody className='px-5 py-4 m-0'>\n          <fieldset className='borderBlue py-0 px-3 mb-3 w-100'>\n            <legend className='legend-border'> Order:</legend>\n            <MDBRow className='m-0 p-0'>\n              <MDBCol className='m-0'>\n                <MDBRow center className='m-0 p-0'>\n                  <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0' middle >\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.order_id}\n                      label='Id'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='2' lg='2' md='3' sm='6' className='my-2' middle >\n                    <MDBInput\n                      className='m-0'\n                      value={new Date(desiredOrder.date).toLocaleDateString()}\n                      label='Date'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='4' lg='4' md='3' sm='6' className='my-2' middle>\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.source}\n                      label='Source'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='4' lg='4' md='4' sm='6' className='my-2' middle>\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.status}\n                      label='Status'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol md='4' className='m-0' sm='6' middle>\n                    <MDBInput\n                      label=\"Tracking Id\"\n                      value={desiredOrder.tracking_id || ' '}\n                      outline\n                      className='m-0'\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol md={'8' || '4'} sm='6' className='m-0' middle>\n                    <MDBInput\n                      type='textarea'\n                      rows='1'\n                      label=\"Note\"\n                      value={desiredOrder.note}\n                      outline\n                      className='m-0'\n                      style={{ borderRadius: '4px' }}\n                    />\n                  </MDBCol>\n                </MDBRow>\n              </MDBCol>\n            </MDBRow>\n          </fieldset>\n          <fieldset className='borderBlue mb-3 py-0 px-3 w-100'>\n            <legend className='legend-border'>Customer:</legend>\n            <MDBRow className='m-0 p-0'>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_name}\n                  className='my-0'\n                  style={{ marginRight: '4px' }}\n                  label=\"Name\"\n                  disabled\n                  outline />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_contact}\n                  className='my-0'\n                  style={{ marginRight: '4px' }}\n                  label=\"Contact\"\n                  disabled\n                  outline />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_address}\n                  className='my-0'\n                  type='textarea'\n                  rows='1'\n                  style={{ marginRight: '4px' }}\n                  label=\"Address\"\n                  disabled\n                  outline />\n              </MDBCol>\n            </MDBRow>\n          </fieldset>\n          <MDBRow end className='mb-0 mt-3 p-0' >\n            <MDBCol sm='4' className='m-0'>\n              <MDBInput\n                value={desiredOrder.total}\n                label=\"Total\"\n                disabled\n                className='m-0'\n                style={{ fontWeight: 'bold' }}\n              />\n            </MDBCol>\n            <MDBCol sm='4' className='m-0'>\n              <MDBInput\n                value={desiredOrder.total_value_added}\n                className='m-0'\n                style={{ fontWeight: 'bold' }}\n                label=\"Total value added\"\n                disabled\n              />\n            </MDBCol>\n          </MDBRow>\n          <fieldset className='borderBlue px-3 pb-0 pt-2 w-100'>\n            <legend className='legend-border'>Products:</legend>\n            <MDBRow className='m-0 p-0 table-responsive'>\n              <table id='' className='table table-sm table-hover table-bordered mb-3'>\n                <thead className='text-white' >\n                  <tr >\n                    <th scope='col' style={{ borderTopLeftRadius: '10px' }}>#</th>\n                    <th scope='col'>Product</th>\n                    <th scope='col'>SKU</th>\n                    <th scope='col'>Rate</th>\n                    <th scope='col'>QTY</th>\n                    <th scope='col'>Discount (%)</th>\n                    <th scope='col'>Price</th>\n                    <th scope='col'>Remarks</th>\n                    <th scope='col' style={{ borderTopRightRadius: '10px' }}>Extra Added ?</th>\n                  </tr>\n                </thead>\n                <tbody className='p-0 m-0'>\n                  {tableRows}\n                </tbody>\n              </table>\n            </MDBRow>\n          </fieldset>\n        </MDBCardBody>\n      </MDBCard >\n    </Can>\n  );\n}\n\nexport default ViewOrder;","import React, { Component } from 'react';\r\nimport ViewOrder from './pages/ViewOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredViewOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='order'><ViewOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredViewOrder","import React from 'react';\nimport OrderDetails from './sections/OrderDetails';\nimport OrderCustomerDetails from './sections/OrderCustomerDetails';\nimport OrderProductDetails from './sections/OrderProductDetails';\nimport OrderProductsTable from './sections/OrderProductsTable';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader, MDBIcon } from 'mdbreact';\nimport PTableRow from '../../misc/components/PTableRow';\nimport { Can } from '../../../configs/Ability-context'\n\n\n\n\nclass EditOrder extends React.Component {\n  constructor(props) {\n    super();\n    let params = new URLSearchParams(window.location.search),\n      orderId = Number(params.get('order')),\n      { allData } = props,\n      desiredOrder = allData && allData.allOrders && allData.allOrders.filter(order => order.id === orderId).shift(),\n      desiredOrderDetails = desiredOrder && allData && allData.allOrderDetails && allData.allOrderDetails.filter(detail => detail.order_id === desiredOrder.order_id)\n    this.state = {\n      orderBeingEdited: desiredOrder,\n      orderDetailsBeingEdited: desiredOrderDetails,\n      orderTotal: desiredOrder && desiredOrder.total || 0,\n      totalValueAdded: desiredOrder && desiredOrder.total_value_added || 0,\n      orderType: 'sale',\n      orderState: 'edit',\n      desiredOrder: desiredOrder,\n      desiredOrderDetails: desiredOrderDetails,\n      displayAddFormButton: true,\n      tableUpdated: false,\n    };\n  }\n\n  //setting existing data \n  componentDidMount = () => {\n    let { desiredOrder, desiredOrderDetails } = this.state, tableRows = []\n    if (desiredOrder) {\n      this.refs.orderDetails.setState({\n        orderId: desiredOrder.order_id,\n        orderDate: new Date(desiredOrder.date),\n        orderSource: { value: desiredOrder.source, label: desiredOrder.source, key: 1, color: '#112648' },\n        orderStatus: { value: desiredOrder.status, label: desiredOrder.status, key: 1, color: '#112648' },\n        courier: desiredOrder.courier || '',\n        orderTracking: desiredOrder.tracking_id || '',\n        orderNote: desiredOrder.note,\n      })\n      this.refs.orderCustomerDetails.setState({\n        cName: desiredOrder.customer_name,\n        cContact: desiredOrder.customer_contact,\n        cAddress: desiredOrder.customer_address,\n      })\n      if (desiredOrderDetails) {\n        desiredOrderDetails.forEach(detail => {\n          tableRows.push(\n            <PTableRow\n              index={tableRows.length}\n              pId={detail.product_id}\n              pSKU={detail.product_sku}\n              pCost={detail.product_cost}\n              pRate={detail.product_rate}\n              pQTY={detail.product_qty}\n              pDiscount={detail.product_discount}\n              pPrice={detail.product_price}\n              pRemarks={detail.product_remarks}\n              pChecked={detail.product_extra_added}\n              key={Math.random()}\n              deleteProductFrmTbl={this.refs.orderProductsTable.deleteProductFrmTbl}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              allData={this.props.allData}\n            />\n          )\n        })\n        this.refs.orderProductsTable.setState({\n          Rows: tableRows,\n          submitOrderBtn: true,\n          displayTable: true,\n        })\n      }\n    }\n  }\n\n  addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n    // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n    this.refs.orderProductsTable.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\n    this.addToTotal(pPrice);\n    pChecked && this.addToTotalValueAdded(pPrice);\n  }\n\n  //handling total prices\n  minusFromTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) - Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal,\n      tableUpdated: true\n    })\n  }\n\n  addToTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) + Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal,\n      tableUpdated: true\n    })\n  }\n\n  minusFromTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) - Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded,\n      tableUpdated: true\n    })\n  }\n\n  addToTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) + Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded,\n      tableUpdated: true\n    })\n  }\n\n  //checking order forms validity\n  checkOrderValidity = () => {\n    let orderDetailsValidity = this.refs.orderDetails.checkValidity();\n    let orderCustomerDetailsValidity = this.refs.orderDetails.checkValidity();\n    if (!orderDetailsValidity || !orderCustomerDetailsValidity) {\n      return false;\n    }\n    else {\n      return true;\n    }\n  }\n\n  //updating order-products to DB\n  saveOrderDetailsToDB = (orderDetails) => {\n    let { orderDate, orderId, orderSource, orderStatus } = this.refs.orderDetails.state,\n      { tableUpdated } = this.state\n\n    //deleting existing order-products of updated-order\n    if (tableUpdated) {\n      let deleteOrderDetailsOptions = {\n        method: 'DELETE',\n        body: JSON.stringify({ orderId: orderId }),\n        headers: { 'Content-Type': 'application/json' }\n      }\n      fetch('/deleteOrderDetails', deleteOrderDetailsOptions)\n        .then((res) => res.json())\n        .then((json) => {\n          console.log(json)\n\n          //creating again order-products of updated order\n          if (json.success) {\n            orderDetails.map(detail => {\n              detail.order_date = orderDate\n              detail.order_id = orderId\n              detail.order_source = orderSource.value\n              detail.order_status = orderStatus.value\n              detail.detail_type = this.state.orderType === 'sale' && 'Sale'\n            })\n            // console.log(orderDetails);\n            let orderDetailsOptions = {\n              method: 'POST',\n              body: JSON.stringify({ orderDetails: orderDetails }),\n              headers: { 'Content-Type': 'application/json' }\n            }\n            fetch('/addNewOrderDetails', orderDetailsOptions)\n              .then((res) => res.json())\n              .then((json) => {\n                console.log(json)\n                let success = true;\n                json.data.forEach(data => { if (!data.success) success = false; return })\n                success && this.saveOrderToDB()\n              })\n              .catch((error) => console.log(error))\n          }\n        })\n        .catch((error) => console.log(error))\n    }\n    else {\n      let updates = {\n        orderId: orderId, orderDate: orderDate,\n        orderSource: orderSource.value,\n        orderStatus: orderStatus.value,\n      },\n        updateOrderDetailsOptions = {\n          method: 'PUT',\n          body: JSON.stringify(updates),\n          headers: { 'Content-Type': 'application/json' }\n        }\n      fetch('/updateOrderDetails', updateOrderDetailsOptions)\n        .then((res) => res.json())\n        .then((json) => {\n          console.log(json)\n          json.success && this.saveOrderToDB()\n        })\n        .catch((error) => console.log(error))\n    }\n  }\n\n  //updating order to DB\n  saveOrderToDB = () => {\n    let { orderDate, orderSource, orderNote, orderStatus, orderTracking, courier } = this.refs.orderDetails.state,\n      { orderTotal, totalValueAdded, desiredOrder } = this.state,\n      { cName, cContact, cAddress } = this.refs.orderCustomerDetails.state,\n      updatedOrder = {\n        id: desiredOrder.id, date: orderDate, source: orderSource.value, status: orderStatus.value, courier: courier,\n        trackingId: orderTracking, note: orderNote, total: orderTotal, totalAddedValue: totalValueAdded,\n        cName: cName, cContact: cContact, cAddress: cAddress\n      }\n    // console.log(\n    //   JSON.stringify(newOrder)\n    // );\n    let updatedOrderOptions = {\n      method: 'PUT',\n      body: JSON.stringify(updatedOrder),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/updateOrder', updatedOrderOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        if (json.success) {\n          window.location.reload()\n        }\n        else\n          alert(json.message)\n      })\n      .catch((error) => console.log(error))\n  }\n\n\n\n  render() {\n    let { orderTotal, totalValueAdded, orderState, displayAddFormButton, desiredOrder, desiredOrderDetails } = this.state, { allData } = this.props\n\n    return (\n      <Can I='create' a='order'>\n        <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n          <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n            style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n            Order Details\n          </MDBCardHeader>\n          <MDBCardBody className='px-5 py-4 m-0'>\n\n            <OrderDetails\n              ref='orderDetails'\n              orderState={orderState}\n              orderBeingEdited={desiredOrder}\n              orderDetailsBeingEdited={desiredOrderDetails}\n            />\n\n            <OrderCustomerDetails\n              ref='orderCustomerDetails'\n            />\n\n            <OrderProductDetails\n              ref='orderProductDetails'\n              addProductToTbl={this.addProductToTbl}\n              deleteRowsFromtbl={this.deleteRowsFromtbl}\n              allData={allData}\n              orderState={orderState}\n            />\n\n            <MDBRow end className='mb-0 mt-3 p-0' >\n              {displayAddFormButton ?\n                <MDBCol sm='4' middle className='m-0'>\n                  <button style={{ fontSize: '17px', borderRadius: '4px', color: 'white' }}\n                    onClick={() => {\n                      this.refs.orderProductDetails.setState({ displayForm: true },\n                        this.setState({ displayAddFormButton: false }))\n                    }}\n                    className='btn py-1 px-2 font-weight-bold backGround-blue fontRaleway borderBlue'>\n                    {/* <MDBIcon icon=\"plus colorBlue mr-1\" /> */}\n                    Add New Product\n                  </button>\n                </MDBCol>\n                : null}\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={orderTotal}\n                  label=\"Total\"\n                  hint=\"Total\"\n                  disabled\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={totalValueAdded}\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                  label=\"Total value added\"\n                  hint=\"Total value added\"\n                  disabled\n                />\n              </MDBCol>\n            </MDBRow>\n\n            <OrderProductsTable\n              ref='orderProductsTable'\n              saveOrderDetailsToDB={this.saveOrderDetailsToDB}\n              saveOrderToDB={this.saveOrderToDB}\n              checkOrderValidity={this.checkOrderValidity}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              orderState={orderState}\n              allData={allData}\n            />\n          </MDBCardBody>\n        </MDBCard >\n      </Can >\n    );\n  }\n}\n\nexport default EditOrder;","import React, { Component } from 'react';\r\nimport EditOrder from './pages/EditOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='order'><EditOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditOrder","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../misc//components/DeleteModal';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllOrders extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            orderToBeDeleted: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/orders/edit\", search: `order=${id}` })\n    }\n\n    handleView = (id) => (e) => {\n        this.props.history.push({ pathname: \"/orders/view\", search: `order=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/orders/new')\n    }\n\n    handleDelete = (id) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            orderToBeDeleted: id\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteOrder = () => {\n        let { rowToBeDeleted, orderToBeDeleted } = this.state\n        let deleteOrder = { value: orderToBeDeleted }\n\n        let deleteOrderOptions = {\n            method: 'DELETE',\n            body: JSON.stringify(deleteOrder),\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch('/deleteOrder', deleteOrderOptions)\n            .then((res) => res.json())\n            .then((json) => {\n                // console.log(json)\n                json.success && document.getElementById('allOrdersTable').deleteRow(rowToBeDeleted)\n            })\n            .catch((error) => console.log(error))\n    }\n\n\n    render() {\n        let { allOrders } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n;\n\n        allOrders && allOrders.forEach((order) => {\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    orderId: order.order_id,\n                    date: new Date(order.date).toLocaleDateString(),\n                    source: order.source,\n                    status: order.status,\n                    tracking: order.tracking_id,\n                    total: order.total,\n                    totalValueAdded: order.total_value_added,\n                    cName: order.customer_name,\n                    cContact: order.customer_contact,\n                    cAddress: order.customer_address,\n                    buttons: <React.Fragment>\n                        <Can I='read' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleView(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"eye iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='update' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Id', field: 'orderId' }, { label: 'Date', field: 'date' }, { label: 'Source', field: 'source', },\n                { label: 'Status', field: 'status', }, { label: 'Tracking Id', field: 'tracking', }, { label: 'Total', field: 'total', },\n                { label: 'TVA', field: 'totalValueAdded', }, { label: 'Customer', field: 'cName', }, { label: 'Contact', field: 'cContact', },\n                { label: 'Address', field: 'cAddress', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='order'>\n                <MyOwnListing\n                    cardHeading={`Orders`}\n                    permissionEntity='order'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Order'\n                    tableId='allOrdersTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteOrder}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllOrders","import React, { Component } from 'react';\r\nimport AllOrders from './pages/AllOrders';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllOrders extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='order'><AllOrders  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllOrders","import React from 'react';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nconst AllOrderDetails = ({ allData }) => {\n\n    let { allOrderDetails, allProducts } = allData, rows = [], data, index = 0\n    allOrderDetails && allOrderDetails.forEach((detail) => {\n        index = index + 1;\n        let product = allProducts && allProducts.filter(product => product.id === Number(detail.product_id)).shift(),\n            pName = product ? product.name : 'Not Found'\n        rows.push(\n            {\n                index: index,\n                orderId: detail.order_id,\n                date: new Date(detail.order_date).toLocaleDateString(),\n                source: detail.order_source,\n                status: detail.order_status,\n                pName: pName,\n                pSku: detail.product_sku,\n                pCost: detail.product_cost,\n                pRate: detail.product_rate,\n                pQty: detail.product_qty,\n                pDiscount: detail.product_discount,\n                pPrice: detail.product_price,\n            }\n        );\n    });\n    data = {\n        columns: [\n            { label: '#', field: 'index', }, { label: 'Order-Id', field: 'orderId' }, { label: 'Date', field: 'date' }, { label: 'Source', field: 'source', },\n            { label: 'Status', field: 'status', }, { label: 'Product', field: 'pName', }, { label: 'SKU', field: 'pSku', }, { label: 'Cost', field: 'pCost', },\n            { label: 'Rate', field: 'pRate', },\n            { label: 'QTY', field: 'pQty', }, { label: 'Discount (%)', field: 'pDiscount', }, { label: 'Price', field: 'pPrice', },\n        ],\n        rows: rows\n    }\n\n    return (\n        <Can I='read' a='orderDetail'>\n            <MyOwnListing\n                cardHeading={`Order-Details`}\n                permissionEntity='orderDetail'\n                tableId='allOrderDetailsTable'\n                data={data}\n            />\n            {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n        </Can>\n    );\n\n}\n\nexport default AllOrderDetails","import React, { Component } from 'react';\r\nimport AllOrderDetails from './pages/AllOrderDetails';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllOrderDetails extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='orderDetail'><AllOrderDetails  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllOrderDetails","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewOrder from './SecuredNewOrder';\r\nimport SecuredViewOrder from './SecuredViewOrder';\r\nimport SecuredEditOrder from './SecuredEditOrder';\r\nimport SecuredAllOrders from './SecuredAllOrders';\r\nimport SecuredAllOrderDetails from './SecuredAllOrderDetails';\r\n\r\n\r\n\r\nconst Orders = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/orders/new\" render={() => <SecuredNewOrder allData={allData} />} />\r\n            <Route path=\"/orders/view\" render={() => <SecuredViewOrder allData={allData} />} />\r\n            <Route path=\"/orders/edit\" render={() => <SecuredEditOrder allData={allData} />} />\r\n            <Route path=\"/orders/all\" render={(routeProps) => <SecuredAllOrders {...routeProps} allData={allData} />} />\r\n            <Route path=\"/orders/order_details\" render={() => <SecuredAllOrderDetails allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Orders","import React, { Component } from \"react\";\r\nimport { MDBBtn, MDBCard, MDBCardBody, MDBInput, MDBIcon, } from 'mdbreact';\r\n\r\n\r\n\r\nconst serviceOptions = [\r\n    { value: 'seo', label: 'SEO', key: 1, color: '#112648' },\r\n    { value: 'web development', label: 'Web Development', key: 1, color: '#687722' },\r\n    { value: 'graphics designing', label: 'Graphics Designing', key: 1, color: '#112648' },\r\n    { value: 'mobile apps', label: 'Mobile App', key: 1, color: '#687722' }\r\n];\r\n\r\n\r\nclass Invoice extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editingInvoiceId = props.id\r\n        let { allRoles, allUsers, allCompanies } = props.allData,\r\n            clientRole = allRoles && allRoles.filter(role => role.name === 'client').shift(),\r\n            clientRoleId = clientRole && clientRole.id,\r\n            allClients = allUsers && allUsers.filter(user => user.role_id === clientRoleId)\r\n        this.state = {\r\n            date: new Date().toDateString(),\r\n            invoice_id: Math.floor((Math.random() * 200000) + 1),\r\n            address: '',\r\n            phone: '',\r\n            total: 0,\r\n            selectedClient: '',\r\n            clients: allClients,\r\n            selectedCompany: '',\r\n            companies: allCompanies,\r\n            items: [],\r\n            service: '',\r\n            detail: '',\r\n            rate: '',\r\n            qty: '',\r\n            message: '',\r\n            printInvoice: false\r\n        }\r\n    }\r\n\r\n    makeStateEmpty = () => {\r\n        this.setState({\r\n            invoice_id: Math.floor((Math.random() * 200000) + 1),\r\n            selectedClient: '',\r\n            selectedCompany: '',\r\n            address: '',\r\n            phone: '',\r\n            items: [],\r\n            service: '',\r\n            detail: '',\r\n            rate: '',\r\n            qty: '',\r\n        })\r\n    }\r\n\r\n    printInvoice = () => {\r\n        this.setState({ message: '' })\r\n        const printArea = document.getElementById('capture').innerHTML;\r\n        const wholeContent = document.body.innerHTML;\r\n        document.body.innerHTML = printArea;\r\n        window.print();\r\n        document.body.innerHTML = wholeContent;\r\n        window.location.reload()\r\n        setTimeout(() => {\r\n            this.makeStateEmpty()\r\n        }, 1500)\r\n    }\r\n\r\n    submitInvoice = () => {\r\n        let { items, printInvoice } = this.state, total = this.total_amount.state.innerValue\r\n        let form = this.selectClientForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n        } else if (items.length === 0) {\r\n            this.setState({ message: 'No Invoice Data !' })\r\n            return\r\n        }\r\n        else if (isNaN(total)) {\r\n            this.setState({ message: 'Please enter a valid price!' })\r\n            return\r\n        }\r\n        else {\r\n            let { invoice_id, selectedClient, selectedCompany, address, phone, date } = this.state\r\n\r\n            const obj = {\r\n                slagme: invoice_id,\r\n                companyId: selectedCompany,\r\n                cId: selectedClient,\r\n                address: address,\r\n                number: phone,\r\n                date: date,\r\n                total_amount: total,\r\n            };\r\n            if (!this.editingInvoiceId) {\r\n                let newInvoiceOptions = {\r\n                    method: 'POST',\r\n                    body: JSON.stringify(obj),\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }\r\n                fetch('/addNewInvoice', newInvoiceOptions)\r\n                    .then(res => res.json())\r\n                    .then(json => {\r\n                        console.log(json);\r\n                        this.setState({ message: json.message });\r\n                        if (json.success) {\r\n                            newInvoiceOptions.body = JSON.stringify(items)\r\n                            fetch('/addNewInvoiceDetails', newInvoiceOptions)\r\n                                .then(res => res.json())\r\n                                .then(json => {\r\n                                    console.log(json)\r\n                                    this.setState({ message: json.message });\r\n                                    if (json.success) {\r\n                                        this.selectClientForm.classList.remove('was-validated')\r\n                                        printInvoice ? this.printInvoice() : this.makeStateEmpty()\r\n                                    }\r\n                                })\r\n                                .catch(error => console.log(error))\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err)\r\n                    });\r\n            }\r\n            else {\r\n                let deleteInvoiceDetailsOptions = {\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }\r\n                fetch(`/deleteInvoiceDetails/${invoice_id}`, deleteInvoiceDetailsOptions)\r\n                    .then(res => res.json())\r\n                    .then((json) => {\r\n                        console.log(json);\r\n                        this.setState({ message: json.message });\r\n                        if (json.success) {\r\n                            let updateInvoiceOptions = deleteInvoiceDetailsOptions\r\n                            updateInvoiceOptions.method = 'PUT'\r\n                            updateInvoiceOptions.body = JSON.stringify(obj)\r\n                            fetch(`/updateInvoice/${this.editingInvoiceId}`, updateInvoiceOptions)\r\n                                .then(res => res.json())\r\n                                .then((json) => {\r\n                                    console.log(json);\r\n                                    this.setState({ message: json.message });\r\n                                    if (json.success) {\r\n                                        let updateInvoiceDetailsOptions = updateInvoiceOptions\r\n                                        updateInvoiceDetailsOptions.method = 'POST'\r\n                                        updateInvoiceDetailsOptions.body = JSON.stringify(items)\r\n                                        fetch('/addNewInvoiceDetails', updateInvoiceDetailsOptions)\r\n                                            .then(res => res.json())\r\n                                            .then(json => {\r\n                                                console.log(json);\r\n                                                this.setState({ message: json.message });\r\n                                                if (json.success) {\r\n                                                    this.selectClientForm.classList.remove('was-validated')\r\n                                                    printInvoice ? this.printInvoice() : this.makeStateEmpty()\r\n                                                }\r\n                                            })\r\n                                    }\r\n                                })\r\n                                .catch(err => console.log(err))\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (this.editingInvoiceId) {\r\n            let { allInvoices, allInvoiceDetails } = this.props.allData,\r\n                invoiceToBeEdited = allInvoices && allInvoices.filter(invoice => invoice.id === this.editingInvoiceId).shift(),\r\n                editingInvoiceDetails = invoiceToBeEdited && allInvoiceDetails && allInvoiceDetails.filter(\r\n                    detail => detail.invoice_id === Number(invoiceToBeEdited.slagme)\r\n                ), items = [];\r\n            editingInvoiceDetails && editingInvoiceDetails.forEach(detail => {\r\n                items.push({\r\n                    invoice_id: detail.invoice_id,\r\n                    service: detail.service,\r\n                    detail: detail.detail,\r\n                    rate: detail.rate,\r\n                    qty: detail.qty,\r\n                    price: detail.price\r\n                })\r\n            })\r\n            invoiceToBeEdited && this.setState({\r\n                date: new Date(invoiceToBeEdited.date).toDateString(),\r\n                invoice_id: invoiceToBeEdited.slagme,\r\n                selectedClient: invoiceToBeEdited.c_id,\r\n                selectedCompany: invoiceToBeEdited.company_id,\r\n                address: invoiceToBeEdited.c_address,\r\n                phone: invoiceToBeEdited.c_number,\r\n                items: items\r\n            })\r\n        }\r\n    }\r\n\r\n    calculateTotal = () => {\r\n        let total = 0;\r\n        this.state.items.length !== 0 && this.state.items.forEach(item => {\r\n            total += Number(item.price)\r\n        })\r\n        return total\r\n    };\r\n\r\n    onChangeSelect = name => (e) => {\r\n        if (name === 'client') {\r\n            let ourClient = this.state.clients.filter(client => client.id == e.target.value).shift()\r\n            ourClient ?\r\n                this.setState({\r\n                    selectedClient: ourClient.id,\r\n                    address: ourClient.address,\r\n                    phone: ourClient.cell\r\n                })\r\n                :\r\n                this.setState({\r\n                    selectedClient: '',\r\n                    address: '',\r\n                    phone: ''\r\n                })\r\n        }\r\n        else {\r\n            this.setState({ selectedCompany: Number(e.target.value) })\r\n        }\r\n    }\r\n\r\n    onInput = name => e => {\r\n        this.setState({\r\n            [name]: e.target.value,\r\n            message: ''\r\n        })\r\n    }\r\n\r\n    addItem = (e) => {\r\n        e.preventDefault()\r\n        if (this.addItemForm.checkValidity() === false) {\r\n            this.addItemForm.classList.add('was-validated')\r\n            return\r\n        } else {\r\n            let { invoice_id, detail, qty, rate, service } = this.state\r\n            let newitem = {\r\n                invoice_id: invoice_id,\r\n                service: service,\r\n                detail: detail,\r\n                rate: rate,\r\n                qty: qty,\r\n                price: this.price.state.innerValue\r\n            };\r\n            this.setState({\r\n                items: [...this.state.items, newitem],\r\n                detail: '',\r\n                service: '',\r\n                rate: '',\r\n                qty: '',\r\n                price: '',\r\n            }, function () {\r\n                this.addItemForm.classList.remove('was-validated')\r\n            });\r\n        }\r\n    }\r\n\r\n    tdOnBlur = (Index, name) => (e) => {\r\n        let el = e.target\r\n        this.setState(state => {\r\n            const items = state.items.map((item, index) => {\r\n                if (index === Index) {\r\n                    item[name] = el.innerHTML\r\n                    name !== 'detail' && (item.price = name === 'rate' ? Number(el.innerHTML * item.qty) : Number(item.rate * el.innerHTML))\r\n                    return item;\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n            return {\r\n                items,\r\n            };\r\n        });\r\n    }\r\n\r\n    deleteItemData = Index => (e) => {\r\n        this.setState(prevState => ({\r\n            items: prevState.items.filter((itemData, index) => {\r\n                return index !== Index\r\n            })\r\n        }))\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        let array = [46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]\r\n        if (array.includes(e.which)) {\r\n        }\r\n        else {\r\n            e.preventDefault()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { date, invoice_id, selectedClient, selectedCompany, phone, address, service, detail, rate, qty, clients, companies, message, printInvoice } = this.state,\r\n            companyDetailStyle = { fontSize: '0.8rem' },\r\n            clientOptions = clients && clients.map((client) => <option key={client.id} value={client.id}>{client.name}</option>),\r\n            companyOptions = companies && companies.map((company) => <option key={company.id} value={company.id}>{company.name}</option>),\r\n            companyDetails = companies && companies.filter(company => company.id === Number(selectedCompany)).shift(),\r\n            tableRows = [];\r\n\r\n\r\n        this.state.items.map((item, index) => {\r\n            tableRows.push(\r\n                <tr key={index} className='text-center'>\r\n                    <td>\r\n                        {item.service}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'detail')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                    >\r\n                        {item.detail}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'rate')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                        onKeyPress={this.onKeyPress}\r\n                    >\r\n                        {item.rate}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'qty')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                        onKeyPress={this.onKeyPress}\r\n                    >\r\n                        {item.qty}\r\n                    </td>\r\n                    <td>\r\n                        {item.rate * item.qty}\r\n                    </td>\r\n                    <td className='printHide'>\r\n                        <MDBBtn size=\"sm\" color=\"danger\" onClick={this.deleteItemData(index)}>\r\n                            <i className=\"fas fa-trash\" />\r\n                        </MDBBtn>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row m-4\">\r\n                    <div className=\"col-sm-12\" id=\"capture\">\r\n                        <MDBCard>\r\n                            <MDBCardBody>\r\n                                <h2 className=\"text-center invoiceHeader\"\r\n                                    style={{ backgroundColor: \"#9ACD32\", color: \"white\" }}>INVOICE</h2>\r\n                                <div className=\"row m-0 p-0\">\r\n                                    <div className=\"col-sm-3 align-self-center mb-0 mt-4 p-0\">\r\n                                        <MDBInput label=\"Date\" className='m-0' disabled value={date} />\r\n                                        <MDBInput label=\"Id\" className='m-0' disabled value={invoice_id} />\r\n                                    </div>\r\n                                    <div className=\"col-sm-6 align-self-center m-0 p-0\">\r\n                                        <img src={companyDetails && `/getImage/${companyDetails.logo}`} alt={companyDetails && companyDetails.name} width=\"100%\" height=\"auto\" /><br />\r\n                                    </div>\r\n                                    <div className=\"col-md-3 mb-0 mt-4 p-0 align-self-center\">\r\n                                        <div className='row mb-2'>\r\n                                            <div className='col-2 text-center  m-0 p-0'>\r\n                                                <i className='fa fa-mobile-alt' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.cell}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='row mb-2'>\r\n                                            <div className='col-2 text-center  m-0 py-0 pr-0 pl-0'>\r\n                                                <i className='fa fa-envelope' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.email}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='row'>\r\n                                            <div className='col-2 text-center  m-0 p-0'>\r\n                                                <i className='fa fa-map-marker-alt' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.address}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <form ref={el => this.selectClientForm = el} noValidate>\r\n                                    <div className=\"row justify-content-start\">\r\n                                        <div className=\"col-sm-4 mb-0\">\r\n                                            <br />\r\n                                            <select\r\n                                                value={selectedClient}\r\n                                                className=\"browser-default custom-select mt-1 p-2\"\r\n                                                onChange={this.onChangeSelect('client')}\r\n                                                required\r\n                                            >\r\n                                                <option key={Math.random()} value='' disabled>Select Client...</option>\r\n                                                {clientOptions}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"col-sm-4 mb-0\">\r\n                                            <MDBInput\r\n                                                label=\"Phone\"\r\n                                                value={phone}\r\n                                                className='my-0 px-2'\r\n                                                disabled\r\n                                                required />\r\n                                        </div>\r\n                                        <div className=\"col-sm-4 m-0 printHide\">\r\n                                            <br />\r\n                                            <select\r\n                                                value={selectedCompany}\r\n                                                className=\"browser-default custom-select mt-1 p-2\"\r\n                                                onChange={this.onChangeSelect('company')}\r\n                                                required\r\n                                            >\r\n                                                <option key={Math.random()} value='' disabled>Select Company...</option>\r\n                                                {companyOptions}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"col-sm-12 clientAddress \">\r\n                                            <MDBInput\r\n                                                label=\"Address\"\r\n                                                value={address}\r\n                                                disabled\r\n                                                required\r\n                                                validate\r\n                                                className='my-0 px-2'\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                <div className='text-center'><label className='validatingLabel'>{message}</label></div>\r\n\r\n                                <div className=\"container-fluid m-0 p-0\"\r\n                                    style={{ borderStyle: \"groove\", borderRadius: \"10px\" }}>\r\n                                    <form onSubmit={this.addItem} className='p-0 printHide' ref={ref => this.addItemForm = ref}\r\n                                        noValidate>\r\n                                        <div className=\"row px-2 m-0\">\r\n                                            <div className=\"col-md-3 m-0\">\r\n                                                <br />\r\n                                                <select\r\n                                                    className=\"form-control mt-1\"\r\n                                                    onChange={this.onInput('service')}\r\n                                                    required\r\n                                                    value={service}\r\n                                                >\r\n                                                    <option value='' disabled>Select Services...</option>\r\n                                                    <option value=\"seo\">SEO</option>\r\n                                                    <option value=\"web development\">Web Development</option>\r\n                                                    <option value=\"mob app\">Mobile App</option>\r\n                                                    <option value=\"graphic designing\">Graphic Designing</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-5 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Item-descrption\"\r\n                                                    value={detail}\r\n                                                    type=\"text\"\r\n                                                    onChange={this.onInput('detail')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Rate\"\r\n                                                    value={rate}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onInput('rate')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Qty\"\r\n                                                    value={qty}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onInput('qty')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\" style={{ marginBottom: '-20px' }}>\r\n                                                <MDBInput\r\n                                                    label=\"Price\"\r\n                                                    ref={el => this.price = el}\r\n                                                    value={rate * qty}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    disabled\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-1 m-0 pt-2 align-self-center\">\r\n                                                <button\r\n                                                    type='submit'\r\n                                                    color=\"transparent\"\r\n                                                    className='mb-2'\r\n                                                >\r\n                                                    <MDBIcon icon=\"plus\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                    <div className=\"row px-2 mx-0 mt-4\"\r\n                                        style={{ display: this.state.items.length === 0 ? 'none' : '' }}>\r\n                                        <div className=\"col-md-12 m-0\">\r\n                                            <div className='m-0 p-0 table-responsive'>\r\n                                                <table id='invoiceTable' className=\"table table-bordered table-hover table-sm\">\r\n                                                    <thead className='thead-light text-center'>\r\n                                                        <tr style={{ borderTopLeftRadius: '10px', borderTopRightRadius: '10px' }}>\r\n                                                            <th >Services</th>\r\n                                                            <th>Description</th>\r\n                                                            <th>Rate</th>\r\n                                                            <th>Qty.</th>\r\n                                                            <th>Price</th>\r\n                                                            <th className='printHide'>Action</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {tableRows}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row px-2 m-0\" style={{ display: this.state.items.length === 0 ? 'none' : '' }}>\r\n                                        <div className='col-md-4 offset-md-8'>\r\n                                            <MDBInput label='Total' outline ref={el => this.total_amount = el} value={this.calculateTotal()} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <p className='text-center' style={{ fontFamily: 'monospace' }}>Thank you for doing business with {companyDetails && companyDetails.name}.</p>\r\n\r\n                                <div className=\"row m-0 p-2 justify-content-center printHide\">\r\n                                    <div className=\"col-md-3 align-self-center p-0\">\r\n                                        <div className='row m-0 p-0'>\r\n                                            <div className='col m-0 p-0 text-right'>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={printInvoice}\r\n                                                    onChange={() => {\r\n                                                        this.setState({\r\n                                                            printInvoice: !this.state.printInvoice\r\n                                                        })\r\n                                                    }}\r\n                                                    style={{ width: '30px', height: '30px', verticalAlign: 'middle' }}\r\n                                                />\r\n                                            </div>\r\n                                            <div className='col text-left m-0 p-0 align-self-center'>\r\n                                                <p className='m-0 p-0'>Print Invoice?</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* To print invoice, press ctrl+p before saving. */}\r\n                                    <div className=\"col-md-3 align-self-center py-0 px-2\">\r\n                                        <MDBBtn\r\n                                            color=\"success\"\r\n                                            onClick={this.submitInvoice}\r\n                                            size=\"md\"\r\n                                            className='form-control my-0 mx-2 py-2'\r\n                                        >\r\n                                            <MDBIcon\r\n                                                icon=\"save\"\r\n                                                size=\"lg\"\r\n                                                className='mr-1'\r\n                                            />\r\n                                            Save\r\n                                        </MDBBtn>\r\n                                    </div>\r\n                                </div>\r\n                            </MDBCardBody>\r\n                        </MDBCard>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Invoice;","import React from \"react\";\nimport Invoice from '../../misc/pages/Invoice'\nimport { Can } from '../../../configs/Ability-context'\n\n\nconst NewInvoice = (props) => {\n\n  return (\n    <Can I='create' a='invoice'><Invoice allData={props.allData} /></Can>\n  )\n}\n\nexport default NewInvoice;","import React, { Component } from 'react';\r\nimport NewInvoice from './pages/NewInvoice';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewInvoice extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='Invoice'><NewInvoice allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewInvoice","import React from \"react\";\nimport Invoice from '../../misc/pages/Invoice'\nimport { Can } from '../../../configs/Ability-context'\n\n\nconst EditInvoice = (props) => {\n  let params = new URLSearchParams(window.location.search),\n    id = Number(params.get('invoice'))\n  return (\n    <Can I='update' a='invoice'><Invoice id={id} allData={props.allData} /></Can>\n\n  )\n}\n\nexport default EditInvoice;","import React, { Component } from 'react';\r\nimport EditInvoice from './pages/EditInvoice';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditInvoice extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='Invoice'><EditInvoice allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditInvoice","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../misc/components/DeleteModal';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllInvoices extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            invoiceToBeDeleted: '',\n            invoiceId: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/edit\", search: `invoice=${id}` })\n    }\n\n    handleView = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/view\", search: `invoice=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/invoices/new')\n    }\n\n    handleDelete = (invoice) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            invoiceToBeDeleted: invoice.id,\n            invoiceId: invoice.slagme,\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteInvoice = () => {\n        let { rowToBeDeleted, invoiceToBeDeleted, invoiceId } = this.state\n        let deleteInvoiceOptions = {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch(`/deleteInvoiceDetails/${invoiceId}`, deleteInvoiceOptions)\n            .then(res => res.json())\n            .then(json => {\n                console.log(json)\n                json.success &&\n                    fetch(`/deleteInvoice/${invoiceToBeDeleted}`, deleteInvoiceOptions)\n                        .then((res) => res.json())\n                        .then((json) => {\n                            console.log(json)\n                            json.success && document.getElementById('allInvoicesTable').deleteRow(rowToBeDeleted)\n                        })\n                        .catch((error) => console.log(error))\n\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    render() {\n        let { allInvoices, allUsers, allCompanies } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n            ;\n\n        allInvoices && allInvoices.forEach((invoice) => {\n            let client = allUsers && allUsers.filter(user => user.id === Number(invoice.c_id)).shift()\n            let company = allCompanies && allCompanies.filter(company => company.id === Number(invoice.company_id)).shift()\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    invoiceId: invoice.slagme,\n                    date: new Date(invoice.date).toLocaleDateString(),\n                    company: company && company.name,\n                    client: client && client.name,\n                    address: invoice.c_address,\n                    cell: invoice.c_number,\n                    total: invoice.total_amount,\n                    buttons: <React.Fragment>\n                        {/* <Can I='read' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleView(invoice.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"eye iconGreen\" />\n                            </MDBBtn>\n                        </Can> */}\n                        <Can I='update' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(invoice.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(invoice)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Id', field: 'invoiceId' }, { label: 'Date', field: 'date' },\n                { label: 'Company', field: 'company' }, { label: 'Client', field: 'client', }, { label: 'Address', field: 'address', },\n                { label: 'Phone no.', field: 'cell', }, { label: 'Amount', field: 'total', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='invoice'>\n                <MyOwnListing\n                    cardHeading={`Invoices`}\n                    permissionEntity='invoice'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Invoice'\n                    tableId='allInvoicesTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteInvoice}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllInvoices","import React, { Component } from 'react';\r\nimport AllInvoices from './pages/AllInvoices';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllInvoices extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='Invoice'><AllInvoices  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInvoices","import React from 'react';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\n\nconst AllInvoiceDetails = ({ allData }) => {\n\n    let { allInvoiceDetails } = allData, rows = [], data, index = 0\n    allInvoiceDetails && allInvoiceDetails.forEach((detail) => {\n        index = index + 1;\n        rows.push(\n            {\n                index: index,\n                invoiceId: detail.invoice_id,\n                service: detail.service,\n                detail: detail.detail,\n                qty: detail.qty,\n                price: detail.price,\n            }\n        );\n    });\n    data = {\n        columns: [\n            { label: '#', field: 'index', }, { label: 'Invoice-Id', field: 'invoiceId' }, { label: 'Service', field: 'service' },\n            { label: 'Detail', field: 'detail', }, { label: 'QTY', field: 'qty', }, { label: 'Price', field: 'pPrice', },\n        ],\n        rows: rows\n    }\n\n    return (\n        <Can I='read' a='invoiceDetail'>\n            <MyOwnListing\n                cardHeading={`Invoice-Details`}\n                permissionEntity='invoiceDetail'\n                tableId='allInvoiceDetailsTable'\n                data={data}\n            />\n            {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n        </Can>\n    );\n\n}\n\nexport default AllInvoiceDetails","import React, { Component } from 'react';\r\nimport AllInvoiceDetails from './pages/AllInvoiceDetails';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllInvoiceDetails extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='InvoiceDetail'><AllInvoiceDetails  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInvoiceDetails","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass Company extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            logoAddress: '',\r\n            selectedFile: '',\r\n            validatingMessage: '',\r\n            editCompany: false,\r\n            existingLogo: false,\r\n            displayExistingLogo: false,\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        let { id, allData } = this.props\r\n        if (id) {\r\n            let companyToBeEdited = allData.allCompanies && allData.allCompanies.filter(company => company.id === id).shift()\r\n            companyToBeEdited &&\r\n                this.setState({\r\n                    name: companyToBeEdited.name,\r\n                    email: companyToBeEdited.email,\r\n                    cell: companyToBeEdited.cell,\r\n                    address: companyToBeEdited.address,\r\n                    editCompany: companyToBeEdited.id,\r\n                    existingLogo: companyToBeEdited.logo,\r\n                    displayExistingLogo: true,\r\n                })\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        e.target.name === 'logoAddress' ?\r\n            this.setState({ selectedFile: e.target.files[0], [e.target.name]: e.target.value, }) :\r\n            this.setState({\r\n                [e.target.name]: e.target.value,\r\n            })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        this.refs.validatingLabel.innerHTML = ''\r\n        e.preventDefault();\r\n        let form = this.refs.newCompanyForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, email, cell, address, selectedFile, editCompany, existingLogo } = this.state\r\n            let fd = new FormData(this.refs.fakeForm), companyOptions\r\n            fd.append('image', selectedFile)\r\n            fd.append('name', name)\r\n            fd.append('email', email)\r\n            fd.append('cell', cell)\r\n            fd.append('address', address)\r\n            existingLogo && fd.append('id', editCompany)\r\n            if (!existingLogo) {\r\n                companyOptions = {\r\n                    method: 'POST',\r\n                    body: fd,\r\n                }\r\n                fetch('/addNewCompany', companyOptions)\r\n                    // .then((res) => console.log(res))\r\n                    .then((res) => res.json())\r\n                    .then((json) => {\r\n                        console.log(json)\r\n                        this.setState({ validatingMessage: json.message })\r\n                        json.success ?\r\n                            this.setState({\r\n                                name: '',\r\n                                email: '',\r\n                                cell: '',\r\n                                address: '',\r\n                                logoAddress: '',\r\n                                selectedFile: '',\r\n                                validatingMessage: '',\r\n                            })\r\n                            :\r\n                            json.message === `This Company already exists.` ? this.name.focus() : this.logo.focus()\r\n                        // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                    })\r\n                    .catch((error) => console.log(error))\r\n            }\r\n            else {\r\n                companyOptions = {\r\n                    method: 'PUT',\r\n                    body: fd\r\n                }\r\n                //deleteImageexisting.....\r\n                fetch(`/deleteImage/${existingLogo}`, { method: 'DELETE', headers: { 'content-type': 'application/json' } })\r\n                    .then(res => res.json())\r\n                    .then(json => {\r\n                        console.log(json);\r\n                        this.setState({ validatingMessage: json.message })\r\n                        if (json.success) {\r\n                            fetch('/updateCompany', companyOptions)\r\n                                // .then((res) => console.log(res))\r\n                                .then((res) => res.json())\r\n                                .then((json) => {\r\n                                    console.log(json)\r\n                                    this.setState({ validatingMessage: json.message })\r\n                                    let updatedCompany = json.data\r\n                                    json.success ?\r\n                                        this.setState({\r\n                                            name: updatedCompany.name,\r\n                                            email: updatedCompany.email,\r\n                                            cell: updatedCompany.cell,\r\n                                            address: updatedCompany.address,\r\n                                            logoAddress: '',\r\n                                            existingLogo: updatedCompany.logo,\r\n                                            validatingMessage: '',\r\n                                            displayExistingLogo: true\r\n                                        })\r\n                                        :\r\n                                        json.message === `This Company already exists.` ? this.name.focus() : this.logo.focus()\r\n                                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                                })\r\n                                .catch((error) => console.log(error))\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, email, cell, address, logoAddress, validatingMessage, editCompany, existingLogo, displayExistingLogo } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='company' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newCompanyForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">{editCompany ? 'Edit Company' : 'New Company'}</h2>\r\n                                < div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        required\r\n                                        placeholder='Phone*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.address = el}\r\n                                        rows='2'\r\n                                        required\r\n                                        placeholder='Address*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    displayExistingLogo ?\r\n                                        <div className='mb-2'>\r\n                                            <img\r\n                                                src={`/getImage/${existingLogo}`}\r\n                                                width='100%'\r\n                                                height='100'\r\n                                                alt='Logo'\r\n                                                style={{ borderRadius: '7px' }}\r\n                                            />\r\n                                            <b\r\n                                                className='float-right mr-1 fontRaleway colorBlue hoverGreen'\r\n                                                onClick={() => this.setState({ displayExistingLogo: false })}\r\n                                                style={{ cursor: 'pointer' }}\r\n                                            >Change</b>\r\n                                        </div>\r\n                                        :\r\n                                        <div className='mb-2' style={{ position: 'relative' }}>\r\n                                            <input name={'logoAddress'} type='file' accept=\".jpg, .jpeg, .png,\" onInput={this.handleInput} required className='inputText' />\r\n                                            <div className=\"fakefile inputText\">\r\n                                                <i className=\"fa fa-file-alt inputIcon\" />\r\n                                                <input\r\n                                                    value={logoAddress}\r\n                                                    onChange={() => { }}\r\n                                                    type=\"text\"\r\n                                                    ref={el => this.logo = el}\r\n                                                    required\r\n                                                    placeholder='Choose file...*'\r\n                                                    className='fontRaleway inputText pl-5 form-control'\r\n                                                />\r\n                                                <small className='float-right grey-text'>{'PNG or JPG, max size = 3MB'}</small>\r\n                                            </div>\r\n                                        </div>\r\n                                }\r\n                                <div className='text-center w-100 mt-0'>\r\n                                    <label className='validatingLabel mt-3' ref='validatingLabel'>{validatingMessage}</label><br />\r\n                                    <input type=\"submit\" className=\"next action-button my-0\" value={editCompany ? 'Update' : \"Create..\"} />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                        <form ref='fakeForm' encType='multipart/form-data' />\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Company","import React from \"react\";\nimport Company from '../../../misc/pages/Company'\nimport { Can } from '../../../../configs/Ability-context'\n\n\nconst NewCompany = (props) => {\n\n  return (\n    <Can I='create' a='company'><Company allData={props.allData} /></Can>\n  )\n}\n\nexport default NewCompany;","import React, { Component } from 'react';\r\nimport NewCompany from './pages/NewCompany';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewCompany extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='company'><NewCompany /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewCompany","import React from \"react\";\nimport Company from '../../../misc/pages/Company'\nimport { Can } from '../../../../configs/Ability-context'\n\n\nconst EditCompany = (props) => {\n  let params = new URLSearchParams(window.location.search),\n    id = Number(params.get('company'))\n  return (\n    <Can I='update' a='company'><Company id={id} allData={props.allData} /></Can>\n\n  )\n}\n\nexport default EditCompany;","import React, { Component } from 'react';\r\nimport EditCompany from './pages/EditCompany';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditCompany extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='company'><EditCompany allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditCompany","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../../misc/components/DeleteModal';\nimport { Can } from \"../../../../configs/Ability-context\";\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllCompanies extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            companyToBeDeleted: '',\n            companyLogo: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/companies/edit\", search: `company=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/invoices/companies/new')\n    }\n\n    handleDelete = (company) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            companyToBeDeleted: company.id,\n            companyLogo: company.logo,\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteCompany = () => {\n        let { rowToBeDeleted, companyToBeDeleted, companyLogo } = this.state\n        let deleteCompanyOptions = {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch(`/deleteImage/${companyLogo}`, deleteCompanyOptions)\n            .then(res => {\n                return res.json()\n            })\n            .then(json => {\n                console.log(json)\n            })\n            .catch(err => console.log(err))\n        fetch(`/deleteCompany/${companyToBeDeleted}`, deleteCompanyOptions)\n            .then((res) => res.json())\n            .then((json) => {\n                console.log(json)\n                json.success && document.getElementById('allCompaniesTable').deleteRow(rowToBeDeleted)\n            })\n            .catch((error) => console.log(error))\n    }\n\n\n    render() {\n        let { allCompanies } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n            ;\n\n        allCompanies && allCompanies.forEach((company) => {\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    name: company.name,\n                    email: company.email,\n                    cell: company.cell,\n                    address: company.address,\n                    logo: <img src={`/getImage/${company.logo}`} alt='Logo' className='m-0 p-0' width='120' height='80' />,\n                    buttons: <React.Fragment>\n                        <Can I='update' a='company'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(company.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='company'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(company)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name', }, { label: 'Email', field: 'email', },\n                { label: 'Phone no.', field: 'cell', }, { label: 'Address', field: 'address', },\n                { label: 'Logo', field: 'logo', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='company'>\n                <MyOwnListing\n                    cardHeading={`Companies`}\n                    permissionEntity='company'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Company'\n                    tableId='allCompaniesTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteCompany}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllCompanies","import React, { Component } from 'react';\r\nimport AllCompanies from './pages/AllCompanies';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllCompanies extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='company'><AllCompanies  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllCompanies","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewCompany from './SecuredNewCompany';\r\nimport SecuredEditCompany from './SecuredEditCompany';\r\nimport SecuredAllCompanies from './SecuredAllCompanies';\r\n\r\n\r\n\r\nconst Companies = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/invoices/companies/new\" render={() => <SecuredNewCompany />} />\r\n            <Route path=\"/invoices/companies/edit\" render={() => <SecuredEditCompany allData={allData} />} />\r\n            <Route path=\"/invoices/companies/all\" render={(routeProps) => <SecuredAllCompanies {...routeProps} allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Companies","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewInvoice from './SecuredNewInvoice';\r\n// import SecuredViewInvoice from './SecuredViewInvoice';\r\nimport SecuredEditInvoice from './SecuredEditInvoice';\r\nimport SecuredAllInvoices from './SecuredAllInvoices';\r\nimport SecuredAllInvoiceDetails from './SecuredAllInvoiceDetails';\r\nimport Companies from './companies/Companies';\r\n\r\n\r\n\r\nconst Invoices = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/invoices/new\" render={() => <SecuredNewInvoice allData={allData} />} />\r\n            {/* <Route path=\"/invoices/view\" render={() => <SecuredViewInvoice allData={allData} />} /> */}\r\n            <Route path=\"/invoices/edit\" render={() => <SecuredEditInvoice allData={allData} />} />\r\n            <Route path=\"/invoices/all\" render={(routeProps) => <SecuredAllInvoices {...routeProps} allData={allData} />} />\r\n            <Route path=\"/invoices/invoice_details\" render={() => <SecuredAllInvoiceDetails allData={allData} />} />\r\n            <Route path=\"/invoices/companies\" render={(routeProps) => <Companies {...routeProps} allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Invoices","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport NotFound from './pages/NotFound';\r\nimport SecuredLogin from '../auth/SecuredLogin';\r\nimport Vendors from '../vendors/Vendors';\r\nimport SecuredHome from '../home/SecuredHome';\r\nimport Users from '../users/Users';\r\nimport Products from '../products/Products';\r\nimport Inventories from '../inventories/Inventories';\r\nimport Orders from '../orders/Orders';\r\nimport Invoices from '../invoices/Invoices';\r\n\r\n\r\n\r\nclass AllRoutes extends Component {\r\n\r\n\r\n\r\n    render() {\r\n        let { allData, changeUser } = this.props\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{}} className=\"container-fluid\">\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={(routeProps) => <SecuredLogin {...routeProps} changeUser={changeUser} />} />\r\n                        <Route exact path=\"/login\" render={(routeProps) => <SecuredLogin {...routeProps} changeUser={changeUser} />} />\r\n                        <Route path=\"/home\" render={(routeProps) => <SecuredHome {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/vendors\" render={(routeProps) => <Vendors {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/users\" render={(routeProps) => <Users {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/products\" render={(routeProps) => <Products {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/inventories\" render={(routeProps) => <Inventories {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/orders\" render={(routeProps) => <Orders {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/invoices\" render={(routeProps) => <Invoices {...routeProps} allData={allData} />} />\r\n                        <Route render={() => <NotFound />} />\r\n                    </Switch>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default AllRoutes","import React, { Component } from \"react\";\r\nimport {\r\n    MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse\r\n} from \"mdbreact\";\r\n\r\nclass NavBar extends Component {\r\n    state = {\r\n        isOpen: false\r\n    };\r\n\r\n    toggleCollapse = () => {\r\n        this.props.loggedIn ?\r\n            this.props.toggleSidebar()\r\n            :\r\n            this.setState({ isOpen: !this.state.isOpen });\r\n    }\r\n\r\n    activeClassToggeler = (e) => {\r\n        let elems = document.querySelector('.active')\r\n        elems && elems.classList.remove('active')\r\n        e.target.classList.add('active')\r\n    }\r\n\r\n    render() {\r\n        let { loggedIn } = this.props\r\n        let navBarNavStyle = { fontWeight: '800', textTransform: '' }\r\n\r\n        return (\r\n            <MDBNavbar transparent expand=\"sm\" style={{ boxShadow: 'none' }} className='m-0 p-0'>\r\n\r\n                <MDBNavbarBrand className='logoHome my-0 p-0'  >\r\n                    <img src=\"/logo_homepage.png\" width=\"224\" height=\"84\" alt=\"bucket_ERP\" />\r\n                </MDBNavbarBrand>\r\n\r\n                {/* {loggedIn ? */}\r\n                <MDBNavbarToggler id='navbarToggler' className='navbar-light mt-5 p-1 mr-4 ml-2' style={{ border: '1px solid #112648' }} onClick={this.toggleCollapse} />\r\n                {!loggedIn ?\r\n                    <>\r\n                        <MDBCollapse isOpen={this.state.isOpen} navbar>\r\n\r\n                            <MDBNavbarNav right style={navBarNavStyle} className='navBar row p-0' onClick={this.activeClassToggeler}>\r\n                                {/* <MDBNavItem>\r\n                                    <MDBNavLink className='hoverGreen activeBlue' to=\"/home\">Home</MDBNavLink>\r\n                                </MDBNavItem> */}\r\n                                <MDBNavItem>\r\n                                    <MDBNavLink className='hoverGreen activeBlue' to=\"/login\">Sign In</MDBNavLink>\r\n                                </MDBNavItem>\r\n                                <MDBNavItem>\r\n                                    {/* {loggedIn ? */}\r\n                                    {/* <MDBNavLink className='colorGreen hoverBlue activeGreen' to=\"/login\" onClick={() => this.props.loggingOut()}>\r\n                                            LogOut\r\n                                        </MDBNavLink> */}\r\n                                    {/* : */}\r\n                                    <MDBNavLink className='colorGreen hoverBlue activeGreen' to=\"/vendors/signup\">\r\n                                        Become Seller <b className='colorBlue'>...</b>\r\n                                    </MDBNavLink>\r\n                                    {/* } */}\r\n                                </MDBNavItem>\r\n                            </MDBNavbarNav>\r\n                        </MDBCollapse>\r\n                    </>\r\n                    : null}\r\n            </MDBNavbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Can } from '../../../configs/Ability-context'\r\n// import { MDBNavItem, MDBDropdown, MDBDropdownItem, MDBdropdownItem, MDBDropdownToggle, MDBIcon, MDBNavLink } from 'mdbreact'\r\n\r\n\r\nclass ReactSideBar extends Component {\r\n    _isMounted = false\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    activeClassToggeler = (e) => {\r\n        let elems = document.querySelector('.active')\r\n        elems && elems.classList.remove('active')\r\n        e.target.classList.add('active')\r\n    }\r\n\r\n    handleDropDownMenus = (e) => {\r\n        let dropdownMenus = document.getElementsByClassName(\"dropdownMenu\"),\r\n            listElement = e.target.closest('li'),\r\n            dropDown = e.target.closest('.dropdownMenu')\r\n        for (let i = 0; i < dropdownMenus.length; i++) {\r\n            if (listElement.childElementCount > 1) {\r\n                if (dropdownMenus[i] === dropDown) {\r\n                    //toggle selected dropdown items\r\n                    for (let j = 1; j < listElement.childNodes.length; j++) {\r\n                        ((listElement.childNodes[j].style.display === 'block') || (listElement.childNodes[j].style.display === '')) ?\r\n                            (listElement.childNodes[j].style.display = 'none') :\r\n                            (listElement.childNodes[j].style.display = 'block')\r\n                    }\r\n                }\r\n                else {\r\n                    //hide all other dropdown items\r\n                    dropdownMenus[i].nextElementSibling.style.display = 'none'\r\n                    dropdownMenus[i].nextElementSibling.nextElementSibling && (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n                }\r\n            }\r\n            else {\r\n                //hide all other dropdown items if clicked on non-dropdown item\r\n                dropdownMenus[i].nextElementSibling.style.display = 'none'\r\n                dropdownMenus[i].nextElementSibling.nextElementSibling && (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        let dropdownMenus = document.getElementsByClassName(\"dropdownMenu\"), { loggedIn } = this.props,\r\n            homeLink = document.getElementById('sidebarHomeLink')\r\n        homeLink && homeLink.classList.add('active')\r\n        for (let i = 0; i < dropdownMenus.length; i++) {\r\n            //hide all open dropdown items when user logged-in\r\n            dropdownMenus[i] && (dropdownMenus[i].nextElementSibling) && (dropdownMenus[i].nextElementSibling.style.display = 'none')\r\n            dropdownMenus[i] && dropdownMenus[i].nextElementSibling && dropdownMenus[i].nextElementSibling.nextElementSibling &&\r\n                (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n                <div className='col text-center mt-5 mb-4 mx-0 p-0'>\r\n                    <h2 className='m-0 p-0 sidebarHeading'>Dashboard</h2>\r\n                </div>\r\n                <div className='text-white sidebar'>\r\n\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center'>\r\n                            <div className='col-xl-4 col-lg-4'>\r\n                                <i className='flaticon-home' />\r\n                            </div>\r\n                            <div className='col-xl-8 col-lg-8 text-left' >\r\n                                <Link id='sidebarHomeLink' to=\"/home\" onClick={this.activeClassToggeler, this.handleDropDownMenus, this.handleDropDownMenus}>Home</Link>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.activeClassToggeler, this.handleDropDownMenus}>\r\n\r\n                            <Can I='read' a='user'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-multiple-users-silhouette' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left'>\r\n                                    <Link to=\"/users/all\" >Users</Link>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </div>\r\n\r\n                        <Can I='read' a='role'>\r\n                            <div style={{ display: 'none' }} className='row m-0 p-0 dropdownItem'>\r\n                                <div className='col-xl-8 col-lg-7 offset-xl-4 offset-lg-5 pl-4 mr-0 pr-0' >\r\n                                    <Link to=\"/users/roles/all\" style={{ fontSize: '1.2vw' }}>Roles</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Can>\r\n\r\n                    </li>\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.activeClassToggeler, this.handleDropDownMenus}>\r\n\r\n                            <Can I='read' a='product'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-product' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/products/all\">Products</Link>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </div>\r\n\r\n                        <Can I='read' a='productCategory'>\r\n                            <div style={{ display: 'none' }} className='row m-0 p-0 dropdownItem'>\r\n                                <div className='col-xl-6 col-lg-6 col-md-6 offset-xl-5 offset-lg-5 offset-md-2 pl-2 mr-0 pr-0' >\r\n                                    <Link to=\"/products/categories/all\" style={{ fontSize: '1.2vw' }}>Categories</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Can>\r\n\r\n                    </li>\r\n                    <Can I='read' a='inventories'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center' onClick={this.activeClassToggeler, this.handleDropDownMenus}>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-storage' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/inventories/all\" >Inventory</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </Can>\r\n\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.activeClassToggeler, this.handleDropDownMenus}>\r\n\r\n                            <Can I='read' a='order'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-box font-weight-bold' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/orders/all\">Orders</Link>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </div>\r\n\r\n                        <Can I='read' a='orderDetail'>\r\n                            <div style={{ display: 'none' }} className='row m-0 p-0 dropdownItem'>\r\n                                <div className='col-xl-8 col-lg-8 offset-xl-4 offset-lg-4 pl-4 mr-0 pr-0' >\r\n                                    <Link to=\"/orders/order_details\" style={{ fontSize: '0.8vw' }} >Order-Details</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Can>\r\n\r\n                    </li>\r\n                    <Can I='read' a='vendor'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center' onClick={this.activeClassToggeler, this.handleDropDownMenus}    >\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-vendor' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/vendors/all\" >Vendors</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </Can>\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.activeClassToggeler, this.handleDropDownMenus}>\r\n\r\n                            <Can I='read' a='invoice'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='fas fa-file-invoice pl-1 text-white' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/invoices/all\">Invoices</Link>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </div>\r\n\r\n                        <Can I='read' a='invoiceDetail'>\r\n                            <div style={{ display: 'none' }} className='row m-0 p-0 dropdownItem'>\r\n                                <div className='col-xl-8 col-lg-8 offset-xl-4 offset-lg-4 pl-4 mr-0 pr-0' >\r\n                                    <Link to=\"/invoices/invoice_details\" style={{ fontSize: '0.8vw' }} >Invoice-Details</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Can>\r\n                        <Can I='read' a='company'>\r\n                            <div style={{ display: 'none' }} className='row m-0 p-0 dropdownItem'>\r\n                                <div className='col-xl-8 col-lg-8 offset-xl-4 offset-lg-4 pl-4 mr-0 pr-0' >\r\n                                    <Link to=\"/invoices/companies/all\" style={{ fontSize: '0.8vw' }} >Companies</Link>\r\n                                </div>\r\n                            </div>\r\n                        </Can>\r\n\r\n                    </li>\r\n                    {loggedIn ?\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-logout' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/login\" onClick={() => this.props.loggingOut()}>Sign Out</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        : null}\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ReactSideBar","/* eslint-disable no-unused-expressions */\r\nimport React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Redirect } from 'react-router-dom';\r\nimport { AbilityContext } from \"./configs/Ability-context\";\r\nimport defineRulesFor from \"./configs/Ability\";\r\nimport { Ability } from \"@casl/ability\";\r\nimport AllRoutes from './components/misc/AllRoutes'\r\nimport NavBar from './components/misc/sections/NavBar'\r\nimport ReactSideBar from './components/misc/components/ReactSideBar';\r\n\r\n\r\nconst ability = new Ability();\r\n\r\nclass App extends React.Component {\r\n  _isMounted = false\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    this._isMounted = true\r\n    this.state = {\r\n      user: '',\r\n      loggedIn: '',\r\n      allRoles: [],\r\n      allPermissions: [],\r\n      allRolePermissions: [],\r\n      allUsers: [],\r\n      allProductCategories: [],\r\n      allBrands: [],\r\n      allProducts: [],\r\n      allInventories: [],\r\n      allInventoryHistories: [],\r\n      allOrders: [],\r\n      allOrderDetails: [],\r\n      allInvoices: [],\r\n      allInvoiceDetails: [],\r\n      allCompanies: [],\r\n    }\r\n\r\n    let paths = [\r\n      '/getAllRoles',\r\n      '/isAuth',\r\n      '/getAllPermissions',\r\n      '/getAllRolesPermissions',\r\n      '/getAllUsers',\r\n      '/getAllProductCategories',\r\n      '/getAllBrands',\r\n      '/getAllProducts',\r\n      '/getAllInventories',\r\n      '/getAllInventoryHistories',\r\n      '/getAllOrders',\r\n      '/getAllOrderDetails',\r\n      '/getAllInvoices',\r\n      '/getAllInvoiceDetails',\r\n      '/getAllCompanies',\r\n    ]\r\n    let dataRequests = paths.map(path => fetch(path))\r\n    Promise.all(dataRequests)\r\n      .then(responses => {\r\n        Promise.all(responses.map(res => res.json()))\r\n          .then(jsons => {\r\n            // console.log(jsons[0]);\r\n            let user = jsons[1].user;\r\n            if (this._isMounted) {\r\n              this.setState({\r\n                user: user,\r\n                loggedIn: jsons[1].loggedIn,\r\n                allRoles: jsons[0].data,\r\n                allPermissions: jsons[2].data,\r\n                allRolePermissions: jsons[3].data,\r\n                allUsers: jsons[4].data,\r\n                allProductCategories: jsons[5].data,\r\n                allBrands: jsons[6].data,\r\n                allProducts: jsons[7].data,\r\n                allInventories: jsons[8].data,\r\n                allInventoryHistories: jsons[9].data,\r\n                allOrders: jsons[10].data,\r\n                allOrderDetails: jsons[11].data,\r\n                allInvoices: jsons[12].data,\r\n                allInvoiceDetails: jsons[13].data,\r\n                allCompanies: jsons[14].data,\r\n              },\r\n                function () {\r\n                  if (jsons[1].loggedIn === false) {\r\n                    let sidebar = document.getElementById('sidebar'), main = document.getElementById('main')\r\n                    sidebar.style.width = '0%'\r\n                    main.style.width = '100%'\r\n                    main.style.marginLeft = '0px'\r\n                    if (localStorage.getItem('ui') || localStorage.getItem('uri')) {\r\n                      localStorage.removeItem('ui')\r\n                      localStorage.removeItem('uri')\r\n                    }\r\n                  }\r\n                  if (user !== undefined && user !== null) {\r\n                    localStorage.setItem('ui', JSON.stringify(user.id))\r\n                    localStorage.setItem('uri', JSON.stringify(user.role_id))\r\n                    this.changeUser(user);\r\n                  }\r\n                }\r\n              )\r\n            }\r\n          })\r\n      })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n  }\r\n\r\n  loggingOut = () => {\r\n    fetch('/logout')\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        // console.log(json)\r\n        this.setState({\r\n          loggedIn: false,\r\n        }, function () {\r\n          localStorage.removeItem('ui')\r\n          localStorage.removeItem('uri')\r\n          let main = document.getElementById('main'), sidebar = document.getElementById('sidebar')\r\n          sidebar.style.width = ' 0%'\r\n          main.style.width = '100%'\r\n          main.style.marginLeft = '0px'\r\n        })\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  changeUser = (user) => {\r\n    let userRole, { allRoles, loggedIn } = this.state\r\n    allRoles &&\r\n      allRoles.forEach(role => {\r\n        if (role.id === user.role_id) {\r\n          userRole = role.name\r\n        }\r\n      });\r\n    const rules = defineRulesFor(userRole);\r\n    ability.update(rules);\r\n\r\n    if (!loggedIn) {\r\n      // console.log('changing state');\r\n      this.setState({ loggedIn: true })\r\n    }\r\n  }\r\n\r\n  toggleSidebar = () => {\r\n    let a = document.getElementById('navbarToggler')\r\n    a.classList.contains('mt-5') ?\r\n      (a.classList.remove('mt-5', 'ml-2'), a.classList.add('mt-3', 'ml-3')) :\r\n      (a.classList.remove('mt-3', 'ml-3'), a.classList.add('mt-5', 'ml-2'))\r\n    let sidebar = document.getElementById('sidebar'), main = document.getElementById('main')\r\n    sidebar.style.width !== '12%' ? sidebar.style.width = '12%' : sidebar.style.width = '0%'\r\n    main.style.width !== '88%' ? main.style.width = '88%' : main.style.width = '100%'\r\n    main.style.marginLeft !== '12%' ? main.style.marginLeft = '12%' : main.style.marginLeft = '0px'\r\n  }\r\n\r\n\r\n  render() {\r\n    let {\r\n      loggedIn, user, allRoles, allPermissions, allRolePermissions, allUsers, allProductCategories, allBrands, allProducts, allInventories,\r\n      allInventoryHistories, allOrders, allOrderDetails, allInvoices, allInvoiceDetails, allCompanies\r\n    } = this.state\r\n\r\n    let allData = {\r\n      user: user, allRoles: allRoles, allPermissions: allPermissions, allRolePermissions: allRolePermissions, allUsers: allUsers,\r\n      allProductCategories: allProductCategories, allBrands: allBrands, allProducts: allProducts, allInventories: allInventories,\r\n      allInventoryHistories: allInventoryHistories, allOrders: allOrders, allOrderDetails: allOrderDetails, allInvoices: allInvoices,\r\n      allInvoiceDetails: allInvoiceDetails,allCompanies:allCompanies\r\n    }\r\n    // console.log(allData);\r\n\r\n\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <AbilityContext.Provider value={ability}>\r\n          {loggedIn === false && <Redirect to='/login' />}\r\n          <div className='row m-0 p-0'>\r\n            <div\r\n              // className={loggedIn ? 'backGround-blue col-xl-2 col-lg-2 col-md-3 col-sm-4 col-xs-4' : 'd-none'}\r\n              id='sidebar'\r\n              className='printHide'\r\n            >\r\n              <ReactSideBar\r\n                loggingOut={this.loggingOut}\r\n                loggedIn={loggedIn} />\r\n            </div>\r\n            <div\r\n              id='main'\r\n            // className={loggedIn ? 'col-xl-10 col-lg-10 col-md-9 col-sm-8 col-xs-8' : 'col-12'}\r\n            >\r\n              <NavBar\r\n                // loggingOut={this.loggingOut}\r\n                toggleSidebar={this.toggleSidebar}\r\n                loggedIn={loggedIn}\r\n              />\r\n              <AllRoutes\r\n                changeUser={this.changeUser}\r\n                allData={allData}\r\n              />\r\n            </div>\r\n          </div >\r\n        </AbilityContext.Provider>\r\n      </BrowserRouter >\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ErrorBoundary from './components/misc/pages/ErrorBoundary'\n\nReactDOM.render(<ErrorBoundary><App /></ErrorBoundary>, document.getElementById('root'));\nserviceWorker.unregister();\nmodule.hot && module.hot.accept()\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}