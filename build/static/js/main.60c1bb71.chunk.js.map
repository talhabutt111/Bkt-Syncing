{"version":3,"sources":["serviceWorker.js","components/misc/pages/ErrorBoundary.js","configs/Ability-context.js","components/misc/pages/NotFound.jsx","components/auth/pages/Login.jsx","components/auth/SecuredLogin.js","components/misc/components/MyOwnSelect.jsx","components/misc/components/WelcomeVendorModal.jsx","components/vendors/pages/SignUp.jsx","components/vendors/SecuredSignupVendor.js","components/vendors/pages/EditVendor.jsx","components/vendors/SecuredEditVendor.js","components/misc/components/DeleteModal.jsx","components/misc/components/MyOwnListing.jsx","components/misc/pages/AllPersons.jsx","components/vendors/pages/AllVendors.jsx","components/vendors/SecuredAllVendors.js","components/vendors/Vendors.jsx","components/home/pages/Home.jsx","components/home/SecuredHome.js","components/users/pages/NewUser.jsx","components/users/SecuredNewUser.js","components/users/pages/AllUsers.jsx","components/users/SecuredAllUsers.js","components/users/pages/EditUser.jsx","components/users/SecuredEditUser.js","components/users/roles/pages/NewRole.jsx","components/users/roles/SecuredNewRole.js","components/users/roles/pages/AllRoles.jsx","components/users/roles/SecuredAllRoles.js","components/users/roles/pages/EditRole.jsx","components/users/roles/SecuredEditRole.js","components/users/roles/Roles.jsx","components/users/Users.jsx","components/products/pages/NewProduct.jsx","components/products/SecuredNewProduct.js","components/products/pages/AllProducts.jsx","components/products/SecuredAllProducts.js","components/products/pages/EditProduct.jsx","components/products/SecuredEditProduct.js","components/products/categories/pages/NewProductCategory.jsx","components/products/categories/SecuredNewProductCategory.js","components/products/categories/pages/AllProductCategories.jsx","components/products/categories/SecuredAllProductCategories.js","components/products/categories/pages/EditProductCategory.jsx","components/products/categories/SecuredEditProductCategory.js","components/products/categories/ProductCategories.jsx","components/products/brands/pages/NewBrand.jsx","components/products/brands/SecuredNewBrand.js","components/products/brands/pages/AllBrands.jsx","components/products/brands/SecuredAllBrands.js","components/products/brands/pages/EditBrand.jsx","components/products/brands/SecuredEditBrand.js","components/products/brands/Brands.jsx","components/products/Products.jsx","components/inventories/pages/AllInventories.jsx","components/inventories/SecuredAllInventories.js","components/inventories/pages/InventoryHistories.jsx","components/inventories/SecuredInventoryHistories.js","components/inventories/pages/UpdateInventories.jsx","components/inventories/SecuredUpdateInventories.js","components/inventories/Inventories.jsx","components/misc/components/QuestionModal.jsx","components/orders/pages/sections/OrderDetails.jsx","components/orders/pages/sections/OrderCustomerDetails.jsx","components/orders/pages/sections/OrderProductDetails.jsx","components/misc/components/PTableRow.jsx","components/orders/pages/sections/OrderProductsTable.jsx","components/orders/pages/NewOrder.jsx","components/orders/SecuredNewOrder.js","components/orders/pages/ViewOrder.jsx","components/orders/SecuredViewOrder.js","components/orders/pages/EditOrder.jsx","components/orders/SecuredEditOrder.js","components/orders/pages/AllOrders.jsx","components/orders/SecuredAllOrders.js","components/orders/pages/AllOrderDetails.jsx","components/orders/SecuredAllOrderDetails.js","components/orders/Orders.jsx","components/misc/pages/Invoice.jsx","components/invoices/pages/NewInvoice.jsx","components/invoices/SecuredNewInvoice.js","components/invoices/pages/EditInvoice.jsx","components/invoices/SecuredEditInvoice.js","components/invoices/pages/AllInvoices.jsx","components/invoices/SecuredAllInvoices.js","components/invoices/pages/AllInvoiceDetails.jsx","components/invoices/SecuredAllInvoiceDetails.js","components/misc/pages/Company.jsx","components/invoices/companies/pages/NewCompany.jsx","components/invoices/companies/SecuredNewCompany.js","components/invoices/companies/pages/EditCompany.jsx","components/invoices/companies/SecuredEditCompany.js","components/invoices/companies/pages/AllCompanies.jsx","components/invoices/companies/SecuredAllCompanies.js","components/invoices/companies/Companies.jsx","components/invoices/Invoices.jsx","components/misc/AllRoutes.js","components/misc/sections/NavBar.jsx","components/misc/components/ReactSideBar.jsx","App.js","configs/Ability.js","index.js"],"names":["Boolean","window","location","hostname","match","unregister","navigator","serviceWorker","ready","then","registration","ErrorBoundary","props","state","error","errorInfo","this","setState","style","marginTop","md","className","src","alt","visibility","animationName","animationIterationCount","data-wow-delay","fontWeight","animationDelay","children","React","Component","AbilityContext","createContext","Can","createContextualCan","Consumer","NotFound","fontSize","to","LoginForm","handleInput","e","target","name","value","validateLogin","preventDefault","stopPropagation","form","refs","loginForm","checkValidity","handleLogin","classList","add","options","method","body","JSON","stringify","username","password","headers","fetch","res","json","message","user","loginLabel","innerHTML","focus","isLoggedIn","Storage","localStorage","setItem","id","role_id","alert","screen","width","main","document","getElementById","marginLeft","changeUser","catch","err","console","log","onChangeLabel","border","bind","lg","sm","xs","transparent","ref","onSubmit","noValidate","onInput","onChange","type","el","required","placeholder","SecuredLogin","loggedIn","getItem","Login","MyOwnSelect","handleChange","selectedOption","selectedValue","placeHolder","iconClass","isMulti","Entities","isOptionDisabled","withOutIcon","selectStyles","control","base","borderColor","isFocused","background","borderRadius","valueContainer","paddingLeft","maxHeight","fontFamily","multiValue","color","maxWidth","multiValueLabel","styles","data","multiValueRemove","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","EntityOptions","map","entity","key","label","closeMenuOnSelect","components","Option","innerProps","innerRef","cursor","checked","isSelected","ValueContainer","left","padding","DropdownIndicator","aria-hidden","IndicatorSeparator","alignSelf","backgroundColor","marginBottom","hideSelectedOptions","isClearable","isSearchable","WelcomeVendorModal","modalShow","toggle","handleClick","history","push","vendor","size","centered","backdrop","animation","modalStyle","isOpen","onClick","SignUp","handleSelectChange","bankName","handleNextButtonClick","current_fs","next_fs","animating","indexOFnext_fs","progressBar","Fieldsets","getElementsByTagName","parentNode","nextElementSibling","i","length","childNodes","display","handlePreviousButtonClick","previous_fs","indexOFcurrent_fs","previousElementSibling","remove","handleSubmit","allData","vendorRole","allRoles","filter","role","toLowerCase","shift","email","cell","address","cnic","shopName","shopAddress","shopCell","branchName","branchCode","accountTitle","accountNumber","ibanNumber","usernameCNICpart1","substring","split","reverse","join","usernameCNICpart2","usernameCNICpart3","newVendor","roleId","success","welcomeVendorModal","_isMounted","setTimeout","notificationShow","signUpLabel","center","xl","pattern","maxLength","SecuredSignupVendor","EditVendor","editVendorForm","updatedVendor","vendorId","reload","params","URLSearchParams","search","Number","get","vendorToBeEdited","allUsers","shop_name","shop_address","shop_cell","Math","random","bank_name","toUpperCase","branch_name","branch_code","account_title","account_id","iban_id","I","a","disabled","SecuredEditVendor","DeleteModal","deleteEntry","titleClass","tag","icon","outline","MyOwnListing","cardHeading","permissionEntity","redirectToNewEntityPath","addButtonEntityLabel","tableId","btnStyle","small","hover","entriesLabel","bordered","searchLabel","entries","entriesOptions","responsive","theadTextWhite","AllPersons","componentWillUnmount","handleEdit","allPersons","pathname","handleDelete","closest","rowIndex","rowToBeDeleted","personToBeDeleted","deleteModal","deletePerson","deleteRow","rows","index","forEach","currentRole","buttons","Fragment","columns","field","accountNo","ibanNo","AllVendors","SecuredAllVendors","Vendors","path","render","routeProps","Home","SecuredHome","NewUser","selectedRole","newUserForm","newUser","notificationMessage","option","SecuredNewUser","AllUsers","SecuredAllUsers","EditUser","onKeyPress","which","handleRoleChange","editingVendor","handleBankNameChange","componentDidMount","selectedBankName","editUserForm","costPricePercent","retailPricePercent","userId","updatedUser","userToBeEdited","roleToBeEdited","retail_price_percent","cost_price_percent","SecuredEditUser","NewRole","selectedPermissions","newRoleForm","newRole","RolePermissions","permission","permissionId","permission_id","rolePermissions","permissionOptions","allPermissions","slug","textAlign","SecuredNewRole","AllRoles","roleToBeDeleted","deleteRole","SecuredAllRoles","EditRole","editRoleForm","reqBody","thisRolesPermissions","allRolePermissions","rolePermission","permissionsToBeEdited","SecuredEditRole","Roles","Users","NewProdcut","selectedBrand","selectedCategory","selectedVendor","newProductForm","sku","bktId","newProduct","status","brandId","categoryId","retailPrice","costPrice","allBrands","allProductCategories","vendorRoleId","allVendors","SecuredNewProduct","NewProduct","AllProducts","productToBeDeleted","deleteProduct","allProducts","product","thisProductCategory","thisProductBrand","thisProductVendor","category","product_category_id","brand","brand_id","vendor_id","bkt_id","retail_price","SecuredAllProducts","EditProduct","editValidatingLabel","editProductLabel","handleInputRetail","override","selectedUser","calculatedCostPrice","handleInputCost","calculatedRetailPrice","handleBlurRetail","handleBlurCost","handleClickCheckbox","string","selectedStatus","editProductForm","updateProduct","productId","productToBeEdited","cost_price","onBlur","SecuredEditProduct","NewProductCategory","newProductCategoryForm","newProductCategory","description","SecuredNewProductCategory","AllProductCategories","categoryToBeDeleted","deleteProductCategory","productCategory","SecuredAllProductCategories","EditProductCategory","editProductCategoryForm","updatedProductCategory","categoryToBeEdited","SecuredEditProductCategory","ProductCategories","NewBrand","newBrandForm","newBrand","SecuredNewBrand","AllBrands","brandToBeDeleted","deleteBrand","SecuredAllBrands","EditBrand","editBrandForm","updatedBrand","brandToBeEdited","SecuredEditBrand","Brands","Products","AllInventories","allInventories","inventory","thisProduct","qty","attributes","SecuredAllInventories","InventoryHistories","allInventoryHistories","thisVendor","SecuredInventoryHistory","UpdateInventories","selectedUpdateOption","updateInventoriesForm","updatedInventory","updateOption","updateCallOptions","inventoryHistory","historyOptions","inventoryUpdateOptions","SecuredUpdateInventories","Inventories","SecuredInventoryHistories","QuestionModal","sendResponseBack","boolean","positiveBtnClicked","negativeBtnClicked","positiveBtnTxt","negativeBtnTxt","heading","letterSpacing","sourceOptions","statusOptions","OrderDetails","handleDateChange","orderDate","questionHeading","questionMessage","orderState","setQuestionModalProps","handleChangingStatus","orderStatus","questionModal","questionModalPositiveBtnClicked","courier","orderTracking","exportCSV","questionModalNegativeBtnClicked","chooseCourier","confirm","order","orderBeingEdited","orderDetails","orderDetailsBeingEdited","orderDetailsForm","orderSource","makeFormEmpty","orderId","orderNote","middle","selected","placeholderText","peekNextMonth","showMonthDropdown","showYearDropdown","dropdownMode","dateFormat","autoComplete","hint","OrderCustomerDetails","orderCustomerDetailsForm","cName","cContact","cAddress","marginRight","validate","OrderProductDetails","handleAddProduct","orderProductDetailsForm","selectedProduct","pQTY","pRemarks","pDiscount","pId","pSKU","pRate","pCost","pPrice","parseFloat","toFixed","pChecked","checkbox","addProductToTbl","displayForm","productOptions","inputRef","max","end","PTableRow","mouseEntered","inputEditQty","inputEditDiscount","mouseLeft","handleInputQty","updatedPrice","updatedQty","minusFromTotal","minusFromTotalValueAdded","addToTotal","addToTotalValueAdded","handleInputDiscount","updatedDiscount","handleBlurQty","includes","handleChangeExtraAdded","row","cells","deleteProductFrmTbl","pName","onMouseEnter","onMouseLeave","scope","suppressContentEditableWarning","contentEditable","verticalAlign","deleteRowfn","ProductsTable","Rows","displayTable","submitOrderBtn","updatedRows","splice","submitOrder","tableValid","checkOrderValidity","pTable","validatingLabel","orderDetail","product_id","product_sku","product_cost","product_rate","product_qty","product_discount","product_price","product_remarks","product_extra_added","saveOrderDetailsToDB","makeTableEmpty","duration","delay","NewOrder","orderProductsTable","updatedTotal","orderTotal","updatedTotalValueAdded","totalValueAdded","orderDetailsValidity","orderCustomerDetailsValidity","detail","order_date","order_id","order_source","order_status","detail_type","orderType","orderDetailsOptions","saveOrderToDB","orderCustomerDetails","newOrder","date","source","note","total","totalAddedValue","newOrderOptions","deleteRowsFromtbl","OrderProductsTable","SecuredNewOrder","ViewOrder","tableRows","desiredOrder","allOrders","desiredOrderDetails","allOrderDetails","product_name","Date","toLocaleDateString","tracking_id","customer_name","customer_contact","customer_address","total_value_added","SecuredViewOrder","EditOrder","tableUpdated","deleteOrderDetailsOptions","updates","updateOrderDetailsOptions","updatedOrder","trackingId","updatedOrderOptions","displayAddFormButton","orderProductDetails","SecuredEditOrder","AllOrders","handleView","orderToBeDeleted","deleteOrder","deleteOrderOptions","tracking","SecuredAllOrders","AllOrderDetails","pSku","pQty","SecuredAllOrderDetails","Orders","Invoice","makeStateEmpty","invoice_id","floor","selectedClient","selectedCompany","phone","items","service","rate","printInvoice","printArea","wholeContent","print","submitInvoice","total_amount","innerValue","selectClientForm","isNaN","obj","slagme","companyId","cId","number","editingInvoiceId","deleteInvoiceDetailsOptions","updateInvoiceOptions","updateInvoiceDetailsOptions","newInvoiceOptions","allInvoices","allInvoiceDetails","invoiceToBeEdited","invoice","editingInvoiceDetails","price","toDateString","c_id","company_id","c_address","c_number","calculateTotal","item","onChangeSelect","ourClient","clients","client","addItem","addItemForm","newitem","tdOnBlur","Index","deleteItemData","prevState","itemData","allCompanies","clientRole","clientRoleId","allClients","companies","companyDetailStyle","clientOptions","companyOptions","company","companyDetails","logo","height","borderStyle","min","NewInvoice","SecuredNewInvoice","EditInvoice","SecuredEditInvoice","AllInvoices","invoiceToBeDeleted","invoiceId","deleteInvoice","deleteInvoiceOptions","SecuredAllInvoices","AllInvoiceDetails","SecuredAllInvoiceDetails","Company","companyToBeEdited","editCompany","existingLogo","displayExistingLogo","selectedFile","files","newCompanyForm","fd","FormData","fakeForm","append","validatingMessage","updatedCompany","logoAddress","position","accept","encType","NewCompany","SecuredNewCompany","EditCompany","SecuredEditCompany","AllCompanies","companyToBeDeleted","companyLogo","deleteCompany","deleteCompanyOptions","SecuredAllCompanies","Companies","Invoices","AllRoutes","exact","NavBar","toggleCollapse","toggleSidebar","activeClassToggeler","elems","querySelector","expand","boxShadow","navbar","right","textTransform","ReactSideBar","handleDropDownMenus","dropdownMenus","getElementsByClassName","listElement","dropDown","childElementCount","j","homeLink","loggingOut","ability","Ability","App","removeItem","userRole","dataRequests","paths","Promise","all","responses","jsons","rules","roles","permissions","userRoleId","AbilityBuilder","extract","can","undefined","Role","userRolePermissions","userPermissions","defineRulesFor","update","contains","sidebar","Provider","ReactDOM","module","hot"],"mappings":"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","file":"static/js/main.60c1bb71.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { error: null, errorInfo: null };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n\r\n        this.setState({\r\n            error: error,\r\n            errorInfo: errorInfo\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n\r\n            //if error render this\r\n            return (\r\n                <>\r\n                    <MDBRow style={{ marginTop: '72px' }}>\r\n                        <MDBCol md='12' className='text-center float-md-none mx-auto'>\r\n                            <img\r\n                                src=\"/images/404_mdb.png\"\r\n                                alt=\"Error 404\"\r\n                                className=\"img-fluid wow fadeIn animated\"\r\n                                style={{ visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1 }} />\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n                    <MDBRow className=\"mt-5\">\r\n                        <MDBCol md='12' className=\"text-center mb-5\">\r\n                            <h2 className=\"h2-responsive wow fadeIn mb-4 animated\" data-wow-delay=\"0.2s\" style={{ fontWeight: 500, visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.2s' }}>Oops! Something went wrong.</h2>\r\n                        </MDBCol>\r\n                    </MDBRow >\r\n                </>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\n\r\nexport default ErrorBoundary","import { createContextualCan } from \"@casl/react\";\r\nimport React from \"react\";\r\n\r\nexport const AbilityContext = React.createContext();\r\nexport const Can = createContextualCan(AbilityContext.Consumer);\r\n","import React from 'react';\r\nimport { MDBCol, MDBRow, MDBNavLink } from 'mdbreact';\r\n\r\n\r\nconst NotFound = () => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <MDBRow style={{ marginTop: '72px' }}>\r\n        <MDBCol md='12' className='text-center float-md-none mx-auto'>\r\n          <img\r\n            src=\"/404_mdb.png\"\r\n            alt=\"Error 404\"\r\n            className=\"img-fluid wow fadeIn animated\"\r\n            style={{ visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1 }} />\r\n        </MDBCol>\r\n      </MDBRow>\r\n      <MDBRow className=\"mt-5\">\r\n        <MDBCol md='12' className=\"text-center mb-5\">\r\n          <h2 className=\"h2-responsive wow fadeIn mb-4 animated\" data-wow-delay=\"0.2s\" style={{ fontWeight: 500, visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.2s' }}>Oops! This obviously isn't a page you were looking for.</h2>\r\n          <p className=\"wow fadeIn animated\" data-wow-delay=\"0.4s\" style={{ fontSize: '1.25rem', visibility: 'visible', animationName: 'fadeIn', animationIterationCount: 1, animationDelay: '0.4s' }}>Please, use following link to navigate back to home page.</p>\r\n          <MDBCol md='6' className='mx-auto' >\r\n            <MDBNavLink to='/home'>Home</MDBNavLink>\r\n          </MDBCol>\r\n        </MDBCol>\r\n      </MDBRow >\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default NotFound","import React from \"react\";\r\nimport { Redirect } from 'react-router'\r\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBCardTitle, MDBCardHeader } from 'mdbreact';\r\n\r\nclass LoginForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            isLoggedIn: false,\r\n            user: ''\r\n        }\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    validateLogin = (e) => {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.loginForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        this.handleLogin();\r\n    }\r\n    handleLogin = () => {\r\n        var options = {\r\n            method: 'POST',\r\n            body: JSON.stringify({ username: this.state.username, password: this.state.password }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        fetch('/auth', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json);\r\n                let message = json.message;\r\n                let user = json.user\r\n                this.refs.loginLabel.innerHTML = message;\r\n                if (message === 'incorrect password') {\r\n                    this.password.value = \"\";\r\n                    this.password.focus();\r\n                }\r\n                else if (message === `username doesn't exist`) {\r\n                    this.username.value = '';\r\n                    this.username.focus();\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        isLoggedIn: true,\r\n                        user: user\r\n                    }, function () {\r\n                        if (typeof (Storage) !== \"undefined\") {\r\n                            localStorage.setItem('ui', JSON.stringify(user.id))\r\n                            localStorage.setItem('uri', JSON.stringify(user.role_id))\r\n                        }\r\n                        else {\r\n                            alert('Please use another browser to get it working correctly.')\r\n                        }\r\n                    })\r\n                    if (window.screen.width > 576) {\r\n                        let main = document.getElementById('main'), sidebar = document.getElementById('sidebar')\r\n                        sidebar.style.width = ' 12%'\r\n                        main.style.width = '88%'\r\n                        main.style.marginLeft = '12%'\r\n                    }\r\n                    this.props.changeUser(user);\r\n                }\r\n\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    onChangeLabel = (e) => {\r\n        e.target.style.border = 'none'\r\n        this.refs.loginLabel.innerHTML = '';\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else\r\n            return (\r\n                <MDBRow className='mt-5'>\r\n                    <MDBCol lg='4' md='6' sm='8' xs='10' className='offset-lg-6 offset-md-4 offset-sm-2 offset-xs-0'>\r\n                        <MDBCol>\r\n                            <MDBCard className='cardLogin'>\r\n                                <MDBCardHeader className='mb-4 border-0' transparent>\r\n                                    <div className='Avatar '>\r\n                                        <div className='imageLogin '>\r\n                                            <i className='fas fa-user-tie'></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </MDBCardHeader>\r\n                                <MDBCardBody>\r\n                                    <MDBCardTitle className='text-center fontRaleway ' >\r\n                                        <span className='colorBlue loginCardHeading'>User</span> <span className='colorGreen loginCardHeading'>Login</span>\r\n                                    </MDBCardTitle>\r\n                                    <form ref='loginForm' onSubmit={this.validateLogin} noValidate>\r\n                                        <div className='my-3'>\r\n                                            <i className=\"fa fa-user-tie inputIcon\" />\r\n                                            <input\r\n                                                name=\"username\"\r\n                                                value={this.state.username}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={this.onChangeLabel}\r\n                                                type=\"text\"\r\n                                                ref={el => this.username = el}\r\n                                                required\r\n                                                placeholder='Username'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            />\r\n                                            <div className=\"valid-feedback\">\r\n                                                Looks good!\r\n                                            </div>\r\n                                            <div className=\"invalid-feedback\">\r\n                                                Please enter a valid username.\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='my-3' >\r\n                                            <i className=\"fa fa-lock inputIcon\" />\r\n                                            <input\r\n                                                name=\"password\"\r\n                                                value={this.state.password}\r\n                                                onInput={this.handleInput}\r\n                                                ref={el => this.password = el}\r\n                                                onChange={this.onChangeLabel}\r\n                                                type=\"password\"\r\n                                                required\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                                placeholder='Password'\r\n                                            />\r\n                                            <div className=\"valid-feedback\">\r\n                                                Looks good!\r\n                                            </div>\r\n                                            <div className=\"invalid-feedback\">\r\n                                                Please enter a valid password.\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='mt-3'>\r\n                                            <button type='submit' className='fontRaleway loginSubmitBtn my-2'>Log In</button>\r\n                                        </div>\r\n                                        <div className='text-center m-0 p-0 '>\r\n                                            <label ref='loginLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                            <span className='colorBlue'>Forgot</span> <span className='colorGreen'>Password</span> <span className='colorBlue'>?</span>\r\n                                        </div>\r\n                                    </form>\r\n                                </MDBCardBody>\r\n                            </MDBCard>\r\n                        </MDBCol>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n            )\r\n    }\r\n}\r\nexport default LoginForm;","import React, { Component } from 'react';\r\nimport Login from './pages/Login';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\n\r\nclass SecuredLogin extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === true) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Login changeUser={this.props.changeUser} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredLogin","import React, { Component } from 'react';\r\nimport Select, { components } from 'react-select';\r\n\r\n\r\nclass MyOwnSelect extends Component {\r\n\r\n    handleChange = selectedOption => {\r\n        this.props.handleChange(selectedOption)\r\n    }\r\n\r\n    render() {\r\n        let { options, selectedValue, placeHolder, iconClass, isMulti, required, Entities, isOptionDisabled, withOutIcon } = this.props\r\n        // console.log(selectedValue);\r\n\r\n        const selectStyles = {\r\n            control: (base, state) => ({\r\n                ...base,\r\n                borderColor: state.isFocused ?\r\n                    '#ddd' : required ?\r\n                        selectedValue !== null ?\r\n                            '#ddd' : 'red' : '#ddd',\r\n                background: withOutIcon ? '' : \"#ebebeb\",\r\n                borderRadius: withOutIcon ? '4px' : '7px'\r\n            }),\r\n            valueContainer: (base, state) => ({\r\n                ...base,\r\n                background: withOutIcon ? '' : \"#ebebeb\",\r\n                paddingLeft: withOutIcon ? 12 : 46,\r\n                maxHeight: '35px',\r\n                fontWeight: 400,\r\n                borderRadius: '7px',\r\n                fontFamily: 'Raleway',\r\n            }),\r\n            multiValue: (base, state) => ({\r\n                ...base,\r\n                background: \"#112648\",\r\n                color: 'white',\r\n                maxWidth: \"110px\",\r\n                borderRadius: '5px'\r\n            }),\r\n            multiValueLabel: (styles, { data }) => ({\r\n                ...styles,\r\n                color: '#cedd88',\r\n            }),\r\n            multiValueRemove: base => ({\r\n                ...base,\r\n                background: '#cedd88',\r\n                color: '#112648',\r\n                borderBottomLeftRadius: '0px',\r\n                borderBottomRightRadius: '5px',\r\n                borderTopLeftRadius: '0px',\r\n                borderTopRightRadius: '5px',\r\n\r\n            }),\r\n        }\r\n\r\n        const Option = props => {\r\n\r\n            const { innerProps, innerRef } = props\r\n            return (\r\n                <div ref={innerRef} {...innerProps}>\r\n                    <div className='text-left ml-2 pl-2 mt-1 fontRaleway selectOption' style={{\r\n                        color: `${props.data.color}`,\r\n                        fontWeight: '500', cursor: 'pointer'\r\n                    }}>\r\n                        {this.props.isMulti && <input type='checkbox' checked={props.isSelected} onChange={() => { }} />}\r\n                        {props.data.label}\r\n                    </div>\r\n                </div >\r\n            );\r\n        };\r\n\r\n        const ValueContainer = ({ children, ...props }) => {\r\n            return (\r\n                components.ValueContainer && (\r\n                    <components.ValueContainer {...props}>\r\n                        {!!children && (\r\n                            <i\r\n                                className={`${iconClass} inputIcon`}\r\n                                style={{ left: 13, padding: '0px' }}\r\n                            />\r\n                        )}\r\n                        {children}\r\n                    </components.ValueContainer>\r\n                )\r\n            );\r\n        };\r\n\r\n        const DropdownIndicator = props => {\r\n            return (\r\n                components.DropdownIndicator && (\r\n                    <components.DropdownIndicator {...props}>\r\n                        <i\r\n                            className=\"fa fa-chevron-down\"\r\n                            aria-hidden=\"true\"\r\n                            style={{ color: '#112648' }}\r\n                        />\r\n                    </components.DropdownIndicator>\r\n                )\r\n            );\r\n        };\r\n\r\n        const IndicatorSeparator = ({ innerProps }) => {\r\n            return <span style={{ alignSelf: 'stretch', backgroundColor: '#112648', width: '0.1pc', marginTop: 8, marginBottom: 8 }} {...innerProps} />;\r\n        };\r\n\r\n        let EntityOptions = Entities && Entities.map(entity => ({\r\n            key: entity.id,\r\n            label: entity.name,\r\n            value: entity.id,\r\n            color: entity.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n\r\n        return (\r\n            <Select\r\n                closeMenuOnSelect={!isMulti}\r\n                value={selectedValue}\r\n                onChange={this.handleChange}\r\n                components={{ Option, ValueContainer, DropdownIndicator, IndicatorSeparator }}\r\n                options={options ? options : EntityOptions}\r\n                isMulti={isMulti}\r\n                hideSelectedOptions={false}\r\n                styles={selectStyles}\r\n                placeholder={placeHolder}\r\n                isClearable\r\n                isSearchable\r\n                isOptionDisabled={isOptionDisabled}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MyOwnSelect","import React from 'react';\r\nimport { MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBBtn } from 'mdbreact'\r\n\r\nclass WelcomeVendorModal extends React.Component {\r\n    state = {\r\n        modalShow: false,\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow\r\n        })\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.toggle();\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    render() {\r\n\r\n        let { vendor } = this.props\r\n\r\n        return (\r\n            <MDBModal size=\"md\" centered backdrop={true} animation={'right'} modalStyle=\"info\"\r\n                isOpen={this.state.modalShow}\r\n                // toggle={this.toggle}\r\n                toggle={() => { }}\r\n            >\r\n                <MDBModalHeader className='text-center'>\r\n                    Welcome {vendor.name}!\r\n                </MDBModalHeader>\r\n                <MDBModalBody className=\"text-center\">\r\n                    <h5> You are registered successfully as a <b className='text-info'>Seller</b>.<br /> Following are your <b className='text-info'>login</b> credentials:</h5><br />\r\n                    <h3 className='text-info'><small className='text-muted'> Username:  </small>{vendor.username}<br />\r\n                        <small className='text-muted'>Password:  </small>{vendor.password}</h3>\r\n                    <h6> <b>Note:</b> Your username is also your <b className='text-info'>Vendor ID</b>.</h6>\r\n                </MDBModalBody>\r\n                <MDBModalFooter>\r\n                    <MDBBtn size='sm' onClick={this.handleClick} color='info'>Ok</MDBBtn>\r\n                </MDBModalFooter>\r\n            </MDBModal>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default WelcomeVendorModal","import React from \"react\";\r\n// import { Redirect } from 'react-router'\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\nimport WelcomeVendorModal from '../../misc/components/WelcomeVendorModal'\r\n\r\nclass SignUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            cnic: '',\r\n            shopName: '',\r\n            shopAddress: '',\r\n            shopCell: '',\r\n            bankName: '',\r\n            branchName: '',\r\n            branchCode: '',\r\n            accountTitle: '',\r\n            accountNumber: '',\r\n            ibanNumber: '',\r\n            vendor: '',\r\n        }\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleNextButtonClick = (e) => {\r\n\r\n        let current_fs, next_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        next_fs = current_fs.nextElementSibling;\r\n\r\n        let indexOFnext_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === next_fs) {\r\n                indexOFnext_fs = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        //activate next step on progressbar using the index of next_fs\r\n        progressBar.childNodes[indexOFnext_fs].classList.add(\"active\");\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n        //show the next fieldset\r\n        next_fs.style.display = 'block';\r\n\r\n\r\n    }\r\n\r\n    handlePreviousButtonClick = (e) => {\r\n        let current_fs, previous_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        previous_fs = current_fs.previousElementSibling;\r\n\r\n        let indexOFcurrent_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === current_fs) {\r\n                indexOFcurrent_fs = i;\r\n                break;\r\n            }\r\n        }\r\n        //de-activate current step on progressbar\r\n        progressBar.childNodes[indexOFcurrent_fs].classList.remove(\"active\");\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n        //show the previous fieldset\r\n        previous_fs.style.display = 'block';\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n        let { allData } = this.props\r\n        let form = document.getElementById('msform')\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return\r\n        }\r\n        else if (this.state.bankName === '' || this.state.bankName === null) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let vendorRole = allData.allRoles.filter(role => role.name.toLowerCase() === 'vendor').shift()\r\n            let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle, accountNumber, ibanNumber } = this.state\r\n            let usernameCNICpart1 = cnic.substring(0, 5).substring(0, 3).split('').reverse().join('') //123\r\n            let usernameCNICpart2 = cnic.substring(0, 5).substring(3).split('').reverse().join('')//45\r\n            let usernameCNICpart3 = cnic.substring(cnic.length - 3).split('').reverse().join('')//671\r\n            let username = `bkt${usernameCNICpart2}${usernameCNICpart3}${usernameCNICpart1}V`//bkt54176321\r\n            let password = '12345'\r\n\r\n            let newVendor = {\r\n                roleId: vendorRole && vendorRole.id, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber\r\n            }\r\n\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newVendor),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        let vendor = json.data\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            vendor: vendor\r\n                        })\r\n                        this.refs.welcomeVendorModal.setState({ modalShow: true })\r\n                        // console.log(vendor);\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    onChangeLabel = () => {\r\n        this.refs.signUpLabel.innerHTML = ''\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle,\r\n            accountNumber, ibanNumber, vendor } = this.state\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'hbl',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'mcb',\r\n            color: '#687722'\r\n        },];\r\n\r\n        return (\r\n            <MDBRow center className='mt-2 p-0'>\r\n                <MDBCol xl='6' lg='8' md='8' sm='10' xs='12' className='p-0 offset-xl-1 offset-lg-1'>\r\n                    <form id=\"msform\" className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                        {/* <!-- progressbar --> */}\r\n                        <ul id=\"progressbar\" className='fontRaleway text-center'>\r\n                            <li className=\"active\">Personal Details</li>\r\n                            <li>Business Details</li>\r\n                            <li>Bank Details</li>\r\n                        </ul>\r\n\r\n                        {/* <!-- fieldsets --> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Personal Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Tell us something about you</h3>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-user-tie inputIcon\" />\r\n                                <input\r\n                                    name=\"name\"\r\n                                    value={name}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.name = el}\r\n                                    required\r\n                                    placeholder='Your Name*'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                />\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-envelope inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                <input\r\n                                    name=\"email\"\r\n                                    value={email}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.email = el}\r\n                                    required\r\n                                    placeholder='Email'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"cell\"\r\n                                    value={cell}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.cell = el}\r\n                                    required\r\n                                    placeholder='Phone'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"address\"\r\n                                    value={address}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.address = el}\r\n                                    required\r\n                                    placeholder='Address'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-id-card inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                <input\r\n                                    name=\"cnic\"\r\n                                    value={cnic}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.cnic = el}\r\n                                    pattern=\"^[0-9]{13}\"\r\n                                    required\r\n                                    placeholder='CNIC'\r\n                                    maxLength='13'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                />\r\n                                <p className='invalid-feedback'> <small className='pl-3 m-0'>CNIC must follow the '0000000000000' format !</small></p>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Business Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Your presence in business</h3>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                <input\r\n                                    name=\"shopName\"\r\n                                    value={shopName}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopName = el}\r\n                                    required\r\n                                    placeholder='Shop Name'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                <input\r\n                                    name=\"shopAddress\"\r\n                                    value={shopAddress}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopAddress = el}\r\n                                    required\r\n                                    placeholder='Shop Address'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                <input\r\n                                    name=\"shopCell\"\r\n                                    value={shopCell}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.shopCell = el}\r\n                                    required\r\n                                    placeholder='Shop Phone'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous\" value=\"Back\" />\r\n                                <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                        {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                        <fieldset>\r\n                            <h2 className=\"fs-title text-center\">Bank Details</h2>\r\n                            <h3 className=\"fs-subtitle text-center\">Fill in your bank account details</h3>\r\n                            <div className='my-3'>\r\n                                <MyOwnSelect\r\n                                    options={bankOptions}\r\n                                    handleChange={this.handleSelectChange}\r\n                                    placeHolder={'Bank Name*'}\r\n                                    selectedValue={bankName}\r\n                                    iconClass={'fa fa-university'}\r\n                                    required={true}\r\n                                    isMulti={false}\r\n                                />\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                <input\r\n                                    name=\"branchName\"\r\n                                    value={branchName}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.branchName = el}\r\n                                    required\r\n                                    placeholder='Branch Name'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                <input\r\n                                    name=\"branchCode\"\r\n                                    value={branchCode}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"number\"\r\n                                    ref={el => this.branchCode = el}\r\n                                    required\r\n                                    placeholder='Branch Code'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-book inputIcon\"></i>\r\n                                <input\r\n                                    name=\"accountTitle\"\r\n                                    value={accountTitle}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.accountTitle = el}\r\n                                    required\r\n                                    placeholder='A/C Title'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='my-3'>\r\n                                <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                <input\r\n                                    name=\"accountNumber\"\r\n                                    value={accountNumber}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"number\"\r\n                                    ref={el => this.accountNumber = el}\r\n                                    required\r\n                                    placeholder='A/C #'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='mt-3 '>\r\n                                <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                <input\r\n                                    name=\"ibanNumber\"\r\n                                    value={ibanNumber}\r\n                                    onInput={this.handleInput}\r\n                                    onChange={this.onChangeLabel}\r\n                                    type=\"text\"\r\n                                    ref={el => this.ibanNumber = el}\r\n                                    required\r\n                                    placeholder='IBAN #'\r\n                                    className='fontRaleway inputText pl-5 form-control'\r\n                                >\r\n                                </input>\r\n                            </div>\r\n                            <div className='text-center'>\r\n                                <label ref='signUpLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous mb-0\" value=\"Back\" />\r\n                                <input type=\"submit\" name=\"submit\" className=\"submit action-button mb-0\" value=\"Submit\" />\r\n                            </div>\r\n                        </fieldset>\r\n                        {/* </MDBAnimation> */}\r\n                    </form>\r\n                </MDBCol>\r\n                <WelcomeVendorModal\r\n                    vendor={vendor}\r\n                    ref='welcomeVendorModal'\r\n                    {...this.props}\r\n                />\r\n            </MDBRow>\r\n        )\r\n    }\r\n}\r\nexport default SignUp;","import React, { Component } from 'react';\r\nimport SignUp from './pages/SignUp';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\n\r\nclass SecuredSignupVendor extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        if (this.loggedIn === true) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <SignUp {...this.props} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredSignupVendor","import React from \"react\";\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditVendor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.vendorId = Number(params.get('vendor'))\r\n        let vendorToBeEdited = props.allData.allUsers.filter(user => user.id === this.vendorId).shift()\r\n\r\n        this.state = {\r\n            name: vendorToBeEdited && vendorToBeEdited.name,\r\n            email: vendorToBeEdited && vendorToBeEdited.email,\r\n            cell: vendorToBeEdited && vendorToBeEdited.cell,\r\n            address: vendorToBeEdited && vendorToBeEdited.address,\r\n            cnic: vendorToBeEdited && vendorToBeEdited.cnic,\r\n            shopName: vendorToBeEdited && vendorToBeEdited.shop_name,\r\n            shopAddress: vendorToBeEdited && vendorToBeEdited.shop_address,\r\n            shopCell: vendorToBeEdited && vendorToBeEdited.shop_cell,\r\n            bankName: vendorToBeEdited && { key: Math.random(), label: vendorToBeEdited.bank_name.toUpperCase(), value: vendorToBeEdited.bank_name },\r\n            branchName: vendorToBeEdited && vendorToBeEdited.branch_name,\r\n            branchCode: vendorToBeEdited && vendorToBeEdited.branch_code,\r\n            accountTitle: vendorToBeEdited && vendorToBeEdited.account_title,\r\n            accountNumber: vendorToBeEdited && vendorToBeEdited.account_id,\r\n            ibanNumber: vendorToBeEdited && vendorToBeEdited.iban_id,\r\n            username: vendorToBeEdited && vendorToBeEdited.username,\r\n            password: vendorToBeEdited && vendorToBeEdited.password,\r\n            vendor: '',\r\n        }\r\n    }\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleNextButtonClick = (e) => {\r\n\r\n        let current_fs, next_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        next_fs = current_fs.nextElementSibling;\r\n\r\n        let indexOFnext_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === next_fs) {\r\n                indexOFnext_fs = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        //activate next step on progressbar using the index of next_fs\r\n        progressBar.childNodes[indexOFnext_fs].classList.add(\"active\");\r\n        //show the next fieldset\r\n        next_fs.style.display = 'block';\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none';\r\n\r\n    }\r\n\r\n    handlePreviousButtonClick = (e) => {\r\n        let current_fs, previous_fs; //fieldsets\r\n        // let left, opacity, scale; //fieldset properties which we will animate\r\n        let animating; //flag to prevent quick multi-click glitches\r\n        let progressBar = document.getElementById('progressbar')\r\n        let Fieldsets = document.getElementsByTagName('fieldset')\r\n\r\n        if (animating) return false;\r\n        animating = true;\r\n\r\n        current_fs = e.target.parentNode.parentNode;\r\n        previous_fs = current_fs.previousElementSibling;\r\n\r\n        let indexOFcurrent_fs;\r\n        for (let i = 0; i < Fieldsets.length; i++) {\r\n            if (Fieldsets[i] === current_fs) {\r\n                indexOFcurrent_fs = i;\r\n                break;\r\n            }\r\n        }\r\n        //de-activate current step on progressbar\r\n        progressBar.childNodes[indexOFcurrent_fs].classList.remove(\"active\");\r\n        //show the previous fieldset\r\n        previous_fs.style.display = 'block';\r\n        //hide the current fieldset with style\r\n        current_fs.style.display = 'none'\r\n\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n        let form = this.editVendorForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return\r\n        }\r\n        else if (this.state.bankName === '' || this.state.bankName === null) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let { name, email, cell, address, cnic, shopName, shopAddress, shopCell, bankName, branchName, branchCode,\r\n                accountTitle, accountNumber, ibanNumber, roleId, username, password } = this.state\r\n\r\n            let updatedVendor = {\r\n                id: this.vendorId, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber\r\n            }\r\n\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedVendor),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        let vendor = json.data\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            vendor: vendor\r\n                        })\r\n                        window.location.reload()\r\n                        // this.refs.welcomeVendorModal.setState({ modalShow: true })\r\n                        // console.log(vendor);\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    onChangeLabel = () => {\r\n        this.refs.signUpLabel.innerHTML = ''\r\n    }\r\n\r\n\r\n    render() {\r\n        let { name, email, cell, address, shopName, shopAddress, shopCell, bankName, branchName, branchCode, accountTitle,\r\n            accountNumber, ibanNumber, password } = this.state\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'hbl',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'mcb',\r\n            color: '#687722'\r\n        },];\r\n\r\n\r\n        return (\r\n            <Can I='edit' a='vendor'>\r\n                <MDBRow center className='mt-2 p-0'>\r\n                    <MDBCol xl='6' lg='8' md='8' sm='10' xs='12' className='p-0 offset-xl-2 offset-lg-2'>\r\n                        <form id=\"msform\" ref={el => this.editVendorForm = el} className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            {/* <!-- progressbar --> */}\r\n                            <ul id=\"progressbar\" className='fontRaleway text-center'>\r\n                                <li className=\"active\">Personal Details</li>\r\n                                <li>Business Details</li>\r\n                                <li>Bank Details</li>\r\n                            </ul>\r\n\r\n                            {/* <!-- fieldsets --> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Personal Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Tell us something about you</h3>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-user-tie inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Your Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        disabled\r\n                                        placeholder='Email'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        required\r\n                                        placeholder='Phone'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        required\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-lock inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Your Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <p className='colorBlue'> <small className='pl-3 m-0'>You can change your password here.</small></p>\r\n\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Business Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Your presence in business</h3>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                    <input\r\n                                        name=\"shopName\"\r\n                                        value={shopName}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopName = el}\r\n                                        required\r\n                                        placeholder='Shop Name'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                    <input\r\n                                        name=\"shopAddress\"\r\n                                        value={shopAddress}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopAddress = el}\r\n                                        required\r\n                                        placeholder='Shop Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                    <input\r\n                                        name=\"shopCell\"\r\n                                        value={shopCell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.shopCell = el}\r\n                                        required\r\n                                        placeholder='Shop Phone'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous\" value=\"Back\" />\r\n                                    <input type=\"button\" name=\"next\" onClick={this.handleNextButtonClick} className=\"next action-button\" value=\"Next\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                            {/* <MDBAnimation type=\"fadeInUp\" > */}\r\n\r\n                            <fieldset>\r\n                                <h2 className=\"fs-title text-center\">Bank Details</h2>\r\n                                <h3 className=\"fs-subtitle text-center\">Fill in your bank account details</h3>\r\n                                <div className='my-3'>\r\n                                    <MyOwnSelect\r\n                                        options={bankOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Bank Name*'}\r\n                                        selectedValue={bankName}\r\n                                        iconClass={'fa fa-university'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"branchName\"\r\n                                        value={branchName}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.branchName = el}\r\n                                        required\r\n                                        placeholder='Branch Name'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"branchCode\"\r\n                                        value={branchCode}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"number\"\r\n                                        ref={el => this.branchCode = el}\r\n                                        required\r\n                                        placeholder='Branch Code'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-book inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"accountTitle\"\r\n                                        value={accountTitle}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.accountTitle = el}\r\n                                        required\r\n                                        placeholder='A/C Title'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='my-3'>\r\n                                    <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                    <input\r\n                                        name=\"accountNumber\"\r\n                                        value={accountNumber}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"number\"\r\n                                        ref={el => this.accountNumber = el}\r\n                                        required\r\n                                        placeholder='A/C #'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='mt-3 '>\r\n                                    <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                    <input\r\n                                        name=\"ibanNumber\"\r\n                                        value={ibanNumber}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={this.onChangeLabel}\r\n                                        type=\"text\"\r\n                                        ref={el => this.ibanNumber = el}\r\n                                        required\r\n                                        placeholder='IBAN #'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    >\r\n                                    </input>\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <label ref='signUpLabel' className='m-0 p-0' style={{ fontFamily: 'monospace', color: 'red' }}></label><br />\r\n                                    <input type=\"button\" name=\"previous\" onClick={this.handlePreviousButtonClick} className=\"previous action-button-previous mb-0\" value=\"Back\" />\r\n                                    <input type=\"submit\" name=\"submit\" className=\"submit action-button mb-0\" value=\"Submit\" />\r\n                                </div>\r\n                            </fieldset>\r\n                            {/* </MDBAnimation> */}\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n            </Can>\r\n        )\r\n    }\r\n}\r\nexport default EditVendor;","import React, { Component } from 'react';\r\nimport EditVendor from './pages/EditVendor';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\n\r\nclass SecuredEditVendor extends Component {\r\n    loggedIn = false\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='vendor'><EditVendor {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditVendor","import React, { Component } from 'react';\r\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBIcon } from\r\n    'mdbreact';\r\n\r\nclass DeleteModal extends Component {\r\n    state = {\r\n        modalShow: false,\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow,\r\n\r\n        });\r\n    }\r\n\r\n    deleteEntry = () => {\r\n        this.props.deleteEntry();\r\n        this.toggle();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MDBContainer>\r\n                <MDBModal modalStyle=\"danger\" className=\"text-white\" size=\"md\" centered backdrop={true} isOpen={this.state.modalShow}\r\n                    toggle={this.toggle}>\r\n                    <MDBModalHeader className=\"text-center\" titleClass=\"w-100\" tag=\"p\" toggle={this.toggle}>\r\n                        <b>\r\n                            Are you sure?\r\n                        </b><br></br>\r\n                        Record will be deleted permanently.\r\n                    </MDBModalHeader>\r\n                    <MDBModalBody className=\"text-center\">\r\n                        <MDBIcon icon=\"times\" size=\"6x\" className=\"animated rotateIn\" />\r\n                    </MDBModalBody>\r\n                    <MDBModalFooter className=\"justify-content-center\">\r\n                        <MDBBtn color=\"danger\" onClick={this.deleteEntry}>Yes</MDBBtn>\r\n                        <MDBBtn color=\"danger\" outline onClick={this.toggle}>No</MDBBtn>\r\n                    </MDBModalFooter>\r\n                </MDBModal>\r\n            </MDBContainer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteModal;","import React, { Component } from 'react';\r\nimport { MDBDataTable, MDBCard, MDBCardHeader, MDBCardBody, MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from './DeleteModal'\r\nimport { Can } from \"../../../configs/Ability-context\";\r\n\r\nclass MyOwnListing extends Component {\r\n\r\n\r\n    render() {\r\n        let { cardHeading, permissionEntity, redirectToNewEntityPath, addButtonEntityLabel, tableId, data } = this.props\r\n        let btnStyle = { fontSize: '17px', borderRadius: '4px', color: 'white' }\r\n\r\n        return (\r\n            <MDBCard style={{ marginTop: '50px', borderRadius: '15px' }}>\r\n                <MDBCardHeader tag=\"h3\" className=\"text-center text-white font-weight-bold backGround-green\"\r\n                    style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\r\n                    {cardHeading}\r\n                </MDBCardHeader>\r\n                <MDBCardBody>\r\n                    {permissionEntity !== 'vendor' && permissionEntity !== 'inventoryHistories' && permissionEntity !== 'orderDetail' && permissionEntity !== 'invoiceDetail' &&\r\n                        < Can I='create' a={permissionEntity}>\r\n                            {/* two buttons used to make it responsive */}\r\n                            <div className='row justify-content-center d-md-none'>\r\n                                <button style={btnStyle} onClick={redirectToNewEntityPath} className='btn py-1 px-2 font-weight-bold backGround-blue borderBlue'>\r\n                                    Add New {addButtonEntityLabel}\r\n                                </button>\r\n                            </div>\r\n                            <div className='row justify-content-end d-none d-md-flex no-gutters'>\r\n                                <button style={btnStyle} onClick={redirectToNewEntityPath} className='btn py-1 px-2 font-weight-bold backGround-blue borderBlue'>\r\n                                    Add New {addButtonEntityLabel}\r\n                                </button>\r\n                            </div>\r\n                        </Can>\r\n                    }\r\n                    <MDBDataTable id={tableId} small hover entriesLabel=\"Show\"\r\n                        bordered searchLabel=\"\" entries={12} entriesOptions={[5, 10, 20, 35, 55, 70, 100, 135]} responsive\r\n                        data={data} theadTextWhite >\r\n                    </MDBDataTable>\r\n                </MDBCardBody>\r\n            </MDBCard >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MyOwnListing","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllPersons extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            allUsers: props.allData.allUsers,\r\n            rowToBeDeleted: '',\r\n            personToBeDeleted: '',\r\n            allRoles: props.allData.allRoles,\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n\r\n        this.props.allPersons === 'Users' &&\r\n            this.props.history.push({ pathname: \"/users/edit\", search: `user=${id}` })\r\n        this.props.allPersons === 'Vendors' &&\r\n            this.props.history.push({ pathname: \"/vendors/edit\", search: `vendor=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.allPersons === 'Users' &&\r\n            this.props.history.push('/users/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            personToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deletePerson = () => {\r\n        let { rowToBeDeleted, personToBeDeleted } = this.state\r\n        // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n        let deletePerson = { value: personToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deletePerson),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteUser', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json)\r\n                if (json.success) {\r\n                    document.getElementById('allPersonsTable').deleteRow(rowToBeDeleted)\r\n                    // let userId = json.data.id\r\n                    // if (userRole === 'driver') {\r\n                    //     let driver = { driver_id: userId }\r\n                    //     let deleteRouteOptions = {\r\n                    //         method: 'DELETE',\r\n                    //         body: JSON.stringify(driver),\r\n                    //         headers: { 'Content-Type': 'application/json' }\r\n                    //     }\r\n                    //     fetch('/deleteDriverRoutes', deleteRouteOptions)\r\n                    //         .then((res) => res.json())\r\n                    //         .then((json) => {\r\n                    //             // console.log(json)\r\n                    //         })\r\n                    //         .catch((error) => console.log(error))\r\n                    // }\r\n                }\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n    render() {\r\n        let { allUsers, allRoles } = this.state, rows = [], data, index = 0, { allPersons } = this.props,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        switch (allPersons) {\r\n            case 'Users':\r\n                allUsers && allUsers.forEach((user) => {\r\n                    index = index + 1;\r\n                    let currentRole;\r\n                    if (allRoles) {\r\n                        allRoles.forEach(role => {\r\n                            if (role.id === user.role_id) {\r\n                                currentRole = role.name\r\n                            }\r\n                        });\r\n                    }\r\n                    rows.push(\r\n                        {\r\n                            index: index,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            cell: user.cell,\r\n                            address: user.address,\r\n                            username: currentRole === 'super_admin' ? 'superAdmin' : user.username,\r\n                            // password: user.password,\r\n                            role: currentRole,\r\n                            buttons: <React.Fragment>\r\n                                <Can I='update' a={currentRole === 'super_admin' ? 'superAdmin' : 'user'}>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(user.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                                <Can I='delete' a={currentRole === 'super_admin' ? 'superAdmin' : 'user'}>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(user.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"trash iconRed\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                            </React.Fragment>\r\n                        }\r\n                    );\r\n                });\r\n                data = {\r\n                    columns: [\r\n                        { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                        { label: 'Email', field: 'email', }, { label: 'Cell', field: 'cell', },\r\n                        { label: 'Address', field: 'address', }, { label: 'Username', field: 'username', },\r\n                        { label: 'Role', field: 'role', }, { label: 'Action', field: 'buttons' }\r\n                    ],\r\n                    rows: rows\r\n                }\r\n                break;\r\n            case 'Vendors':\r\n                let roleId;\r\n                if (allRoles) {\r\n                    allRoles.forEach(role => {\r\n                        if (role.name === 'vendor') {\r\n                            roleId = role.id\r\n                        }\r\n                    })\r\n                }\r\n                let allVendors = allUsers && allUsers.filter(user => user.role_id === roleId)\r\n                allVendors.forEach((vendor) => {\r\n                    index = index + 1;\r\n                    rows.push(\r\n                        {\r\n                            index: index,\r\n                            name: vendor.name,\r\n                            email: vendor.email,\r\n                            cell: vendor.cell,\r\n                            address: vendor.address,\r\n                            cnic: vendor.cnic,\r\n                            shopName: vendor.shop_name,\r\n                            shopAddress: vendor.shop_address,\r\n                            shopCell: vendor.shop_cell,\r\n                            bankName: vendor.bank_name,\r\n                            branchName: vendor.branch_name,\r\n                            branchCode: vendor.branch_code,\r\n                            accountTitle: vendor.account_title,\r\n                            accountNo: vendor.account_id,\r\n                            ibanNo: vendor.iban_id,\r\n                            username: vendor.username,\r\n                            // password: user.password,\r\n                            buttons: <React.Fragment>\r\n                                {/* <Can I='read' a='driverInventories'>\r\n                                    <MDBBtn style={{ fontSize: '15px' }} onClick={this.handleViewInventory(driver.id)} className='m-1 py-1 px-2' outline color='secondary' size=\"sm\"><MDBIcon icon=\"boxes\" /></MDBBtn>\r\n                                </Can> */}\r\n                                <Can I='update' a='vendor'>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(vendor.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                                <Can I='delete' a='vendor'>\r\n                                    <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(vendor.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                        <MDBIcon icon=\"trash iconRed\" />\r\n                                    </MDBBtn>\r\n                                </Can>\r\n                            </React.Fragment>\r\n                        }\r\n                    );\r\n                });\r\n                data = {\r\n                    columns: [\r\n                        { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'Email', field: 'email', }, { label: 'Cell', field: 'cell', },\r\n                        { label: 'Address', field: 'address', }, { label: 'CNIC', field: 'cnic', }, { label: 'Shop', field: 'shopName' },\r\n                        { label: 'Shop-Address', field: 'shopAddress', }, { label: 'Shop-Phone', field: 'shopCell', }, { label: 'Bank', field: 'bankName', },\r\n                        { label: 'Branch', field: 'branchName' }, { label: 'Br. Code', field: 'branchCode', }, { label: 'A/C Title', field: 'accountTitle', },\r\n                        { label: 'A/C #', field: 'accountNo', }, { label: 'IBAN', field: 'ibanNo', }, { label: 'Username', field: 'username', },\r\n                        { label: 'Action', field: 'buttons' }\r\n                    ],\r\n                    rows: rows\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n\r\n        return (\r\n            <Can I='read' a={allPersons === 'Users' ? 'user' : 'vendor'}>\r\n                <MyOwnListing\r\n                    cardHeading={allPersons}\r\n                    permissionEntity={allPersons === 'Users' ? 'user' : 'vendor'}\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel={allPersons === 'Users' ? 'User' : ''}\r\n                    tableId='allPersonsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deletePerson}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllPersons","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport AllPersons from '../../misc/pages/AllPersons';\r\n\r\n\r\nconst AllVendors = ({ ...props }) => {\r\n\r\n    return (\r\n        <Can I='read' a='vendor'>\r\n            <AllPersons allPersons={'Vendors'} {...props} />\r\n        </Can>\r\n    );\r\n}\r\n\r\n\r\nexport default AllVendors","import React, { Component } from 'react';\r\nimport AllVendors from './pages/AllVendors';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllVendors extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='vendor'> <AllVendors {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllVendors","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredSignupVendor from './SecuredSignupVendor';\r\nimport SecuredEditVendor from './SecuredEditVendor';\r\nimport SecuredAllVendors from './SecuredAllVendors';\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\nconst Vendors = ({ allData }) => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/vendors/signup\" render={(routeProps) => <SecuredSignupVendor {...routeProps} allData={allData} />} />\r\n            <Route path=\"/vendors/edit\" render={() => <SecuredEditVendor allData={allData} />} />\r\n            <Route path=\"/vendors/all\" render={(routeProps) => <SecuredAllVendors {...routeProps} allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default Vendors","import React from 'react';\r\n// import { Can } from '../../../configs/Ability-context'\r\nimport { MDBNavLink } from 'mdbreact';\r\n\r\n\r\n\r\nconst Home = () => {\r\n\r\n    return (\r\n        < React.Fragment >\r\n            {/* {displaySidebar()} */}\r\n            {/* <MDBNavLink to='/users/permissions/new'>Create Permission</MDBNavLink> */}\r\n            <MDBNavLink to='/users/roles/new'>Create Role</MDBNavLink>\r\n            <MDBNavLink to='/users/new'>Create User</MDBNavLink>\r\n            <MDBNavLink to='/products/brands/new'>Create Brand</MDBNavLink>\r\n            <MDBNavLink to='/products/categories/new'>Create Product-Category</MDBNavLink>\r\n            <MDBNavLink to='/products/new'>Create Product</MDBNavLink>\r\n            <MDBNavLink to='/inventories/update'>Update Inventory</MDBNavLink>\r\n            <MDBNavLink to={{ pathname: \"/orders/new\", search: `type=sale` }}>Create Sale</MDBNavLink>\r\n            <MDBNavLink to='/orders/all'>All Order</MDBNavLink>\r\n            <MDBNavLink to='/orders/order_details'>All Order-Details</MDBNavLink>\r\n\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default Home","import React, { Component } from 'react';\r\nimport Home from './pages/Home';\r\nimport { Redirect } from 'react-router'\r\n\r\n\r\nclass SecuredHome extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            \r\n            return <Home allData={this.props.allData} />\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredHome","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass NewUser extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            username: '',\r\n            password: '',\r\n            selectedRole: '',\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedRole: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newUserForm\r\n        if (!this.state.selectedRole) {\r\n            this.setState({ selectedRole: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { selectedRole, name, email, cell, address, username, password } = this.state\r\n            let newUser = { roleId: selectedRole.value, name: name, email: email, cell: cell, address: address, username: username, password: password }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newUser),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            username: '',\r\n                            password: '',\r\n                            selectedRole: '',\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.username.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, email, cell, address, username, password, selectedRole } = this.state\r\n        let { allData } = this.props\r\n\r\n\r\n        // let roleOptions = allData.allRoles && allData.allRoles.map(role => (role.name.toLowerCase() !== 'vendor' && {\r\n        //     key: role.id,\r\n        //     label: role.name,\r\n        //     value: role.id,\r\n        //     color: role.id % 2 === 0 ?\r\n        //         '#112648' : '#687722'\r\n        // }));\r\n\r\n        return (\r\n            <Can I='create' a='user' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'\r\n                    //  className=' offset-xl-2 offset-lg-3 offset-md-3'\r\n                     >\r\n                        <form ref='newUserForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New User</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={roleOptions}\r\n                                        Entities={allData.allRoles}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Role..*'}\r\n                                        selectedValue={selectedRole}\r\n                                        iconClass={'fa fa-user-tag'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                        isOptionDisabled={(option) => option.label.toLowerCase() === 'vendor'}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"email\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        placeholder='Cell'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-user inputIcon\" />\r\n                                    <input\r\n                                        name=\"username\"\r\n                                        value={username}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.username = el}\r\n                                        required\r\n                                        placeholder='Username'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-lock inputIcon\" />\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewUser","import React, { Component } from 'react';\r\nimport NewUser from './pages/NewUser';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewUser extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='user'><NewUser allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewUser","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport AllPersons from '../../misc/pages/AllPersons';\r\n\r\n\r\nconst AllUsers = ({ ...props }) => {\r\n    return (\r\n        <Can I='read' a='user'>\r\n            <AllPersons allPersons={'Users'} {...props} />\r\n        </Can>\r\n    );\r\n}\r\n\r\n\r\nexport default AllUsers","import React, { Component } from 'react';\r\nimport AllUsers from './pages/AllUsers';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllUsers extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='user'> <AllUsers {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllUsers","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditUser extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.userId = Number(params.get('user'))\r\n        let userToBeEdited = allData.allUsers && allData.allUsers.filter(user => user.id === this.userId).shift(),\r\n            roleToBeEdited = userToBeEdited && allData.allRoles && allData.allRoles.filter(role => role.id === userToBeEdited.role_id).shift()\r\n        // console.log(userToBeEdited);\r\n\r\n        this.selectedRole = roleToBeEdited && {\r\n            key: roleToBeEdited.id,\r\n            label: roleToBeEdited.name,\r\n            value: roleToBeEdited.id,\r\n            color: roleToBeEdited.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }\r\n        this.selectedBankName = roleToBeEdited && roleToBeEdited.name === 'vendor' && {\r\n            key: userToBeEdited.id,\r\n            label: userToBeEdited.bank_name,\r\n            value: userToBeEdited.bank_name,\r\n            color: userToBeEdited.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }\r\n        this.state = {\r\n            name: userToBeEdited && userToBeEdited.name,\r\n            email: userToBeEdited && userToBeEdited.email,\r\n            cell: userToBeEdited && userToBeEdited.cell,\r\n            address: userToBeEdited && userToBeEdited.address,\r\n            username: userToBeEdited && userToBeEdited.username,\r\n            password: userToBeEdited && userToBeEdited.password,\r\n            // allRoles: props.allData.allRoles,\r\n            selectedRole: '',\r\n            cnic: roleToBeEdited.name === 'vendor' ? userToBeEdited.cnic : '',\r\n            shopName: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_name : '',\r\n            shopAddress: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_address : '',\r\n            shopCell: roleToBeEdited.name === 'vendor' ? userToBeEdited.shop_cell : '',\r\n            bankName: '',\r\n            branchName: roleToBeEdited.name === 'vendor' ? userToBeEdited.branch_name : '',\r\n            branchCode: roleToBeEdited.name === 'vendor' ? userToBeEdited.branch_code : '',\r\n            accountTitle: roleToBeEdited.name === 'vendor' ? userToBeEdited.account_title : '',\r\n            accountNumber: roleToBeEdited.name === 'vendor' ? userToBeEdited.account_id : '',\r\n            ibanNumber: roleToBeEdited.name === 'vendor' ? userToBeEdited.iban_id : '',\r\n            notificationMessage: '',\r\n            notificationShow: false,\r\n            editingVendor: false,\r\n            retailPricePercent: roleToBeEdited.name === 'vendor' ? userToBeEdited.retail_price_percent : '',\r\n            costPricePercent: roleToBeEdited.name === 'vendor' ? userToBeEdited.cost_price_percent : '',\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleRoleChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedRole: selectedOption,\r\n            editingVendor: selectedOption.label.toLowerCase() === 'vendor' ? true : false\r\n        })\r\n    }\r\n\r\n    handleBankNameChange = (selectedOption) => {\r\n        this.setState({\r\n            bankName: selectedOption\r\n        })\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRoleChange(this.selectedRole)\r\n        this.setState({ bankName: this.selectedBankName })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editUserForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedRole) {\r\n            this.setState({ selectedRole: null })\r\n            return\r\n        }\r\n        else if (this.state.editingVendor && !this.state.bankName) {\r\n            this.setState({ bankName: null })\r\n            return\r\n        }\r\n        else {\r\n            let {\r\n                selectedRole, name, email, cell, address, username, password, cnic, shopName, shopCell, shopAddress, bankName,\r\n                branchName, branchCode, accountNumber, accountTitle, ibanNumber, editingVendor, costPricePercent, retailPricePercent\r\n            } = this.state\r\n            let updatedVendor = {\r\n                id: this.userId, name: name, email: email, cell: cell, address: address, password: password,\r\n                cnic: cnic, shopName: shopName, shopAddress: shopAddress, shopCell: shopCell, bankName: bankName.value, branchName: branchName, branchCode: branchCode,\r\n                accountTitle: accountTitle, accountNumber: accountNumber, ibanNumber: ibanNumber, username: username, costPricePercent: Number(costPricePercent),\r\n                retailPricePercent: Number(retailPricePercent)\r\n            },\r\n                updatedUser = {\r\n                    id: this.userId, name: name, email: email, cell: cell, address: address, username: username, password: password,\r\n                    cnic: null, shopName: null, shopAddress: null, shopCell: null, bankName: null, branchName: null, branchCode: null,\r\n                    accountTitle: null, accountNumber: null, ibanNumber: null, roleId: selectedRole.value\r\n                }\r\n\r\n            let options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(editingVendor ? updatedVendor : updatedUser),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateUser', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            cell: '',\r\n                            address: '',\r\n                            username: '',\r\n                            password: '',\r\n                            selectedRole: '',\r\n                            cnic: '',\r\n                            shopName: '',\r\n                            shopAddress: '',\r\n                            shopCell: '',\r\n                            bankName: '',\r\n                            branchName: '',\r\n                            branchCode: '',\r\n                            accountTitle: '',\r\n                            accountNumber: '',\r\n                            ibanNumber: '',\r\n                            retailPricePercent: '',\r\n                            costPricePercent: ''\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.username.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { selectedRole, name, email, cell, address, username, password, cnic, shopName, shopCell, shopAddress, bankName,\r\n            branchName, branchCode, accountNumber, accountTitle, ibanNumber, editingVendor, costPricePercent, retailPricePercent } = this.state\r\n        let { allData } = this.props\r\n\r\n        let bankOptions = [{\r\n            key: 1,\r\n            label: 'HBL',\r\n            value: 'HBL',\r\n            color: '#112648'\r\n        }, {\r\n            key: 2,\r\n            label: 'MCB',\r\n            value: 'MCB',\r\n            color: '#687722'\r\n        },];\r\n\r\n        return (\r\n            <Can I='update' a='user' >\r\n                {/* <MDBCol > */}\r\n                <form ref='editUserForm' className='mb-4 mt-4 p-0' onSubmit={this.handleSubmit} noValidate>\r\n                    <MDBRow center >\r\n                        <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                            <fieldset className='w-100 pb-0'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit User</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={roleOptions}\r\n                                        Entities={allData.allRoles}\r\n                                        handleChange={this.handleRoleChange}\r\n                                        placeHolder={'Select Role..*'}\r\n                                        selectedValue={selectedRole}\r\n                                        iconClass={'fa fa-user-tag'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                        isOptionDisabled={(option) => option.label.toLowerCase() === 'vendor'}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"email\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        placeholder='Cell'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={address || ''}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.address = el}\r\n                                        placeholder='Address'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {!editingVendor ?\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-user inputIcon\" />\r\n                                        <input\r\n                                            name=\"username\"\r\n                                            value={username}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.username = el}\r\n                                            required\r\n                                            placeholder='Username'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        />\r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-lock inputIcon\" />\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        value={password}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.password = el}\r\n                                        required\r\n                                        placeholder='Password*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {editingVendor ?\r\n                                    <>\r\n                                        <div className='mb-2'>\r\n                                            <i className=\"fa fa-id-card inputIcon\" style={{ paddingLeft: '13px' }}></i>\r\n                                            <input\r\n                                                name=\"cnic\"\r\n                                                value={cnic}\r\n                                                onInput={this.handleInput}\r\n                                                type=\"text\"\r\n                                                onChange={() => { }}\r\n                                                ref={el => this.cnic = el}\r\n                                                pattern=\"^[0-9]{13}\"\r\n                                                required\r\n                                                placeholder='CNIC'\r\n                                                maxLength='13'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            />\r\n                                            <p className='invalid-feedback'> <small className='pl-3 m-0'>CNIC must follow the '0000000000000' format !</small></p>\r\n                                        </div>\r\n                                        <div className='mb-2'>\r\n                                            <i className=\"fa fa-store inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                            <input\r\n                                                name=\"shopName\"\r\n                                                value={shopName}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={() => { }}\r\n                                                type=\"text\"\r\n                                                ref={el => this.shopName = el}\r\n                                                required\r\n                                                placeholder='Shop Name'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            >\r\n                                            </input>\r\n                                        </div>\r\n                                        <div className='m-0'>\r\n                                            <i className=\"fa fa-map-marker-alt inputIcon\" style={{ paddingLeft: '16px' }}></i>\r\n                                            <input\r\n                                                name=\"shopAddress\"\r\n                                                value={shopAddress}\r\n                                                onInput={this.handleInput}\r\n                                                onChange={() => { }}\r\n                                                type=\"text\"\r\n                                                ref={el => this.shopAddress = el}\r\n                                                required\r\n                                                placeholder='Shop Address'\r\n                                                className='fontRaleway inputText pl-5 form-control'\r\n                                            >\r\n                                            </input>\r\n                                        </div>\r\n                                        <div className='mb-2 pb-1'>\r\n                                            <h3 className='font-weight-bold colorBlue text-right m-0 p-0'>....</h3>\r\n                                        </div>\r\n                                    </>\r\n                                    : null\r\n                                }\r\n                                {!editingVendor ?\r\n                                    <div className='text-center'>\r\n                                        <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                            </fieldset>\r\n                        </MDBCol>\r\n                        {editingVendor ?\r\n                            <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                                <fieldset className='w-100 pb-2 pt-0' >\r\n                                    <div className='mt-1 mb-3 p-0'>\r\n                                        <h3 className='font-weight-bold colorBlue text-left m-0'>....</h3>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-mobile-alt inputIcon\" style={{ paddingLeft: '17px' }}></i>\r\n                                        <input\r\n                                            name=\"shopCell\"\r\n                                            value={shopCell}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.shopCell = el}\r\n                                            required\r\n                                            placeholder='Shop Phone'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <MyOwnSelect\r\n                                            options={bankOptions}\r\n                                            handleChange={this.handleBankNameChange}\r\n                                            placeHolder={'Bank Name*'}\r\n                                            selectedValue={bankName}\r\n                                            iconClass={'fa fa-university'}\r\n                                            required={true}\r\n                                            isMulti={false}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-hand-holding-usd inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"branchName\"\r\n                                            value={branchName}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.branchName = el}\r\n                                            required\r\n                                            placeholder='Branch Name'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-qrcode inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"branchCode\"\r\n                                            value={branchCode}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"number\"\r\n                                            ref={el => this.branchCode = el}\r\n                                            required\r\n                                            placeholder='Branch Code'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-book inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"accountTitle\"\r\n                                            value={accountTitle}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.accountTitle = el}\r\n                                            required\r\n                                            placeholder='A/C Title'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2'>\r\n                                        <i className=\"fa fa-portrait inputIcon\"></i>\r\n                                        <input\r\n                                            name=\"accountNumber\"\r\n                                            value={accountNumber}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"number\"\r\n                                            ref={el => this.accountNumber = el}\r\n                                            required\r\n                                            placeholder='A/C #'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-credit-card inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"ibanNumber\"\r\n                                            value={ibanNumber}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            type=\"text\"\r\n                                            ref={el => this.ibanNumber = el}\r\n                                            required\r\n                                            placeholder='IBAN #'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-percentage inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"retailPricePercent\"\r\n                                            value={retailPricePercent}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                            type=\"number\"\r\n                                            ref={el => this.retailPricePercent = el}\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            placeholder='Retail-Price %'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='mb-2 '>\r\n                                        <i className=\"fa fa-percentage inputIcon\" style={{ paddingLeft: '11px' }}></i>\r\n                                        <input\r\n                                            name=\"costPricePercent\"\r\n                                            value={costPricePercent}\r\n                                            onInput={this.handleInput}\r\n                                            onChange={() => { }}\r\n                                            pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                            type=\"number\"\r\n                                            ref={el => this.costPricePercent = el}\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            placeholder='Cost-Price %'\r\n                                            className='fontRaleway inputText pl-5 form-control'\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                    <div className='text-center mb-0'>\r\n                                        <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                    </div>\r\n                                </fieldset>\r\n                            </MDBCol>\r\n                            : null}\r\n                    </MDBRow>\r\n                </form>\r\n                {/* {\r\n                        this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                        <Notification\r\n                        message={this.state.notificationMessage}\r\n                        icon={\"bell\"}\r\n                        />\r\n                        </MDBAnimation>\r\n                        : null\r\n                    } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditUser","import React, { Component } from 'react';\r\nimport EditUser from './pages/EditUser';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditUser extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='user'><EditUser allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditUser","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n// import Notification from '../../misc/sections/Notification';\r\nimport { Can } from '../../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\n\r\nclass NewRole extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            // allPermissions: props.allData.allPermissions,\r\n            selectedPermissions: [],\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedPermissions: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.newRoleForm\r\n\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedPermissions || this.state.selectedPermissions.length === 0) {\r\n            this.setState({ selectedPermissions: null })\r\n            return\r\n        }\r\n        else {\r\n            let { name, selectedPermissions } = this.state\r\n\r\n            let newRole = { name: name.toLowerCase() }\r\n            let options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newRole),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewRole', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true });\r\n                    if (json.success) {\r\n                        let RolePermissions = [], roleId = json.data.id;\r\n                        selectedPermissions.forEach(permission => {\r\n                            let permissionId = permission.value\r\n                            RolePermissions.push({ role_id: roleId, permission_id: permissionId })\r\n                        })\r\n                        let rolePermissions = { RolePermissions: RolePermissions }\r\n                        var options = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(rolePermissions),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewRolePermissions', options)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                                this.setState({\r\n                                    name: '',\r\n                                    selectedPermissions: []\r\n                                })\r\n                                window.location.reload();\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, selectedPermissions } = this.state\r\n        let { allData } = this.props\r\n        let permissionOptions = allData.allPermissions && allData.allPermissions.map(permission => ({\r\n            key: permission.id,\r\n            label: permission.slug,\r\n            value: permission.id,\r\n            color: permission.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n        return (\r\n            <Can I='create' a='role' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newRoleForm' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-5 text-center\">New Role</h2>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. admin</small></p>\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={permissionOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Permissions..'}\r\n                                        selectedValue={selectedPermissions}\r\n                                        iconClass={'fa fa-exclamation-circle'}\r\n                                        required={true}\r\n                                        isMulti={true}\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" name=\"next\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewRole","import React, { Component } from 'react';\r\nimport NewRole from './pages/NewRole';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewRole extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n        if (this.loggedIn === false) {\r\n\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='role'>\r\n                <NewRole allData={allData} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewRole","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\n\r\n\r\nclass AllRoles extends Component {\r\n    _isMounted = false\r\n    constructor() {\r\n        super();\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            rowToBeDeleted: '',\r\n            roleToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/users/roles/edit\", search: `role=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/users/roles/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            roleToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteRole = () => {\r\n        let { rowToBeDeleted, roleToBeDeleted } = this.state\r\n        let deleteRole = { value: roleToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteRole),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteRole', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                if (json.success) {\r\n                    document.getElementById('allRolesTable').deleteRow(rowToBeDeleted)\r\n                    fetch('/deleteAllRolePermissions', options)\r\n                        .then(res => res.json())\r\n                        .then(json => {\r\n                            // console.log(json);\r\n                        })\r\n                        .catch(err => console.log(err))\r\n                }\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allData } = this.props, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allData.allRoles && allData.allRoles.forEach((role) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: role.name,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='role'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(role.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='role'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(role.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='role'>\r\n                <MyOwnListing\r\n                    cardHeading={`Users' Roles`}\r\n                    permissionEntity='role'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Role'\r\n                    tableId='allRolesTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteRole}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllRoles","import React, { Component } from 'react';\r\nimport AllRoles from './pages/AllRoles';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllRoles extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='role'>\r\n                <AllRoles {...this.props} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllRoles","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\n// import Notification from '../../misc/sections/Notification';\r\nimport { Can } from '../../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditRole extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.roleId = Number(params.get('role'))\r\n\r\n        let roleToBeEdited = allData.allRoles && allData.allRoles.filter(role => role.id === this.roleId).shift(),\r\n            thisRolesPermissions = allData.allRolePermissions && allData.allRolePermissions.filter(rolePermission => rolePermission.role_id === this.roleId),\r\n            permissionsToBeEdited = []\r\n\r\n        thisRolesPermissions && thisRolesPermissions.forEach(rolePermission => {\r\n            allData.allPermissions && allData.allPermissions.forEach(permission => {\r\n                if (permission.id === rolePermission.permission_id) {\r\n                    permissionsToBeEdited.push(permission);\r\n                }\r\n            })\r\n        })\r\n        // console.log(roleToBeEdited);\r\n        // console.log(permissionsToBeEdited);\r\n\r\n        this.state = {\r\n            name: roleToBeEdited && roleToBeEdited.name,\r\n            selectedPermissions: permissionsToBeEdited.map(permission => ({\r\n                key: permission.id,\r\n                label: permission.slug,\r\n                value: permission.id,\r\n                color: permission.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            })),\r\n            notificationMessage: '',\r\n            notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = (selectedOption) => {\r\n        this.setState({\r\n            selectedPermissions: selectedOption\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let form = this.refs.editRoleForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedPermissions || this.state.selectedPermissions.length === 0) {\r\n            this.setState({ selectedPermissions: null })\r\n            return\r\n        }\r\n        else {\r\n            let { selectedPermissions } = this.state\r\n\r\n            let reqBody = { roleId: this.roleId }\r\n            let options = {\r\n                method: 'DELETE',\r\n                body: JSON.stringify(reqBody),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/deleteAllRolePermissions', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true });\r\n                    if (json.success) {\r\n                        let RolePermissions = [], roleId = this.roleId;\r\n                        selectedPermissions.forEach(permission => {\r\n                            let permissionId = permission.value\r\n                            RolePermissions.push({ role_id: roleId, permission_id: permissionId })\r\n                        })\r\n                        let rolePermissions = { RolePermissions: RolePermissions }\r\n                        var options = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(rolePermissions),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewRolePermissions', options)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                                this.setState({\r\n                                    name: '',\r\n                                    selectedPermissions: []\r\n                                })\r\n                                window.location.reload()\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, selectedPermissions } = this.state\r\n        let { allData } = this.props\r\n        let permissionOptions = allData.allPermissions && allData.allPermissions.map(permission => ({\r\n            key: permission.id,\r\n            label: permission.slug,\r\n            value: permission.id,\r\n            color: permission.id % 2 === 0 ?\r\n                '#112648' : '#687722'\r\n        }));\r\n\r\n        return (\r\n            <Can I='create' a='role' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editRoleForm' onSubmit={this.handleSubmit} noValidate>\r\n\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-5 text-center\">Edit Role</h2>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        disabled\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. admin</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={permissionOptions}\r\n                                        handleChange={this.handleSelectChange}\r\n                                        placeHolder={'Select Permissions..'}\r\n                                        selectedValue={selectedPermissions}\r\n                                        iconClass={'fa fa-exclamation-circle'}\r\n                                        required={true}\r\n                                        isMulti={true}\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" name=\"next\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditRole","import React, { Component } from 'react';\r\nimport EditRole from './pages/EditRole';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditRole extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user !== null ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='role'>\r\n                <EditRole allData={allData} />\r\n            </Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditRole","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewRole from './SecuredNewRole';\r\nimport SecuredAllRoles from './SecuredAllRoles';\r\nimport SecuredEditRole from './SecuredEditRole';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst Roles = ({ allData }) => {\r\n\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/users/roles/new\" render={() => <SecuredNewRole allData={allData} />} />\r\n            <Route path=\"/users/roles/all\" render={(routeProps) => <SecuredAllRoles {...routeProps} allData={allData} />} />\r\n            <Route path=\"/users/roles/edit\" render={() => <SecuredEditRole allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Roles","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewUser from './SecuredNewUser';\r\nimport SecuredAllUsers from './SecuredAllUsers';\r\nimport SecuredEditUser from './SecuredEditUser';\r\nimport Roles from './roles/Roles'\r\n// import Permissions from './permissions/Permissions'\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\nconst Users = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/users/new\" render={() => <SecuredNewUser allData={allData} />} />\r\n            <Route path=\"/users/all\" render={(routeProps) => <SecuredAllUsers {...routeProps} allData={allData} />} />\r\n            <Route path=\"/users/edit\" render={() => <SecuredEditUser allData={allData} />} />\r\n            <Route path=\"/users/roles\" render={() => <Roles allData={allData} />} />\r\n            {/* <Route path=\"/users/permissions\" render={() => <Permissions allData={allData} />} /> */}\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Users","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass NewProdcut extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            sku: '',\r\n            bktId: '',\r\n            selectedBrand: '',\r\n            selectedCategory: '',\r\n            selectedVendor: '',\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedBrand, selectedCategory, selectedVendor } = this.state\r\n\r\n        e.preventDefault();\r\n        let form = this.refs.newProductForm\r\n\r\n        if (!selectedBrand) {\r\n            this.setState({ selectedBrand: null })\r\n            return\r\n        }\r\n        else if (!selectedCategory) {\r\n            this.setState({ selectedCategory: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, sku, bktId } = this.state\r\n            let newProduct = {\r\n                status: 'pending', brandId: selectedBrand.value, name: name, sku: sku,\r\n                bktId: bktId, categoryId: selectedCategory.value, vendorId: selectedVendor.value\r\n            }\r\n            console.log(newProduct);\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newProduct),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewProduct', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    json.success ?\r\n                        this.setState({\r\n                            name: '',\r\n                            sku: '',\r\n                            bktId: '',\r\n                            retailPrice: '',\r\n                            costPrice: '',\r\n                            selectedBrand: '',\r\n                            selectedCategory: '',\r\n                            selectedVendor: '',\r\n                        })\r\n                        :\r\n                        this.bktId.focus();\r\n\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, sku, bktId, selectedBrand, selectedCategory, selectedVendor } = this.state,\r\n            { allBrands, allProductCategories, allUsers, allRoles } = this.props.allData,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n\r\n        return (\r\n            <Can I='create' a='product' >\r\n                <MDBRow center className='mt-4 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='newProductForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Prodcut</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={brandOptions}\r\n                                        Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedBrand')}\r\n                                        placeHolder={'Select Brand..*'}\r\n                                        selectedValue={selectedBrand}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allProductCategories}\r\n                                        handleChange={this.handleSelectChange('selectedCategory')}\r\n                                        placeHolder={'Select Product-Category..*'}\r\n                                        selectedValue={selectedCategory}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-user-tie'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-search-dollar inputIcon\" />\r\n                                    <input\r\n                                        name=\"sku\"\r\n                                        value={sku}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.sku = el}\r\n                                        placeholder='SKU*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-link inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.bktId = el}\r\n                                        placeholder='Product-ID from bucket.pk*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='text-center mt-2'>\r\n                                    <input type=\"submit\" className=\"mt-2 action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewProdcut","import React, { Component } from 'react';\r\nimport NewProduct from './pages/NewProduct';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewProduct extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='product'><NewProduct allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewProduct","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllProducts extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            rowToBeDeleted: '',\r\n            productToBeDeleted: '',\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/edit\", search: `product=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            productToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteProduct = () => {\r\n        let { rowToBeDeleted, productToBeDeleted } = this.state\r\n        // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n        let deleteProduct = { value: productToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteProduct),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteProduct', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                json.success && document.getElementById('allProductsTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n    render() {\r\n        let { allBrands, allProductCategories, allProducts, allUsers, allRoles } = this.props.allData, rows = [], data, index = 0,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId),\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        allProducts && allProducts.forEach((product) => {\r\n            index = index + 1;\r\n            let thisProductCategory, thisProductBrand, thisProductVendor\r\n            allProductCategories && allProductCategories.forEach(category => {\r\n                category.id === product.product_category_id && (thisProductCategory = category.name)\r\n            });\r\n            allBrands && allBrands.forEach(brand => {\r\n                brand.id === product.brand_id && (thisProductBrand = brand.name)\r\n            });\r\n            allVendors && allVendors.forEach(vendor => {\r\n                vendor.id === product.vendor_id && (thisProductVendor = vendor.name)\r\n            });\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    status: product.status,\r\n                    name: product.name,\r\n                    sku: product.sku,\r\n                    bktId: product.bkt_id,\r\n                    brand: thisProductBrand,\r\n                    category: thisProductCategory,\r\n                    vendor: thisProductVendor,\r\n                    retailPrice: product.retail_price,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='product'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='product'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n        data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Status', field: 'status' }, { label: 'Name', field: 'name' },\r\n                { label: 'SKU', field: 'sku', }, { label: 'Id. @ Bucket', field: 'bktId', },\r\n                { label: 'Brand', field: 'brand', }, { label: 'Product-Category', field: 'category', },\r\n                { label: 'Vendor', field: 'vendor', }, { label: 'Retail-Price', field: 'retailPrice', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <Can I='read' a='product'>\r\n                <MyOwnListing\r\n                    cardHeading={`Products`}\r\n                    permissionEntity='product'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Product'\r\n                    tableId='allProductsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllProducts","import React, { Component } from 'react';\r\nimport AllProducts from './pages/AllProducts';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredAllProducts extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='product'><AllProducts  {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllProducts","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass EditProduct extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search), { allData } = props\r\n        this.productId = Number(params.get('product'))\r\n        let productToBeEdited = props.allData.allProducts && props.allData.allProducts.filter(product => product.id === this.productId).shift(),\r\n            selectedCategory = productToBeEdited && allData.allProductCategories && allData.allProductCategories.filter(\r\n                category => category.id === productToBeEdited.product_category_id).shift(),\r\n            selectedBrand = productToBeEdited && allData.allBrands && allData.allBrands.filter(brand => brand.id === productToBeEdited.brand_id).shift(),\r\n            selectedVendor = productToBeEdited && allData.allUsers && allData.allUsers.filter(user => user.id === productToBeEdited.vendor_id).shift()\r\n        this.state = {\r\n            selectedStatus: productToBeEdited && {\r\n                key: Math.random(),\r\n                label: productToBeEdited.status,\r\n                value: productToBeEdited.status,\r\n                color: '#687722'\r\n            },\r\n            selectedBrand: selectedBrand && {\r\n                key: selectedBrand.id,\r\n                label: selectedBrand.name,\r\n                value: selectedBrand.id,\r\n                color: selectedBrand.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            selectedCategory: selectedCategory && {\r\n                key: selectedCategory.id,\r\n                label: selectedCategory.name,\r\n                value: selectedCategory.id,\r\n                color: selectedCategory.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            selectedVendor: selectedVendor && {\r\n                key: selectedVendor.id,\r\n                label: selectedVendor.name,\r\n                value: selectedVendor.id,\r\n                color: selectedVendor.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            },\r\n            name: productToBeEdited && productToBeEdited.name,\r\n            sku: productToBeEdited && productToBeEdited.sku,\r\n            bktId: productToBeEdited && productToBeEdited.bkt_id,\r\n            retailPrice: productToBeEdited ? productToBeEdited.retail_price ? productToBeEdited.retail_price : '' : '',\r\n            costPrice: productToBeEdited ? productToBeEdited.cost_price ? productToBeEdited.cost_price : '' : '',\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.editValidatingLabel('')\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        if (name === 'selectedVendor') {\r\n            if (selectedOption) {\r\n                this.refs.editProductLabel.innerHTML = ''\r\n                let comingVendor = selectedOption.value, alreadySelectedVendor = this.state.selectedVendor.value\r\n                comingVendor !== alreadySelectedVendor ?\r\n                    this.setState({\r\n                        [name]: selectedOption, costPrice: '', retailPrice: ''\r\n                    })\r\n                    :\r\n                    this.setState({\r\n                        [name]: selectedOption\r\n                    })\r\n            }\r\n            else {\r\n                this.setState({\r\n                    [name]: selectedOption, costPrice: '', retailPrice: ''\r\n                })\r\n            }\r\n        }\r\n        else\r\n            this.setState({\r\n                [name]: selectedOption\r\n            })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleInputRetail = e => {\r\n        this.editValidatingLabel('')\r\n        let { selectedVendor } = this.state, retailPrice = Number(e.target.value), our_percent\r\n        this.setState({\r\n            retailPrice: retailPrice,\r\n        })\r\n        if (!selectedVendor) {\r\n            this.editValidatingLabel('Please select vendor first')\r\n            this.setState({ retailPrice: '', costPrice: '' })\r\n        }\r\n        else if (!this.override.checked) {\r\n            let selectedUser = this.props.allData && this.props.allData.allUsers.filter(user => user.id === selectedVendor.value).shift()\r\n            if (selectedUser.retail_price_percent)\r\n                our_percent = Number(retailPrice) * Number(selectedUser.retail_price_percent) / 100\r\n            else {\r\n                this.editValidatingLabel('retail-percent-price for this vendor has not been found.')\r\n                this.setState({ retailPrice: '', costPrice: '' })\r\n                return\r\n            }\r\n            let calculatedCostPrice = retailPrice - our_percent\r\n            calculatedCostPrice < retailPrice ?\r\n                this.setState({ costPrice: calculatedCostPrice })\r\n                : this.editValidatingLabel(`you can't set retail-price less than cost-price.`)\r\n        }\r\n    }\r\n\r\n    handleInputCost = (e) => {\r\n        this.editValidatingLabel('')\r\n        let { selectedVendor } = this.state, costPrice = Number(e.target.value), our_percent\r\n        this.setState({\r\n            costPrice: costPrice,\r\n        })\r\n        if (!selectedVendor) {\r\n            this.editValidatingLabel('Please select vendor first')\r\n            this.setState({ costPrice: '', retailPrice: '' })\r\n        }\r\n        else if (!this.override.checked) {\r\n            let selectedUser = this.props.allData && this.props.allData.allUsers.filter(user => user.id === selectedVendor.value).shift()\r\n            if (selectedUser.cost_price_percent)\r\n                our_percent = Number(costPrice) * Number(selectedUser.cost_price_percent) / 100\r\n            else {\r\n                this.editValidatingLabel('cost-percent-price for this vendor has not been found.')\r\n                this.setState({ costPrice: '', retailPrice: '' })\r\n                return\r\n            }\r\n            let calculatedRetailPrice = costPrice + our_percent\r\n            calculatedRetailPrice > costPrice ?\r\n                this.setState({ retailPrice: calculatedRetailPrice })\r\n                : this.editValidatingLabel(`you can't set cost-price more than retail-price.`)\r\n        }\r\n    }\r\n\r\n    handleBlurRetail = e => {\r\n        let retailPrice = Number(e.target.value), { costPrice } = this.state\r\n        if (this.override.checked) {\r\n            this.editValidatingLabel(retailPrice < costPrice ? `you can't set retail-price less than cost-price.` : '');\r\n            retailPrice < costPrice && this.costPrice.focus()\r\n        }\r\n    }\r\n\r\n    handleBlurCost = e => {\r\n        let costPrice = Number(e.target.value), { retailPrice } = this.state\r\n        if (this.override.checked) {\r\n            this.editValidatingLabel(retailPrice < costPrice ? `you can't set cost-price more than retail-price.` : '');\r\n            retailPrice < costPrice && this.retailPrice.focus()\r\n        }\r\n    }\r\n\r\n    handleClickCheckbox = () => {\r\n        this.editValidatingLabel('');\r\n        this.setState({\r\n            retailPrice: '',\r\n            costPrice: ''\r\n        })\r\n    }\r\n\r\n    editValidatingLabel = string => {\r\n        this.refs.editProductLabel.innerHTML = string\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedStatus, selectedBrand, selectedCategory, selectedVendor, retailPrice, costPrice, } = this.state\r\n        e.preventDefault();\r\n        let form = this.refs.editProductForm\r\n        if (!selectedStatus) {\r\n            this.setState({ selectedStatus: null })\r\n            return\r\n        }\r\n        else if (!selectedBrand) {\r\n            this.setState({ selectedBrand: null })\r\n            return\r\n        }\r\n        else if (!selectedCategory) {\r\n            this.setState({ selectedCategory: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (costPrice > retailPrice || costPrice === retailPrice) {\r\n            this.refs.editProductLabel.innerHTML = `It seems you entered retail-price less than or equal to cost-price but it can't, please change prices.`\r\n            return\r\n        }\r\n        else {\r\n\r\n            let { name, sku, bktId } = this.state\r\n            let updateProduct = {\r\n                id: this.productId, status: selectedStatus.value, brandId: selectedBrand.value, name: name, sku: sku, bktId: bktId, categoryId: selectedCategory.value,\r\n                retailPrice: retailPrice, costPrice: costPrice, vendorId: selectedVendor.value\r\n            }\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updateProduct),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateProduct', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            sku: '',\r\n                            bktId: '',\r\n                            retailPrice: '',\r\n                            costPrice: '',\r\n                            selectedBrand: '',\r\n                            selectedCategory: '',\r\n                            selectedVendor: '',\r\n                            selectedStatus: ''\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.bktId.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, sku, bktId, selectedBrand, selectedCategory, selectedVendor, costPrice, retailPrice, selectedStatus } = this.state\r\n        let { allBrands, allProductCategories, allUsers, allRoles } = this.props.allData,\r\n            vendorRoleId = allRoles && allRoles.filter(role => role.name === 'vendor').shift().id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n\r\n        let productStatusOptions = [\r\n            {\r\n                key: 1,\r\n                label: 'Pending',\r\n                value: 'Pending',\r\n                color: '#112648'\r\n            },\r\n            {\r\n                key: 2,\r\n                label: 'Published',\r\n                value: 'Published',\r\n                color: '#687722'\r\n            },\r\n        ]\r\n\r\n        return (\r\n            <Can I='update' a='product' >\r\n                <MDBRow center className='mt-4 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='editProductForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='pb-1'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Prodcut</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={productStatusOptions}\r\n                                        handleChange={this.handleSelectChange('selectedStatus')}\r\n                                        placeHolder={'Status..*'}\r\n                                        selectedValue={selectedStatus}\r\n                                        iconClass={'fa fa-star-half-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedBrand')}\r\n                                        placeHolder={'Select Brand..*'}\r\n                                        selectedValue={selectedBrand}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allProductCategories}\r\n                                        handleChange={this.handleSelectChange('selectedCategory')}\r\n                                        placeHolder={'Select Product-Category..*'}\r\n                                        selectedValue={selectedCategory}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-user-tie'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-search-dollar inputIcon\" />\r\n                                    <input\r\n                                        name=\"sku\"\r\n                                        value={sku}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.sku = el}\r\n                                        placeholder='SKU*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-link inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        required\r\n                                        ref={el => this.bktId = el}\r\n                                        placeholder='Product-ID from bucket.pk*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MDBRow>\r\n                                        <MDBCol className='pr-1'>\r\n                                            <i className=\"fa fa-dollar-sign inputIcon\" />\r\n                                            <input\r\n                                                name=\"retailPrice\"\r\n                                                value={retailPrice}\r\n                                                onInput={this.handleInputRetail}\r\n                                                onChange={() => { }}\r\n                                                pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                                onKeyPress={this.onKeyPress}\r\n                                                onBlur={this.handleBlurRetail}\r\n                                                type=\"number\"\r\n                                                ref={el => this.retailPrice = el}\r\n                                                required\r\n                                                placeholder='Retail-Price*'\r\n                                                className='fontRaleway inputText pl-5 pr-0 form-control'\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol className='pl-1'>\r\n                                            <i className=\"fa fa-dollar-sign inputIcon\" />\r\n                                            <input\r\n                                                name=\"costPrice\"\r\n                                                value={costPrice}\r\n                                                onInput={this.handleInputCost}\r\n                                                onChange={() => { }}\r\n                                                type=\"number\"\r\n                                                ref={el => this.costPrice = el}\r\n                                                pattern=\"^[0-9]+(\\.[0-9][0-9]?)?\"\r\n                                                required\r\n                                                onBlur={this.handleBlurCost}\r\n                                                onKeyPress={this.onKeyPress}\r\n                                                placeholder='Cost-Price*'\r\n                                                className='fontRaleway inputText pl-5 pr-0 form-control'\r\n                                            />\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                </div>\r\n                                <div className='m-0 text-left'>\r\n                                    <input\r\n                                        id=\"override\"\r\n                                        type=\"checkbox\"\r\n                                        ref={el => this.override = el}\r\n                                        onClick={this.handleClickCheckbox}\r\n                                        className='fontRaleway text-left align-middle ml-2'\r\n                                    />\r\n                                    <small className='ml-2 colorBlue fontRaleway align-middle'>Override prices</small>\r\n                                </div>\r\n                                <div className='text-center mt-1 mb-0 pb-0'>\r\n                                    <label ref='editProductLabel' className='m-0 p-0 validatingLabel'></label><br />\r\n                                    <input type=\"submit\" className=\" mt-2 action-button mb-1\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditProduct","import React, { Component } from 'react';\r\nimport EditProduct from './pages/EditProduct';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditProduct extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='product'><EditProduct allData={allData} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditProduct","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass NewProductCategory extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            description: '',\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newProductCategoryForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, description } = this.state\r\n            let newProductCategory = { name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newProductCategory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewProductCategory', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='productCategory' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10' >\r\n                        <form ref='newProductCategoryForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Product-Category</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewProductCategory","import React, { Component } from 'react';\r\nimport NewProductCategory from './pages/NewProductCategory';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewProductCategory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='productCategory'><NewProductCategory /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewProductCategory","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\n\r\n\r\nclass AllProductCategories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            allProductCategories: props.allData.allProductCategories,\r\n            rowToBeDeleted: '',\r\n            categoryToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/categories/edit\", search: `category=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/categories/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            categoryToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteProductCategory = () => {\r\n        let { rowToBeDeleted, categoryToBeDeleted } = this.state\r\n        let deleteProductCategory = { value: categoryToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteProductCategory),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteProductCategory', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                json.success && document.getElementById('allProductCategoriesTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allProductCategories } = this.state, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allProductCategories && allProductCategories.forEach((productCategory) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: productCategory.name,\r\n                    description: productCategory.description,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='productCategory'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(productCategory.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='productCategory'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(productCategory.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Description', field: 'description', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='productCategory'>\r\n                <MyOwnListing\r\n                    cardHeading={`Product-Categories`}\r\n                    permissionEntity='productCategory'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Category'\r\n                    tableId='allProductCategoriesTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProductCategory}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllProductCategories","import React, { Component } from 'react';\r\nimport AllProductCategories from './pages/AllProductCategories';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllProductCategories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='productCategory'> <AllProductCategories {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllProductCategories","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass EditProductCategory extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.categoryId = Number(params.get('category'))\r\n        let categoryToBeEdited = props.allData.allProductCategories && props.allData.allProductCategories.filter(category => category.id === this.categoryId).shift()\r\n        this.state = {\r\n            name: categoryToBeEdited && categoryToBeEdited.name,\r\n            description: categoryToBeEdited && categoryToBeEdited.description,\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editProductCategoryForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n\r\n        else {\r\n            let { name, description } = this.state\r\n            let updatedProductCategory = { id: this.categoryId, name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedProductCategory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateProductCategory', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='update' a='productCategory' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editProductCategoryForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Product-Category</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditProductCategory","import React, { Component } from 'react';\r\nimport EditProductCategory from './pages/EditProductCategory';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditProductCategory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='productCategory'><EditProductCategory allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditProductCategory","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewProductCategory from './SecuredNewProductCategory';\r\nimport SecuredAllProductCategories from './SecuredAllProductCategories';\r\nimport SecuredEditProductCategory from './SecuredEditProductCategory';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst ProductCategories = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/categories/new\" render={() => <SecuredNewProductCategory />} />\r\n            <Route path=\"/products/categories/all\" render={(routeProps) => <SecuredAllProductCategories {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/categories/edit\" render={() => <SecuredEditProductCategory allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default ProductCategories","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass NewBrand extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            description: '',\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.newBrandForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, description } = this.state\r\n            let newBrand = { name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'POST',\r\n                body: JSON.stringify(newBrand),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/addNewBrand', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    json.success ?\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        :\r\n                        this.name.focus();\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='brand' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newBrandForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">New Brand</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Create..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NewBrand","import React, { Component } from 'react';\r\nimport NewBrand from './pages/NewBrand';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewBrand extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='brand'><NewBrand /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewBrand","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../../misc/components/DeleteModal';\r\nimport { Can } from \"../../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\r\n\r\n\r\nclass AllBrands extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n\r\n        this.state = {\r\n            allBrands: props.allData.allBrands,\r\n            rowToBeDeleted: '',\r\n            brandToBeDeleted: '',\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    handleEdit = (id) => (e) => {\r\n        this.props.history.push({ pathname: \"/products/brands/edit\", search: `brand=${id}` })\r\n    }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/products/brands/new')\r\n    }\r\n\r\n    handleDelete = (id) => (e) => {\r\n        let el = e.target\r\n        let row = el.closest('tr')\r\n        var i = row.rowIndex;\r\n        this.setState({\r\n            rowToBeDeleted: i,\r\n            brandToBeDeleted: id\r\n        })\r\n        this.refs.deleteModal.setState({\r\n            modalShow: true,\r\n        })\r\n    }\r\n\r\n    deleteBrand = () => {\r\n        let { rowToBeDeleted, brandToBeDeleted } = this.state\r\n        let deleteBrand = { value: brandToBeDeleted }\r\n\r\n        var options = {\r\n            method: 'DELETE',\r\n            body: JSON.stringify(deleteBrand),\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch('/deleteBrand', options)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json)\r\n                json.success && document.getElementById('allBrandsTable').deleteRow(rowToBeDeleted)\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { allBrands } = this.state, rows = [], index = 0,\r\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' };\r\n\r\n        allBrands && allBrands.forEach((brand) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: brand.name,\r\n                    description: brand.description,\r\n                    buttons: <React.Fragment>\r\n                        <Can I='update' a='brand'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(brand.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                        <Can I='delete' a='brand'>\r\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(brand.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                                <MDBIcon icon=\"trash iconRed\" />\r\n                            </MDBBtn>\r\n                        </Can>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        let data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' },\r\n                { label: 'Description', field: 'description', }, { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n            <Can I='read' a='brand'>\r\n                <MyOwnListing\r\n                    cardHeading={`Brands`}\r\n                    permissionEntity='brand'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Brand'\r\n                    tableId='allBrandsTable'\r\n                    data={data}\r\n                />\r\n                <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteBrand}\r\n                />\r\n\r\n                {/* <LoaderModal\r\n                //    show={loaderModalShow}\r\n            // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllBrands","import React, { Component } from 'react';\r\nimport AllBrands from './pages/AllBrands';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllBrands extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='brand'> <AllBrands {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllBrands","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../../configs/Ability-context'\r\n\r\n\r\nclass EditBrand extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        let params = new URLSearchParams(window.location.search)\r\n        this.brandId = Number(params.get('brand'))\r\n        let brandToBeEdited = props.allData.allBrands && props.allData.allBrands.filter(brand => brand.id === this.brandId).shift()\r\n        this.state = {\r\n            name: brandToBeEdited && brandToBeEdited.name,\r\n            description: brandToBeEdited && brandToBeEdited.description,\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let form = this.refs.editBrandForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n\r\n        else {\r\n            let { name, description } = this.state\r\n            let updatedBrand = { id: this.brandId, name: name, description: description }\r\n\r\n            var options = {\r\n                method: 'PUT',\r\n                body: JSON.stringify(updatedBrand),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/updateBrand', options)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success === true) {\r\n                        this.setState({\r\n                            name: '',\r\n                            description: '',\r\n                        })\r\n                        window.location.reload();\r\n                    }\r\n                    else {\r\n                        this.name.focus();\r\n                    }\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let { name, description } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='update' a='brand' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='editBrandForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Edit Brand</h2>\r\n\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. john doe</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.description = el}\r\n                                        rows='3'\r\n                                        placeholder='Description'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <div className='invalid-feedback ml-2 p-0'><small>Please enter a valid email.</small></div> */}\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditBrand","import React, { Component } from 'react';\r\nimport EditBrand from './pages/EditBrand';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditBrand extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='brand'><EditBrand allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditBrand","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewBrand from './SecuredNewBrand';\r\nimport SecuredAllBrands from './SecuredAllBrands';\r\nimport SecuredEditBrand from './SecuredEditBrand';\r\nimport NotFound from '../../misc/pages/NotFound'\r\n\r\n\r\nconst Brands = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/brands/new\" render={() => <SecuredNewBrand />} />\r\n            <Route path=\"/products/brands/all\" render={(routeProps) => <SecuredAllBrands {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/brands/edit\" render={() => <SecuredEditBrand allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Brands","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewProduct from './SecuredNewProduct';\r\nimport SecuredAllProducts from './SecuredAllProducts';\r\nimport SecuredEditProduct from './SecuredEditProduct';\r\nimport ProductCategories from './categories/ProductCategories';\r\nimport Brands from './brands/Brands';\r\nimport NotFound from '../misc/pages/NotFound'\r\n\r\n\r\n\r\nconst Products = ({ allData }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/products/new\" render={() => <SecuredNewProduct allData={allData} />} />\r\n            <Route path=\"/products/all\" render={(routeProps) => <SecuredAllProducts {...routeProps} allData={allData} />} />\r\n            <Route path=\"/products/edit\" render={() => <SecuredEditProduct allData={allData} />} />\r\n            <Route path=\"/products/categories\" render={() => <ProductCategories allData={allData} />} />\r\n            <Route path=\"/products/brands\" render={() => <Brands allData={allData} />} />\r\n            <Route render={() => <NotFound />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Products","import React, { Component } from 'react';\r\nimport { MDBBtn, MDBIcon } from 'mdbreact';\r\nimport DeleteModal from '../../misc//components/DeleteModal';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nclass AllInventories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            allInventories: props.allData.allInventories,\r\n            allProducts: props.allData.allProducts,\r\n            allProductCategories: props.allData.allProductCategories,\r\n            allBrands: props.allData.allBrands,\r\n            // rowToBeDeleted: '',\r\n            // inventorToBeDeleted: '',\r\n            // loaderModalShow: false\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._isMounted = false\r\n    }\r\n\r\n\r\n    // handleEdit = (id) => (e) => {\r\n    //     this.props.history.push({ pathname: \"/inventories/update\", search: `inventory=${id}` })\r\n    // }\r\n\r\n    redirectToNewEntityPath = () => {\r\n        this.props.history.push('/inventories/update')\r\n    }\r\n\r\n    // handleDelete = (id) => (e) => {\r\n    //     let el = e.target\r\n    //     let row = el.closest('tr')\r\n    //     var i = row.rowIndex;\r\n    //     this.setState({\r\n    //         rowToBeDeleted: i,\r\n    //         productToBeDeleted: id\r\n    //     })\r\n    //     this.refs.deleteModal.setState({\r\n    //         modalShow: true,\r\n    //     })\r\n    // }\r\n\r\n    // deleteInventory = () => {\r\n    //     let { rowToBeDeleted, productToBeDeleted } = this.state\r\n    //     // let userRole = document.getElementById('personsTable').rows[rowToBeDeleted].cells[6].innerHTML\r\n    //     let deleteProduct = { value: productToBeDeleted }\r\n\r\n    //     var options = {\r\n    //         method: 'DELETE',\r\n    //         body: JSON.stringify(deleteProduct),\r\n    //         headers: { 'Content-Type': 'application/json' }\r\n    //     }\r\n    //     fetch('/deleteProduct', options)\r\n    //         .then((res) => res.json())\r\n    //         .then((json) => {\r\n    //             // console.log(json)\r\n    //             json.success && document.getElementById('allProductsTable').deleteRow(rowToBeDeleted)\r\n    //         })\r\n    //         .catch((error) => console.log(error))\r\n    // }\r\n\r\n\r\n    render() {\r\n        let { allInventories, allBrands, allProductCategories, allProducts } = this.state, rows = [], data, index = 0\r\n        // btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n        allInventories && allInventories.forEach((inventory) => {\r\n\r\n            index = index + 1;\r\n            let thisProductCategory, thisProductBrand, thisProduct\r\n            allProducts && allProducts.forEach(product => {\r\n                product.id === inventory.bkt_id && (thisProduct = product.name)\r\n            });\r\n            allProductCategories && allProductCategories.forEach(category => {\r\n                thisProduct ? category.id === thisProduct.id && (thisProductCategory = category.name) : thisProductCategory = 'Product not found.'\r\n            });\r\n            allBrands && allBrands.forEach(brand => {\r\n                thisProduct ? brand.id === thisProduct.brand_id && (thisProductBrand = brand.name) : thisProductBrand = 'Product not found.'\r\n            });\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    name: thisProduct ? thisProduct.name : 'Product not created yet.',\r\n                    bktId: inventory.bkt_id ? inventory.bkt_id : 'Product not found.',\r\n                    sku: thisProduct ? thisProduct.sku : 'Product not created yet.',\r\n                    category: thisProduct ? thisProductCategory : 'Product not created yet.',\r\n                    brand: thisProduct ? thisProductBrand : 'Product not created yet.',\r\n                    qty: inventory.qty,\r\n                    // buttons: <React.Fragment>\r\n                    //     <Can I='update' a='product'>\r\n                    //         <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                    //             <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                    //         </MDBBtn>\r\n                    //     </Can>\r\n                    //     <Can I='delete' a='product'>\r\n                    //         <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                    //             <MDBIcon icon=\"trash iconRed\" />\r\n                    //         </MDBBtn>\r\n                    //     </Can>\r\n                    // </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n        data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'bucket-ID', field: 'bktId', },\r\n                { label: 'SKU', field: 'sku', }, { label: 'Category', field: 'category', }, { label: 'Brand', field: 'brand', }, {\r\n                    label: 'QTY.', field: 'qty', attributes: {\r\n                        \"fontWeight\": \"bold\"\r\n                    }\r\n                },\r\n                // { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <Can I='read' a='inventories'>\r\n                <MyOwnListing\r\n                    cardHeading={`Inventories`}\r\n                    permissionEntity='inventories'\r\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\r\n                    addButtonEntityLabel='Inventory'\r\n                    tableId='allInventoriesTable'\r\n                    data={data}\r\n                />\r\n                {/* <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                /> */}\r\n\r\n                {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n            </Can>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllInventories","import React, { Component } from 'react';\r\nimport AllInventories from './pages/AllInventories';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredAllInventories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='inventories'><AllInventories  {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInventories","import React from 'react';\r\nimport { Can } from \"../../../configs/Ability-context\";\r\nimport MyOwnListing from '../../misc/components/MyOwnListing'\r\n// import LoaderModal from '../sections/LoaderModal'\r\n\r\n\r\nconst InventoryHistories = ({ allData }) => {\r\n\r\n    let { allInventoryHistories, allProducts, allUsers, allRoles } = allData, rows = [], data, index = 0,\r\n        vendorRoleId = allRoles && allRoles.filter(role => role.name === 'vendor').shift().id,\r\n        allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n    // btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\r\n\r\n    allInventoryHistories && allInventoryHistories.forEach((history) => {\r\n        index = index + 1;\r\n        let thisVendor, thisProduct\r\n        allProducts && allProducts.forEach(product => {\r\n            product.bkt_id === history.bkt_id && (thisProduct = product)\r\n        });\r\n        allVendors && allVendors.forEach(vendor => {\r\n            vendor.id === history.vendor_id && (thisVendor = vendor)\r\n        });\r\n\r\n        rows.push(\r\n            {\r\n                index: index,\r\n                name: thisProduct ? thisProduct.name : history.bkt_id,\r\n                bktId: history.bkt_id,\r\n                option: history.option,\r\n                qty: history.qty,\r\n                vendor: thisVendor.name\r\n                // buttons: <React.Fragment>\r\n                //     <Can I='update' a='product'>\r\n                //         <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                //             <MDBIcon icon=\"pencil-alt iconGreen\" />\r\n                //         </MDBBtn>\r\n                //     </Can>\r\n                //     <Can I='delete' a='product'>\r\n                //         <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(product.id)} className='m-1 py-1 px-2' size=\"sm\">\r\n                //             <MDBIcon icon=\"trash iconRed\" />\r\n                //         </MDBBtn>\r\n                //     </Can>\r\n                // </React.Fragment>\r\n            }\r\n        );\r\n    });\r\n    data = {\r\n        columns: [\r\n            { label: '#', field: 'index', }, { label: 'Name', field: 'name' }, { label: 'bucket-ID', field: 'bktId', },\r\n            { label: 'Update-Option', field: 'option', }, {\r\n                label: 'QTY.', field: 'qty', attributes: {\r\n                    \"fontWeight\": \"bold\"\r\n                }\r\n            }, { label: 'Vendor', field: 'vendor', },\r\n            // { label: 'Action', field: 'buttons' }\r\n        ],\r\n        rows: rows\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Can I='read' a='inventoryHistories'>\r\n            <MyOwnListing\r\n                cardHeading={`inventory Histories`}\r\n                permissionEntity='inventoryHistories'\r\n                redirectToNewEntityPath={null}\r\n                addButtonEntityLabel='inventory History'\r\n                tableId='allinventoryHistoriesTable'\r\n                data={data}\r\n            />\r\n            {/* <DeleteModal\r\n                    ref='deleteModal'\r\n                    deleteEntry={this.deleteProduct}\r\n                /> */}\r\n\r\n            {/* <LoaderModal\r\n            //    show={loaderModalShow}\r\n        // /> */}\r\n        </Can>\r\n    );\r\n\r\n}\r\n\r\nexport default InventoryHistories","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router'\r\nimport InventoryHistories from './pages/InventoryHistories';\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredInventoryHistory extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='inventoryHistories'> <InventoryHistories {...this.props} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredInventoryHistory","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\nimport MyOwnSelect from '../../misc/components/MyOwnSelect'\r\n\r\n\r\nclass UpdateInventories extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            selectedUpdateOption: '',\r\n            selectedVendor: '',\r\n            bktId: '',\r\n            qty: ''\r\n            // notificationMessage: '',\r\n            // notificationShow: false\r\n        };\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSelectChange = name => (selectedOption) => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        let { selectedUpdateOption, selectedVendor } = this.state\r\n        e.preventDefault();\r\n        let form = this.refs.updateInventoriesForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!selectedUpdateOption) {\r\n            this.setState({ selectedUpdateOption: null })\r\n            return\r\n        }\r\n        else if (!selectedVendor) {\r\n            this.setState({ selectedVendor: null })\r\n            return\r\n        }\r\n        else {\r\n            let { bktId, qty } = this.state\r\n            let updatedInventory = {\r\n                bktId: bktId, qty: qty, updateOption: selectedUpdateOption.value\r\n            }\r\n\r\n            let updateCallOptions = {\r\n                method: 'POST',\r\n                body: JSON.stringify(updatedInventory),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch('/manualUpdateInventories', updateCallOptions)\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                    // console.log(json)\r\n                    // this._isMounted && this.setState({ message: json.message, notificationShow: true })\r\n                    if (json.success) {\r\n                        this.setState({\r\n                            selectedUpdateOption: '',\r\n                            selectedVendor: '',\r\n                            bktId: '',\r\n                            qty: ''\r\n                        })\r\n                        let inventoryHistory = updatedInventory\r\n                        inventoryHistory.vendor = selectedVendor ? selectedVendor.value : selectedVendor\r\n                        let historyOptions = {\r\n                            method: 'POST',\r\n                            body: JSON.stringify(inventoryHistory),\r\n                            headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                        fetch('/addNewInventoryHistory', historyOptions)\r\n                            .then((res) => res.json())\r\n                            .then((json) => {\r\n                                // console.log(json)\r\n                            })\r\n                            .catch((error) => console.log(error))\r\n\r\n\r\n                        ////////////////////////////////////add sale or return to vendor ledgers\r\n\r\n\r\n                    }\r\n                    else {\r\n                        this.bktId.focus();\r\n                    }\r\n\r\n                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                })\r\n                .catch((error) => console.log(error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { selectedUpdateOption, selectedVendor, bktId, qty } = this.state, { allUsers, allRoles } = this.props.allData,\r\n            vendorRole = allRoles && allRoles.filter(role => role.name === 'vendor').shift(),\r\n            vendorRoleId = vendorRole && vendorRole.id,\r\n            allVendors = allUsers && allUsers.filter(user => user.role_id === vendorRoleId);\r\n        let inventoryUpdateOptions = [\r\n            {\r\n                key: Math.random(),\r\n                label: 'Create',\r\n                value: 'create',\r\n                color: '#112648'\r\n            },\r\n            {\r\n                key: Math.random(),\r\n                label: 'Return',\r\n                value: 'return',\r\n                color: '#687722'\r\n            },\r\n            {\r\n                key: Math.random(),\r\n                label: 'Delete',\r\n                value: 'delete',\r\n                color: '#112648'\r\n            },\r\n        ]\r\n\r\n\r\n        return (\r\n            <Can I='create' a='product' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'\r\n                    //  className=' offset-xl-2 offset-lg-3 offset-md-3'\r\n                    >\r\n                        <form ref='updateInventoriesForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">Update Your Inventory</h2>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        options={inventoryUpdateOptions}\r\n                                        // Entities={allBrands}\r\n                                        handleChange={this.handleSelectChange('selectedUpdateOption')}\r\n                                        placeHolder={'Select an update option..*'}\r\n                                        selectedValue={selectedUpdateOption}\r\n                                        iconClass={'fa fa-question-circle'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <MyOwnSelect\r\n                                        // options={categoryOptions}\r\n                                        Entities={allVendors}\r\n                                        handleChange={this.handleSelectChange('selectedVendor')}\r\n                                        placeHolder={'Select Vendor..*'}\r\n                                        selectedValue={selectedVendor}\r\n                                        iconClass={'fa fa-list-alt'}\r\n                                        required={true}\r\n                                        isMulti={false}\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"bktId\"\r\n                                        value={bktId}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.bktId = el}\r\n                                        required\r\n                                        placeholder={`Product's bucket-ID*`}\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                    {/* <p style={{ textAlign: 'left' }}> <small className='pl-4 m-0 text-muted'>*e.g. CA Shoes</small></p> */}\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-info-circle inputIcon\" />\r\n                                    <input\r\n                                        name=\"qty\"\r\n                                        value={qty}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"number\"\r\n                                        onKeyPress={this.onKeyPress}\r\n                                        ref={el => this.qty = el}\r\n                                        required\r\n                                        placeholder='Qty.*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className='text-center'>\r\n                                    <input type=\"submit\" className=\"next action-button\" value=\"Update..\" />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default UpdateInventories","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router'\r\nimport UpdateInventories from './pages/UpdateInventories';\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredUpdateInventories extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return (\r\n                <React.Fragment>\r\n                    <Can I='update' a='inventories'><UpdateInventories allData={this.props.allData} /></Can>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredUpdateInventories","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredAllInventories from './SecuredAllInventories';\r\nimport SecuredInventoryHistories from './SecuredInventoryHistories';\r\nimport SecuredUpdateInventories from './SecuredUpdateInventories';\r\n\r\n\r\n\r\nconst Inventories = ({ allData }) => {\r\n\r\n    return (\r\n\r\n        <Switch>\r\n            <Route path=\"/inventories/update\" render={() => <SecuredUpdateInventories allData={allData} />} />\r\n            <Route path=\"/inventories/all\" render={(routeProps) => <SecuredAllInventories {...routeProps} allData={allData} />} />\r\n            <Route path=\"/inventories/history\" render={() => < SecuredInventoryHistories allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Inventories","import React, { Component } from 'react';\r\nimport { MDBContainer, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBIcon, MDBRow, MDBCol } from\r\n    'mdbreact';\r\n\r\nclass QuestionModal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            modalShow: false,\r\n            option: ''\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow,\r\n        });\r\n    }\r\n\r\n    sendResponseBack = (boolean) => e => {\r\n        let { option } = this.state\r\n        if (boolean) {\r\n            this.props.positiveBtnClicked(option)\r\n            this.toggle()\r\n        }\r\n        else {\r\n            this.props.negativeBtnClicked(option)\r\n            this.toggle()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { positiveBtnTxt, negativeBtnTxt, message, heading } = this.props\r\n        return (\r\n            <MDBContainer>\r\n                <MDBModal modalStyle='info' style={{ borderRadius: '10px' }} className=\"text-white\" size=\"md\" centered backdrop={true} isOpen={this.state.modalShow}\r\n                    toggle={this.toggle}>\r\n                    <MDBModalHeader className=\"text-center questionModalHeader\" titleClass=\"w-100\" tag=\"p\" toggle={this.toggle}>\r\n                        <b style={{ letterSpacing: '0.2vw' }}>\r\n                            {heading}\r\n                        </b><br />\r\n                        {message}.\r\n                    </MDBModalHeader>\r\n                    <MDBModalBody className=\"text-center\">\r\n                        <MDBIcon icon=\"question\" size=\"6x\" className=\"animated rotateIn colorGreen\" />\r\n                    </MDBModalBody>\r\n                    <MDBModalFooter className=\"justify-content-center\">\r\n                        <MDBRow center className='w-100'>\r\n                            <MDBCol className='text-center' size='4'>\r\n                                <button type='button' className='questionModalBtn w-100 px-0' onClick={this.sendResponseBack(true)}>{positiveBtnTxt}</button>\r\n                            </MDBCol>\r\n                            <MDBCol className='text-center' size='4'>\r\n                                <button type='button' className='questionModalBtn w-100 px-0' onClick={this.sendResponseBack(false)}>{negativeBtnTxt}</button>\r\n                            </MDBCol>\r\n                        </MDBRow>\r\n                    </MDBModalFooter>\r\n                </MDBModal>\r\n            </MDBContainer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default QuestionModal;","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol, MDBBtn } from 'mdbreact';\r\nimport DatePicker from \"react-datepicker\";\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect';\r\nimport QuestionModal from '../../../misc/components/QuestionModal';\r\n\r\n\r\n\r\nconst sourceOptions = [\r\n    { value: 'Website', label: 'Website', key: 1, color: '#112648' },\r\n    { value: 'facebook', label: 'Facebook', key: 2, color: '#687722' },\r\n    { value: 'WhatsApp', label: 'WhatsApp', key: 3, color: '#112648' },\r\n    { value: 'Phone', label: 'Phone', key: 4, color: '#687722' },\r\n];\r\n\r\nconst statusOptions = [\r\n    { value: 'Waiting vendor confirmation', label: 'Waiting vendor confirmation', key: 1, color: '#112648' },\r\n    { value: 'Waiting customer confirmation', label: 'Waiting customer confirmation', key: 2, color: '#687722' },\r\n    { value: 'On-hold', label: 'On-hold', key: 3, color: '#112648' },\r\n    { value: 'Cancelled', label: 'Cancelled', key: 4, color: 'red' },\r\n    { value: 'Confirmed', label: 'Confirmed', key: 5, color: '#112648' },\r\n    { value: 'Requested', label: 'Requested', key: 6, color: '#687722' },\r\n    { value: 'Awaiting dispatch', label: 'Awaiting dispatch', key: 7, color: '#112648' },\r\n    { value: 'Awaiting pickup', label: 'Awaiting pickup', key: 8, color: '#687722' },\r\n    { value: 'Rider notified', label: 'Rider notified', key: 9, color: '#112648' },\r\n    { value: 'Packing in process', label: 'Packing in process', key: 10, color: '#687722' },\r\n    { value: 'RTS', label: 'RTS', key: 11, color: '#112648' },\r\n    { value: 'Shipped', label: 'Shipped', key: 12, color: '#687722' },\r\n    { value: 'Delivered', label: 'Delivered', key: 13, color: '#112648' },\r\n    { value: 'Refused', label: 'Refused', key: 14, color: 'red' },\r\n];\r\n\r\n\r\nclass OrderDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            orderId: '',\r\n            orderDate: '',\r\n            orderSource: '',\r\n            orderStatus: { value: 'Waiting vendor confirmation', label: 'Waiting vendor confirmation', key: 1, color: '#112648' },\r\n            courier: '',\r\n            orderTracking: '',\r\n            orderNote: '',\r\n            questionHeading: '',\r\n            questionMessage: '',\r\n            positiveBtnTxt: \"\",\r\n            negativeBtnTxt: '',\r\n        }\r\n    }\r\n\r\n    handleDateChange = (value) => {\r\n        this.setState({\r\n            orderDate: value\r\n        });\r\n    }\r\n\r\n    handleSelectChange = name => selectedOption => {\r\n        const { orderState } = this.props\r\n        var questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt\r\n        if (name === 'orderStatus' && orderState === 'edit') {\r\n            switch (selectedOption.label) {\r\n                case 'Waiting customer confirmation':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Goods Demanded By Customer are Available'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'On-hold':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Put the Order On-Hold'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Cancelled':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Cancelled the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Confirmed':\r\n                    questionHeading = 'Are You Confirm that?'\r\n                    questionMessage = 'Customer Confirmed the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Requested':\r\n                    questionHeading = 'Did You Call Vendor?'\r\n                    questionMessage = 'to process the Order'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Awaiting dispatch':\r\n                    questionHeading = 'Did You Receive Call from Vendor?'\r\n                    questionMessage = 'that Parcel is ready to dispatch'\r\n                    positiveBtnTxt = 'Yes'\r\n                    negativeBtnTxt = 'No'\r\n                    this.setQuestionModalProps(questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                    break;\r\n                case 'Awaiting pickup':\r\n                    break;\r\n                case 'Rider notified':\r\n                    break;\r\n                case 'Packing in process':\r\n                    break;\r\n                case 'RTS':\r\n                    break;\r\n                case 'Shipped':\r\n                    break;\r\n                case 'Delivered':\r\n                    break;\r\n                case 'Refused':\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                [name]: selectedOption\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChangingStatus = (selectedOption) => {\r\n        this.setState({\r\n            orderStatus: selectedOption\r\n        })\r\n    }\r\n\r\n    setQuestionModalProps = (questionHeading, questionMessage, positiveBtnTxt, negativeBtnTxt, selectedOption) => {\r\n        this.setState({\r\n            questionHeading: questionHeading,\r\n            questionMessage: questionMessage,\r\n            positiveBtnTxt: positiveBtnTxt,\r\n            negativeBtnTxt: negativeBtnTxt\r\n        })\r\n        this.refs.questionModal.setState({ modalShow: true, option: selectedOption })\r\n    }\r\n\r\n    questionModalPositiveBtnClicked = (selectedOption) => {\r\n        if (selectedOption) {\r\n            this.handleChangingStatus(selectedOption)\r\n        }\r\n        else {\r\n            this.setState({ courier: 'M&P', orderTracking: '' }, () => { this.exportCSV('M&P') })\r\n        }\r\n    }\r\n\r\n    questionModalNegativeBtnClicked = (selectedOption) => {\r\n        if (selectedOption) {\r\n        }\r\n        else {\r\n            this.setState({ courier: 'TCS', orderTracking: '' }, () => { this.exportCSV('TCS') })\r\n        }\r\n    }\r\n\r\n    chooseCourier = () => {\r\n        let { orderStatus, courier } = this.state\r\n        if (orderStatus.label === 'Awaiting dispatch') {\r\n            if (courier) {\r\n                if (window.confirm(`Do you want to export CSV file for this order again ?\\nIf you choose 'OK' Tracking # for this order will be cleared.`)) {\r\n                    let positiveBtnTxt = <img className='w-100 h-100' alt={`M&P`} src={'/images/m&p.png'} />\r\n                    let negativeBtnTxt = <img className='w-100 h-100' alt='TCS' src={'/images/tcs.png'} />\r\n                    let selectedOption = ''\r\n                    this.setQuestionModalProps('Which Company?', 'Do You Want to Use to Ship Parcel', positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n                }\r\n            }\r\n            else {\r\n                let positiveBtnTxt = <img className='w-100 h-100' alt={`M&P`} src={'/images/m&p.png'} />\r\n                let negativeBtnTxt = <img className='w-100 h-100' alt='TCS' src={'/images/tcs.png'} />\r\n                let selectedOption = ''\r\n                this.setQuestionModalProps('Which Company?', 'Do You Want to Use to Ship Parcel', positiveBtnTxt, negativeBtnTxt, selectedOption)\r\n            }\r\n        }\r\n    }\r\n\r\n    exportCSV = (courier) => {\r\n        let { orderBeingEdited, orderDetailsBeingEdited } = this.props\r\n        let order = orderBeingEdited, orderToBeExported = []\r\n        let orderDetails = orderDetailsBeingEdited\r\n        console.log(order);\r\n        console.log(orderDetails);\r\n        if (courier === 'TCS') {\r\n            orderToBeExported.push(\r\n                {\r\n\r\n                }\r\n            )\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    checkValidity = () => {\r\n        let form = this.orderDetailsForm, { orderSource, orderStatus } = this.state\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return false\r\n        }\r\n        else if (!orderSource) {\r\n            this.setState({\r\n                orderSource: null\r\n            })\r\n            return false;\r\n        }\r\n        else if (!orderStatus) {\r\n            this.setState({\r\n                orderStatus: null\r\n            })\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    makeFormEmpty = () => {\r\n        this.setState({\r\n            orderId: '',\r\n            orderDate: '',\r\n            orderSource: '',\r\n            orderStatus: { value: 'Pending confirmation', label: 'Pending confirmation', key: 1, color: '#112648' },\r\n            orderTracking: '',\r\n            orderNote: '',\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        let { orderId, orderSource, orderStatus, orderDate, courier, orderTracking, orderNote, questionMessage, positiveBtnTxt, negativeBtnTxt, questionHeading } = this.state\r\n        const { orderState } = this.props\r\n\r\n        return (\r\n            <MDBRow className='m-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    <form className='m-0 p-0 orderDetailsForm' ref={el => (this.orderDetailsForm = el)} noValidate>\r\n                        <fieldset className='borderBlue py-0 px-3 w-100'>\r\n                            <legend className='legend-border'> Order:</legend>\r\n                            <MDBRow className='m-0 p-0'>\r\n                                <MDBCol className='m-0'>\r\n                                    <MDBRow center className='m-0 p-0'>\r\n                                        <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0' middle >\r\n                                            <MDBInput\r\n                                                name='orderId'\r\n                                                onInput={this.handleInput}\r\n                                                className='m-0'\r\n                                                value={orderId}\r\n                                                label='Id'\r\n                                                outline\r\n                                                required\r\n                                                disabled={orderState === 'edit' && true}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol xl='2' lg='2' md='3' sm='6' className='my-2' middle >\r\n                                            <DatePicker\r\n                                                id='datePicker'\r\n                                                selected={orderDate}\r\n                                                placeholderText='Date'\r\n                                                onChange={this.handleDateChange}\r\n                                                className='form-control'\r\n                                                peekNextMonth\r\n                                                showMonthDropdown\r\n                                                showYearDropdown\r\n                                                dropdownMode=\"select\"\r\n                                                dateFormat=\"dd/MM/yy\"\r\n                                                autoComplete='off'\r\n                                                required\r\n                                            />\r\n                                        </MDBCol>\r\n                                        <MDBCol xl='4' lg='4' md='3' sm='6' className='my-2' middle>\r\n                                            <MyOwnSelect\r\n                                                options={sourceOptions}\r\n                                                handleChange={this.handleSelectChange('orderSource')}\r\n                                                placeHolder={'Source..*'}\r\n                                                selectedValue={orderSource}\r\n                                                required={true}\r\n                                                withOutIcon={true}\r\n                                                isMulti={false}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        {orderState === 'edit' ?\r\n                                            <>\r\n                                                <MDBCol xl='4' lg='4' md='4' sm='6' className='my-2' middle>\r\n                                                    <MyOwnSelect\r\n                                                        options={statusOptions}\r\n                                                        handleChange={this.handleSelectChange('orderStatus')}\r\n                                                        placeHolder={'Status..*'}\r\n                                                        selectedValue={orderStatus}\r\n                                                        required={true}\r\n                                                        withOutIcon={true}\r\n                                                        isMulti={false}\r\n                                                    />\r\n                                                </MDBCol>\r\n                                                <MDBCol md='4' className='m-0' sm='6' middle>\r\n                                                    <MDBInput\r\n                                                        label=\"Tracking Id\"\r\n                                                        name=\"orderTracking\"\r\n                                                        onInput={this.handleInput}\r\n                                                        hint={courier}\r\n                                                        value={orderTracking}\r\n                                                        outline\r\n                                                        className='m-0'\r\n                                                    />\r\n                                                </MDBCol>\r\n                                            </>\r\n                                            : null}\r\n                                        <MDBCol\r\n                                            md={orderState === 'edit' ? orderStatus.label === 'Awaiting dispatch' ? '6' : '8' : '4'}\r\n                                            sm={orderState === 'edit' ? orderStatus.label === 'Awaiting dispatch' ? '3' : '6' : '6'} className='m-0' middle>\r\n                                            <MDBInput\r\n                                                type='textarea'\r\n                                                rows='1'\r\n                                                label=\"Note\"\r\n                                                name=\"orderNote\"\r\n                                                onInput={this.handleInput}\r\n                                                value={orderNote}\r\n                                                outline\r\n                                                className='m-0'\r\n                                                style={{ borderRadius: '4px' }}\r\n                                            />\r\n                                        </MDBCol>\r\n                                        {orderState === 'edit' && orderStatus.label === 'Awaiting dispatch' ?\r\n                                            <MDBCol md='2' sm='3' className='m-0' middle>\r\n                                                <button\r\n                                                    style={{ fontSize: '17px', borderRadius: '4px' }}\r\n                                                    type='button'\r\n                                                    onClick={this.chooseCourier}\r\n                                                    className='btn py-1 px-2 w-100 mx-0 mt-0 mb-1 font-weight-bold text-white backGround-blue borderBlue fontRaleway'>\r\n                                                    Export CSV\r\n                                                </button>\r\n                                            </MDBCol>\r\n                                            : null}\r\n                                        <QuestionModal\r\n                                            ref='questionModal'\r\n                                            heading={questionHeading}\r\n                                            message={questionMessage}\r\n                                            positiveBtnClicked={this.questionModalPositiveBtnClicked}\r\n                                            negativeBtnClicked={this.questionModalNegativeBtnClicked}\r\n                                            positiveBtnTxt={positiveBtnTxt}\r\n                                            negativeBtnTxt={negativeBtnTxt}\r\n                                        />\r\n                                    </MDBRow>\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n                        </fieldset>\r\n                    </form>\r\n                </MDBCol>\r\n            </MDBRow >\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderDetails","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol } from 'mdbreact';\r\n\r\n\r\n\r\nclass OrderCustomerDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            cName: '',\r\n            cContact: '',\r\n            cAddress: '',\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    checkValidity = () => {\r\n        let form = this.orderCustomerDetailsForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated')\r\n            return false\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    makeFormEmpty = () => {\r\n        this.setState({\r\n            cName: '',\r\n            cContact: '',\r\n            cAddress: '',\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { cName, cContact, cAddress, } = this.state\r\n\r\n        return (\r\n            <MDBRow className='my-3 mx-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    <form className='m-0 p-0 orderCustomerDetailsForm' ref={el => (this.orderCustomerDetailsForm = el)} noValidate>\r\n                        <fieldset className='borderBlue py-0 px-3 w-100'>\r\n                            <legend className='legend-border'>Customer:</legend>\r\n                            <MDBRow className='m-0 p-0'>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cName}\r\n                                        className='my-0'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Name\"\r\n                                        name=\"cName\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cContact}\r\n                                        className='my-0'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Contact\"\r\n                                        name=\"cContact\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                                <MDBCol sm='4' className='m-0'>\r\n                                    <MDBInput\r\n                                        value={cAddress}\r\n                                        className='my-0'\r\n                                        type='textarea'\r\n                                        rows='1'\r\n                                        style={{ marginRight: '4px' }}\r\n                                        label=\"Address\"\r\n                                        name=\"cAddress\"\r\n                                        onInput={this.handleInput}\r\n                                        required\r\n                                        validate\r\n                                        outline />\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n                        </fieldset>\r\n                    </form>\r\n                </MDBCol>\r\n            </MDBRow>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderCustomerDetails","import React, { Component } from 'react';\r\nimport { MDBInput, MDBRow, MDBCol } from 'mdbreact';\r\nimport MyOwnSelect from '../../../misc/components/MyOwnSelect'\r\n\r\n\r\n\r\nclass OrderProductDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.orderId = '';\r\n        this.state = {\r\n            selectedProduct: '',\r\n            pQTY: 1,\r\n            pRemarks: '',\r\n            pDiscount: 0,\r\n            displayForm: props.orderState === 'edit' ? false : true,\r\n        }\r\n    }\r\n\r\n    handleSelectChange = name => selectedOption => {\r\n        this.setState({\r\n            [name]: selectedOption\r\n        })\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        if ((e.which) === 101 || (e.which) === 45 || (e.which === 43)) e.preventDefault();\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleAddProduct = (e) => {\r\n        e.preventDefault();\r\n        let form = this.orderProductDetailsForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else if (!this.state.selectedProduct) {\r\n            this.setState({ selectedProduct: null })\r\n            return\r\n        }\r\n        else {\r\n            // document.getElementById('pTableCard').style.display = '';\r\n            let { selectedProduct, pQTY, pRemarks, pDiscount } = this.state\r\n            let pId = selectedProduct.value, pSKU = selectedProduct.sku, pRate = selectedProduct.retailPrice, pCost = selectedProduct.costPrice,\r\n                pPrice = parseFloat(this.pPrice.value).toFixed(2), pChecked = (this.checkbox.checked) ? true : false\r\n            // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\r\n            this.props.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\r\n            this.setState({\r\n                selectedProduct: '',\r\n                pQTY: 1,\r\n                pRemarks: '',\r\n                pDiscount: 0\r\n            })\r\n            form.classList.remove('was-validated')\r\n            this.checkbox.checked = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { selectedProduct, pQTY, pRemarks, pDiscount, displayForm } = this.state, { allProducts } = this.props.allData,\r\n            productOptions = allProducts && allProducts.map(product => ({\r\n                key: product.id,\r\n                label: product.name,\r\n                value: product.id,\r\n                retailPrice: product.retail_price,\r\n                costPrice: product.cost_price,\r\n                sku: product.sku,\r\n                color: product.id % 2 === 0 ?\r\n                    '#112648' : '#687722'\r\n            }));\r\n\r\n\r\n        return (\r\n            <MDBRow className='m-0 p-0'>\r\n                <MDBCol className='m-0 p-0'>\r\n                    {displayForm ?\r\n                        <form className='m-0 p-0 orderProductDetailsForm' ref={el => (this.orderProductDetailsForm = el)} onSubmit={this.handleAddProduct} noValidate>\r\n                            <fieldset className='borderBlue pt-0 pb-2 px-3 w-100'>\r\n                                <legend className='legend-border'>Product:</legend>\r\n                                <MDBRow className='m-0 p-0'>\r\n                                    <MDBCol xl='3' lg='3' md='3' sm='6' className='my-2' middle>\r\n                                        <MyOwnSelect\r\n                                            options={productOptions}\r\n                                            handleChange={this.handleSelectChange('selectedProduct')}\r\n                                            placeHolder={'Product..*'}\r\n                                            selectedValue={selectedProduct}\r\n                                            required={true}\r\n                                            withOutIcon={true}\r\n                                            isMulti={false}\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pQTY}\r\n                                            // type='number'\r\n                                            label=\"Qty\"\r\n                                            name=\"pQTY\"\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            onInput={this.handleInput}\r\n                                            required\r\n                                            pattern='^[1-9]\\d*|(^[0-9]\\d*[.]?)+[1-9]+'\r\n                                            outline\r\n                                            className='my-0'\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pDiscount}\r\n                                            type='number'\r\n                                            label=\"Discount(%)\"\r\n                                            name='pDiscount'\r\n                                            onKeyPress={this.onKeyPress}\r\n                                            onInput={this.handleInput}\r\n                                            inputRef={e => { this.pDiscount = e }}\r\n                                            outline\r\n                                            className='my-0'\r\n                                            max={selectedProduct ? (((selectedProduct.retailPrice - selectedProduct.costPrice) / (selectedProduct.retailPrice)) * 100) - 1 : 0}\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={selectedProduct ? ((selectedProduct.retailPrice * pQTY) - (((selectedProduct.retailPrice * pQTY) * pDiscount) / 100)).toFixed(2) : 0}\r\n                                            type='number'\r\n                                            label=\"Price\"\r\n                                            inputRef={e => { this.pPrice = e }}\r\n                                            disabled\r\n                                            outline\r\n                                            className='my-0'\r\n                                        />\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='3' lg='3' md='3' sm='6' className='m-0'>\r\n                                        <MDBInput\r\n                                            value={pRemarks}\r\n                                            type='textarea'\r\n                                            rows='1'\r\n                                            label=\"Remarks\"\r\n                                            name=\"pRemarks\"\r\n                                            onInput={this.handleInput}\r\n                                            outline\r\n                                            className='my-0'\r\n                                            style={{ borderRadius: '4px' }}\r\n                                        />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow className='m-0 p-0' end>\r\n                                    <MDBCol xl='3' lg='3' md='4' sm='5' className='m-0 p-0 text-center' middle>\r\n                                        <div className=\"form-check\">\r\n                                            <input className=\"align-middle\" type=\"checkbox\" ref={e => { this.checkbox = e }} />\r\n                                            <label className=\"ml-2 colorBlue\" >\r\n                                                Is extra added?\r\n                                    </label>\r\n                                        </div>\r\n                                    </MDBCol>\r\n                                    <MDBCol xl='3' lg='4' md='5' sm='6' className='m-0 text-center' middle>\r\n                                        <div className='text-center m-0'>\r\n                                            <input type=\"submit\" style={{ width: '80%' }} className=\" action-button\" value=\"Sale Product\" />\r\n                                        </div>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                            </fieldset>\r\n                        </form>\r\n                        :\r\n                        null\r\n                    }\r\n                </MDBCol>\r\n            </MDBRow>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderProductDetails","import React, { Component, PureComponent } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact'\n\n\nclass PTableRow extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            pRate: props.pRate,\n            pQTY: props.pQTY,\n            pDiscount: props.pDiscount,\n            pPrice: props.pPrice,\n            pChecked: props.pChecked\n        };\n    }\n\n    mouseEntered = () => {\n        this.inputEditQty.style.backgroundColor = '#f2f2f2'\n        this.inputEditDiscount.style.backgroundColor = '#f2f2f2'\n    }\n\n    mouseLeft = () => {\n        this.inputEditQty.style.backgroundColor = 'white'\n        this.inputEditDiscount.style.backgroundColor = 'white'\n    }\n\n    deleteRowfn(e) {\n        let el = e.target,\n            row = el.closest('tr'),\n            rowToBeDeleted = row.rowIndex,\n            pPrice = row.cells[6].innerHTML,\n            pChecked = this.state.pChecked\n        this.props.deleteProductFrmTbl(pPrice, rowToBeDeleted, pChecked);\n    }\n\n    handleInputQty = e => {\n        let { pPrice, pChecked, pDiscount, pRate } = this.state,\n            { pCost } = this.props,\n            updatedQty = e.target.value,\n            updatedPrice;\n        this.setState({ pQTY: updatedQty })\n        // console.log(updatedQty > 0);\n        updatedPrice = updatedQty > 0 ?\n            parseFloat((pRate * updatedQty) - (((pRate * updatedQty) * pDiscount) / 100)).toFixed(2)\n            : 0\n        // console.log(updatedPrice);\n        // console.log(this.props.pCost);\n        if (updatedPrice > (updatedQty * pCost).toFixed(2)) {\n            this.props.minusFromTotal(pPrice);\n            pChecked && this.props.minusFromTotalValueAdded(pPrice);\n            this.setState({\n                pPrice: updatedPrice,\n            }, function () {\n                this.props.addToTotal(updatedPrice);\n                pChecked && this.props.addToTotalValueAdded(updatedPrice);\n            })\n        }\n    }\n\n    handleInputDiscount = e => {\n        let { pPrice, pChecked, pRate, pQTY } = this.state,\n            { pCost } = this.props,\n            updatedDiscount = e.target.value,\n            updatedPrice = pQTY ? parseFloat((pRate * pQTY) - (((pRate * pQTY) * updatedDiscount) / 100)).toFixed(2) : 0\n        // console.log(pQTY);\n        // console.log(pCost);\n        // console.log(pCost * pQTY);\n        // console.log(updatedPrice);\n\n        if (updatedPrice > (pQTY * pCost).toFixed(2)) {\n            this.props.minusFromTotal(pPrice);\n            pChecked && this.props.minusFromTotalValueAdded(pPrice);\n            this.setState({\n                pDiscount: updatedDiscount,\n                pPrice: updatedPrice,\n            }, function () {\n                this.props.addToTotal(updatedPrice);\n                pChecked && this.props.addToTotalValueAdded(updatedPrice);\n            })\n        }\n    }\n\n    handleBlurQty = e => {\n        if (e.target.value == 0 || e.target.value == '') {\n            let { pPrice, pChecked, pDiscount, pRate } = this.state,\n                { pCost } = this.props,\n                updatedQty = 1,\n                updatedPrice;\n            this.setState({ pQTY: updatedQty })\n            updatedPrice = updatedQty > 0 ?\n                parseFloat((pRate * updatedQty) - (((pRate * updatedQty) * pDiscount) / 100)).toFixed(2)\n                : 0\n            if (updatedPrice > (updatedQty * pCost)) {\n                this.props.minusFromTotal(pPrice);\n                pChecked && this.props.minusFromTotalValueAdded(pPrice);\n                this.setState({\n                    pPrice: updatedPrice,\n                }, function () {\n                    this.props.addToTotal(updatedPrice);\n                    pChecked && this.props.addToTotalValueAdded(updatedPrice);\n                })\n            }\n        }\n    }\n\n    onKeyPress = (e) => {\n\n        // if (isNaN(String.fromCharCode(e.which))) e.preventDefault();\n        // if ((e.which) === 32 || (e.which) === 13) e.preventDefault();\n        let array = [46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]\n        if (array.includes(e.which)) {\n        }\n        else {\n            e.preventDefault()\n        }\n    }\n\n    handleChangeExtraAdded = () => {\n        this.setState({\n            pChecked: !this.state.pChecked\n        }, function () {\n            this.state.pChecked ?\n                this.props.addToTotalValueAdded(this.state.pPrice) :\n                this.props.minusFromTotalValueAdded(this.state.pPrice)\n        })\n    }\n\n    render() {\n        let { index, pId, pSKU, pRemarks, pRate, pCost, allData } = this.props,\n            { pQTY, pPrice, pDiscount, pChecked } = this.state,\n            product = allData.allProducts && allData.allProducts.filter(product => product.id === Number(pId)).shift(),\n            pName = product ? product.name : 'Not Found'\n\n\n        return (\n\n            <tr onMouseEnter={this.mouseEntered} onMouseLeave={this.mouseLeft}>\n                <th scope='row' className='font-weight-bold colorBlue'>{index}</th>\n                <td >{pName}</td>\n                <td >{pSKU}</td>\n                <td >{pRate}</td>\n                <td>\n                    <input type='text' className='m-0 text-center w-75 colorBlue p-0'\n                        onKeyPress={this.onKeyPress} onInput={this.handleInputQty} ref={el => this.inputEditQty = el}\n                        value={pQTY} onChange={() => { }} onBlur={this.handleBlurQty}\n                        style={{ border: 'none', outline: 'none' }} />\n                </td>\n                <td>\n                    <input type='text' className='m-0 text-center w-75 colorBlue p-0'\n                        onKeyPress={this.onKeyPress} onInput={this.handleInputDiscount} ref={el => this.inputEditDiscount = el}\n                        value={pDiscount} onChange={() => { }}\n                        style={{ border: 'none', outline: 'none' }} />\n                </td>\n                <td >{pPrice}</td>\n                <td suppressContentEditableWarning={true} contentEditable='true'>{pRemarks}</td>\n                <td >\n                    <input type='checkbox' onChange={this.handleChangeExtraAdded} checked={pChecked} style={{ verticalAlign: 'middle' }} className='fontRaleway' />\n                </td>\n\n                {/* \"id\" needed when pTable row called from edit modal */}\n\n                <td style={{ display: 'none' }}>{pCost}</td>\n                <td style={{ display: 'none' }}>{pId}</td>\n                <td >\n                    <MDBBtn\n                        style={{ fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }}\n                        color='white'\n                        onClick={this.deleteRowfn.bind(this)}\n                        className='mx-0 my-1 py-1 px-2'\n                        size=\"sm\"\n                    >\n                        <MDBIcon icon=\"trash iconRed\" />\n                    </MDBBtn>\n\n                </td>\n            </tr >\n        );\n    }\n}\n\n\nexport default PTableRow","import React, { Component } from 'react';\nimport PTableRow from '../../../misc/components/PTableRow';\nimport { Animation, MDBCol, MDBRow } from 'mdbreact';\n\n\n\nclass ProductsTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            Rows: [],\n            submitOrderBtn: false,\n            displayTable: false\n        }\n    }\n\n    addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n        let row = [], { Rows } = this.state, index = Rows.length + 1,\n            { allData, minusFromTotal, addToTotal, minusFromTotalValueAdded, addToTotalValueAdded } = this.props\n        row.push(\n            <PTableRow\n                index={index}\n                pId={pId}\n                pSKU={pSKU}\n                pRate={pRate}\n                pQTY={pQTY}\n                pDiscount={pDiscount}\n                pPrice={pPrice}\n                pRemarks={pRemarks}\n                pChecked={pChecked}\n                pCost={pCost}\n                key={Math.random()}\n                deleteProductFrmTbl={this.deleteProductFrmTbl}\n                minusFromTotal={minusFromTotal}\n                addToTotal={addToTotal}\n                minusFromTotalValueAdded={minusFromTotalValueAdded}\n                addToTotalValueAdded={addToTotalValueAdded}\n                allData={allData}\n            />\n        );\n\n        Rows.length === 0 ?\n            this.setState({\n                displayTable: true,\n                submitOrderBtn: true,\n                Rows: [...Rows, row]\n            })\n            :\n            this.setState({\n                Rows: [...Rows, row]\n            })\n    }\n\n    deleteProductFrmTbl = (pPrice, rowToBeDeleted, pChecked) => {\n        let updatedRows = this.state.Rows\n        rowToBeDeleted !== -1 && updatedRows.splice(rowToBeDeleted - 1, 1)\n        this.props.minusFromTotal(pPrice);\n        pChecked && this.props.minusFromTotalValueAdded(pPrice);\n        updatedRows.length === 0 ?\n            this.setState({ Rows: updatedRows, submitOrderBtn: false, displayTable: false })\n            :\n            this.setState({ Rows: updatedRows })\n    }\n\n    submitOrder = () => {\n        // this.refs.loaderModal.setState({ modalShow: true })\n        let allFormsValid = this.props.checkOrderValidity(),\n            // let allFormsValid = false,\n            orderDetails = [], tableValid = true\n        if (allFormsValid) {\n            let pTable = document.getElementById('orderProductsTable');\n            for (let index = pTable.rows.length - 1; index > 0; index--) {\n                const pId = pTable.rows[index].cells[10].innerHTML;\n                const pSKU = pTable.rows[index].cells[2].innerHTML;\n                const pRate = pTable.rows[index].cells[3].innerHTML;\n                const pQTY = pTable.rows[index].cells[4].childNodes[0].value;\n                const pDiscount = pTable.rows[index].cells[5].childNodes[0].value;\n                const pPrice = pTable.rows[index].cells[6].innerHTML;\n                const pRemarks = pTable.rows[index].cells[7].innerHTML;\n                const pChecked = pTable.rows[index].cells[8].childNodes[0].checked;\n                const pCost = pTable.rows[index].cells[9].innerHTML;\n                // console.log(pName, pSKU, pRate, pQTY,pDiscount, pPrice, pRemarks, pChecked)\n                if (pQTY == 0 || pQTY == '') {\n                    this.refs.validatingLabel.innerHTML = `You can't set any product's quantity to 0.`\n                    tableValid = false\n                    break;\n                }\n                const orderDetail = {\n                    product_id: pId, product_sku: pSKU, product_cost: pCost, product_rate: pRate, product_qty: pQTY, product_discount: pDiscount, product_price: pPrice,\n                    product_remarks: pRemarks, product_extra_added: pChecked\n                }\n                orderDetails.push(orderDetail)\n            }\n            // console.log(tableValid && orderDetails);\n            tableValid && this.props.saveOrderDetailsToDB(orderDetails);\n        }\n        else {\n            alert('Please enter all required data.')\n        }\n    }\n\n    makeTableEmpty = () => {\n        // this.refs.loaderModal.setState({ modalShow: false })\n        this.setState({\n            Rows: [],\n            submitOrderBtn: false,\n            displayTable: false,\n        })\n    }\n\n    render() {\n        let { submitOrderBtn, displayTable } = this.state, { orderState } = this.props\n\n\n        return (\n            <MDBRow className='my-3 mx-0 p-0'>\n                <MDBCol className='m-0 p-0'>\n                    {\n                        displayTable ?\n                            <Animation type=\"fadeInDown\" duration=\"1500ms\" delay=\"0ms\">\n                                <fieldset className='borderBlue px-3 pb-0 pt-2 w-100'>\n                                    <legend className='legend-border'>Products to be sale:</legend>\n                                    <MDBRow className='m-0 p-0 table-responsive'>\n                                        <table id='orderProductsTable' className='table table-sm table-hover table-bordered mb-0'>\n                                            {submitOrderBtn ?\n                                                <caption className='mx-0 my-2 p-0 text-left'>\n                                                    <button type='button' onClick={this.submitOrder}\n                                                        style={{ fontSize: \"17px\", borderRadius: '4px' }}\n                                                        className='fontRaleway btn py-1 px-2 mx-0 my-2 w-100 font-weight-bold text-white borderBlue backGround-blue'\n                                                    >\n                                                        {orderState === 'new' ? 'SUBMIT' : 'UPDATE'}\n                                                    </button>\n                                                    <label ref='validatingLabel' className='p-0 validatingLabel'></label>\n                                                </caption>\n                                                : null}\n                                            <thead className='text-white' >\n                                                <tr >\n                                                    <th scope='col' style={{ borderTopLeftRadius: '10px' }}>#</th>\n                                                    <th scope='col'>Product</th>\n                                                    <th scope='col'>SKU</th>\n                                                    <th scope='col'>Rate</th>\n                                                    <th scope='col'>QTY</th>\n                                                    <th scope='col'>Discount (%)</th>\n                                                    <th scope='col'>Price</th>\n                                                    <th scope='col'>Remarks</th>\n                                                    <th scope='col'>Extra Added?</th>\n                                                    <th scope='col' style={{ borderTopRightRadius: '10px' }}>Action</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody className='p-0 m-0'>\n                                                {this.state.Rows}\n                                            </tbody>\n                                        </table>\n                                    </MDBRow>\n                                </fieldset>\n                            </Animation>\n                            : null\n                    }\n                </MDBCol>\n            </MDBRow>\n        );\n    }\n\n}\n\nexport default ProductsTable","import React from 'react';\nimport OrderDetails from './sections/OrderDetails';\nimport OrderCustomerDetails from './sections/OrderCustomerDetails';\nimport OrderProductDetails from './sections/OrderProductDetails';\nimport OrderProductsTable from './sections/OrderProductsTable';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader } from 'mdbreact';\nimport { Can } from '../../../configs/Ability-context'\n\n\nclass NewOrder extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      orderTotal: 0,\n      totalValueAdded: 0,\n      orderType: 'sale',\n      orderState: 'new'\n    };\n  }\n  addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n    // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n    this.refs.orderProductsTable.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\n    this.addToTotal(pPrice);\n    pChecked && this.addToTotalValueAdded(pPrice);\n  }\n\n  //handling total prices\n  minusFromTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) - Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal\n    })\n  }\n\n  addToTotal = (pPrice) => {\n    // console.log((pPrice));\n    // console.log((this.state.orderTotal));\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) + Number(pPrice)).toFixed(2)\n    // let updatedTotal = Number(this.state.orderTotal) + Number(pPrice)\n    // console.log(updatedTotal);\n    this.setState({\n      orderTotal: updatedTotal\n    })\n  }\n\n  minusFromTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) - Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded\n    })\n  }\n\n  addToTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) + Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded\n    })\n  }\n\n  checkOrderValidity = () => {\n    let orderDetailsValidity = this.refs.orderDetails.checkValidity();\n    let orderCustomerDetailsValidity = this.refs.orderDetails.checkValidity();\n    if (!orderDetailsValidity || !orderCustomerDetailsValidity) {\n      return false;\n    }\n    else {\n      return true;\n    }\n  }\n\n  saveOrderDetailsToDB = (orderDetails) => {\n    let { orderDate, orderId, orderSource, orderStatus } = this.refs.orderDetails.state\n    orderDetails.map(detail => {\n      detail.order_date = orderDate\n      detail.order_id = orderId\n      detail.order_source = orderSource.value\n      detail.order_status = orderStatus.value\n      detail.detail_type = this.state.orderType === 'sale' && 'Sale'\n    })\n    // console.log(orderDetails);\n    let orderDetailsOptions = {\n      method: 'POST',\n      body: JSON.stringify({ orderDetails: orderDetails }),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/addNewOrderDetails', orderDetailsOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        let success = true;\n        json.data.forEach(data => { if (!data.success) success = false; return })\n        success && this.saveOrderToDB()\n      })\n      .catch((error) => console.log(error))\n  }\n\n  saveOrderToDB = () => {\n    let { orderId, orderDate, orderSource, orderNote, orderStatus } = this.refs.orderDetails.state,\n      { orderTotal, totalValueAdded, orderType } = this.state,\n      { cName, cContact, cAddress } = this.refs.orderCustomerDetails.state,\n      newOrder = {\n        orderId: orderId, date: orderDate, source: orderSource.value, status: orderStatus.value,\n        orderType: orderType, note: orderNote, total: orderTotal, totalAddedValue: totalValueAdded,\n        cName: cName, cContact: cContact, cAddress: cAddress\n      }\n    // console.log(\n    //   JSON.stringify(newOrder)\n    // );\n    var newOrderOptions = {\n      method: 'POST',\n      body: JSON.stringify(newOrder),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/addNewOrder', newOrderOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        if (json.success) {\n          this.refs.orderProductsTable.makeTableEmpty();\n          this.refs.orderDetails.makeFormEmpty();\n          this.refs.orderCustomerDetails.makeFormEmpty();\n          this.setState({\n            orderTotal: 0,\n            totalValueAdded: 0,\n          })\n          // window.location.reload()\n        }\n        else\n          alert(json.message)\n      })\n      .catch((error) => console.log(error))\n  }\n\n\n\n  render() {\n    let { orderTotal, totalValueAdded, orderState, orderType } = this.state, { allData } = this.props\n\n    return (\n      <Can I='create' a='order'>\n        <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n          <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n            style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n            {orderType === 'sale' ? 'Order' : orderType === 'refund' ? 'Refund' : 'Replacement'} Details\n          </MDBCardHeader>\n          <MDBCardBody className='px-5 py-4 m-0'>\n            <OrderDetails\n              ref='orderDetails'\n              orderState={orderState}\n              orderType={orderType}\n            />\n            <OrderCustomerDetails\n              ref='orderCustomerDetails'\n            />\n\n            <OrderProductDetails\n              ref='orderProductDetails'\n              addProductToTbl={this.addProductToTbl}\n              deleteRowsFromtbl={this.deleteRowsFromtbl}\n              allData={allData}\n              orderState={orderState}\n              orderType={orderType}\n            />\n            <MDBRow end className='mb-0 mt-3 p-0' >\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={orderTotal}\n                  label=\"Total\"\n                  hint=\"Total\"\n                  disabled\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={totalValueAdded}\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                  label=\"Total value added\"\n                  hint=\"Total value added\"\n                  disabled\n                />\n              </MDBCol>\n            </MDBRow>\n            <OrderProductsTable\n              ref='orderProductsTable'\n              saveOrderDetailsToDB={this.saveOrderDetailsToDB}\n              saveOrderToDB={this.saveOrderToDB}\n              checkOrderValidity={this.checkOrderValidity}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              orderState={orderState}\n              orderType={orderType}\n              allData={allData}\n            />\n          </MDBCardBody>\n        </MDBCard >\n      </Can>\n    );\n  }\n}\n\nexport default NewOrder;","import React, { Component } from 'react';\r\nimport NewOrder from './pages/NewOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='order'><NewOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewOrder","import React from 'react';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader } from 'mdbreact';\nimport { Can } from '../../../configs/Ability-context'\n\n\n\nconst ViewOrder = ({ allData }) => {\n\n  let params = new URLSearchParams(window.location.search), orderId = Number(params.get('order')), tableRows = [],\n    desiredOrder = allData && allData.allOrders.filter(order => order.id === orderId).shift(),\n    desiredOrderDetails = allData && allData.allOrderDetails.filter(detail => detail.order_id === desiredOrder.order_id)\n  // console.log(desiredOrder);\n  // console.log(desiredOrderDetails);\n  desiredOrderDetails && desiredOrderDetails.forEach(detail => {\n    tableRows.push(\n      <tr key={tableRows.length}>\n        <th scope='row' className='font-weight-bold colorBlue'>{tableRows.length+1}</th>\n        <td >{detail.product_name}</td>\n        <td >{detail.product_sku}</td>\n        <td >{detail.product_rate}</td>\n        <td >{detail.product_qty}</td>\n        <td >{detail.product_discount} </td>\n        <td >{detail.product_price}</td>\n        <td >{detail.product_remarks}</td>\n        <td >\n          <input type='checkbox' disabled checked={detail.product_extra_added} style={{ verticalAlign: 'middle' }} className='fontRaleway' />\n        </td>\n      </tr >\n    )\n  })\n\n\n  return (\n    <Can I='read' a='order'>\n      <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n        <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n          style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n          Your Order\n        </MDBCardHeader>\n        <MDBCardBody className='px-5 py-4 m-0'>\n          <fieldset className='borderBlue py-0 px-3 mb-3 w-100'>\n            <legend className='legend-border'> Order:</legend>\n            <MDBRow className='m-0 p-0'>\n              <MDBCol className='m-0'>\n                <MDBRow center className='m-0 p-0'>\n                  <MDBCol xl='2' lg='2' md='2' sm='6' className='m-0' middle >\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.order_id}\n                      label='Id'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='2' lg='2' md='3' sm='6' className='my-2' middle >\n                    <MDBInput\n                      className='m-0'\n                      value={new Date(desiredOrder.date).toLocaleDateString()}\n                      label='Date'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='4' lg='4' md='3' sm='6' className='my-2' middle>\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.source}\n                      label='Source'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol xl='4' lg='4' md='4' sm='6' className='my-2' middle>\n                    <MDBInput\n                      className='m-0'\n                      value={desiredOrder.status}\n                      label='Status'\n                      outline\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol md='4' className='m-0' sm='6' middle>\n                    <MDBInput\n                      label=\"Tracking Id\"\n                      value={desiredOrder.tracking_id || ' '}\n                      outline\n                      className='m-0'\n                      disabled\n                    />\n                  </MDBCol>\n                  <MDBCol md={'8' || '4'} sm='6' className='m-0' middle>\n                    <MDBInput\n                      type='textarea'\n                      rows='1'\n                      label=\"Note\"\n                      value={desiredOrder.note}\n                      outline\n                      className='m-0'\n                      style={{ borderRadius: '4px' }}\n                    />\n                  </MDBCol>\n                </MDBRow>\n              </MDBCol>\n            </MDBRow>\n          </fieldset>\n          <fieldset className='borderBlue mb-3 py-0 px-3 w-100'>\n            <legend className='legend-border'>Customer:</legend>\n            <MDBRow className='m-0 p-0'>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_name}\n                  className='my-0'\n                  style={{ marginRight: '4px' }}\n                  label=\"Name\"\n                  disabled\n                  outline />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_contact}\n                  className='my-0'\n                  style={{ marginRight: '4px' }}\n                  label=\"Contact\"\n                  disabled\n                  outline />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={desiredOrder.customer_address}\n                  className='my-0'\n                  type='textarea'\n                  rows='1'\n                  style={{ marginRight: '4px' }}\n                  label=\"Address\"\n                  disabled\n                  outline />\n              </MDBCol>\n            </MDBRow>\n          </fieldset>\n          <MDBRow end className='mb-0 mt-3 p-0' >\n            <MDBCol sm='4' className='m-0'>\n              <MDBInput\n                value={desiredOrder.total}\n                label=\"Total\"\n                disabled\n                className='m-0'\n                style={{ fontWeight: 'bold' }}\n              />\n            </MDBCol>\n            <MDBCol sm='4' className='m-0'>\n              <MDBInput\n                value={desiredOrder.total_value_added}\n                className='m-0'\n                style={{ fontWeight: 'bold' }}\n                label=\"Total value added\"\n                disabled\n              />\n            </MDBCol>\n          </MDBRow>\n          <fieldset className='borderBlue px-3 pb-0 pt-2 w-100'>\n            <legend className='legend-border'>Products:</legend>\n            <MDBRow className='m-0 p-0 table-responsive'>\n              <table id='' className='table table-sm table-hover table-bordered mb-3'>\n                <thead className='text-white' >\n                  <tr >\n                    <th scope='col' style={{ borderTopLeftRadius: '10px' }}>#</th>\n                    <th scope='col'>Product</th>\n                    <th scope='col'>SKU</th>\n                    <th scope='col'>Rate</th>\n                    <th scope='col'>QTY</th>\n                    <th scope='col'>Discount (%)</th>\n                    <th scope='col'>Price</th>\n                    <th scope='col'>Remarks</th>\n                    <th scope='col' style={{ borderTopRightRadius: '10px' }}>Extra Added ?</th>\n                  </tr>\n                </thead>\n                <tbody className='p-0 m-0'>\n                  {tableRows}\n                </tbody>\n              </table>\n            </MDBRow>\n          </fieldset>\n        </MDBCardBody>\n      </MDBCard >\n    </Can>\n  );\n}\n\nexport default ViewOrder;","import React, { Component } from 'react';\r\nimport ViewOrder from './pages/ViewOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredViewOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='order'><ViewOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredViewOrder","import React from 'react';\nimport OrderDetails from './sections/OrderDetails';\nimport OrderCustomerDetails from './sections/OrderCustomerDetails';\nimport OrderProductDetails from './sections/OrderProductDetails';\nimport OrderProductsTable from './sections/OrderProductsTable';\nimport { MDBRow, MDBCol, MDBInput, MDBCard, MDBCardBody, MDBCardHeader, MDBIcon } from 'mdbreact';\nimport PTableRow from '../../misc/components/PTableRow';\nimport { Can } from '../../../configs/Ability-context'\n\n\n\n\nclass EditOrder extends React.Component {\n  constructor(props) {\n    super();\n    let params = new URLSearchParams(window.location.search),\n      orderId = Number(params.get('order')),\n      { allData } = props,\n      desiredOrder = allData && allData.allOrders && allData.allOrders.filter(order => order.id === orderId).shift(),\n      desiredOrderDetails = desiredOrder && allData && allData.allOrderDetails && allData.allOrderDetails.filter(detail => detail.order_id === desiredOrder.order_id)\n    this.state = {\n      orderBeingEdited: desiredOrder,\n      orderDetailsBeingEdited: desiredOrderDetails,\n      orderTotal: desiredOrder && desiredOrder.total || 0,\n      totalValueAdded: desiredOrder && desiredOrder.total_value_added || 0,\n      orderType: 'sale',\n      orderState: 'edit',\n      desiredOrder: desiredOrder,\n      desiredOrderDetails: desiredOrderDetails,\n      displayAddFormButton: true,\n      tableUpdated: false,\n    };\n  }\n\n  //setting existing data \n  componentDidMount = () => {\n    let { desiredOrder, desiredOrderDetails } = this.state, tableRows = []\n    if (desiredOrder) {\n      this.refs.orderDetails.setState({\n        orderId: desiredOrder.order_id,\n        orderDate: new Date(desiredOrder.date),\n        orderSource: { value: desiredOrder.source, label: desiredOrder.source, key: 1, color: '#112648' },\n        orderStatus: { value: desiredOrder.status, label: desiredOrder.status, key: 1, color: '#112648' },\n        courier: desiredOrder.courier || '',\n        orderTracking: desiredOrder.tracking_id || '',\n        orderNote: desiredOrder.note,\n      })\n      this.refs.orderCustomerDetails.setState({\n        cName: desiredOrder.customer_name,\n        cContact: desiredOrder.customer_contact,\n        cAddress: desiredOrder.customer_address,\n      })\n      if (desiredOrderDetails) {\n        desiredOrderDetails.forEach(detail => {\n          tableRows.push(\n            <PTableRow\n              index={tableRows.length}\n              pId={detail.product_id}\n              pSKU={detail.product_sku}\n              pCost={detail.product_cost}\n              pRate={detail.product_rate}\n              pQTY={detail.product_qty}\n              pDiscount={detail.product_discount}\n              pPrice={detail.product_price}\n              pRemarks={detail.product_remarks}\n              pChecked={detail.product_extra_added}\n              key={Math.random()}\n              deleteProductFrmTbl={this.refs.orderProductsTable.deleteProductFrmTbl}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              allData={this.props.allData}\n            />\n          )\n        })\n        this.refs.orderProductsTable.setState({\n          Rows: tableRows,\n          submitOrderBtn: true,\n          displayTable: true,\n        })\n      }\n    }\n  }\n\n  addProductToTbl = (pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost) => {\n    // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n    this.refs.orderProductsTable.addProductToTbl(pId, pSKU, pRate, pQTY, pDiscount, pPrice, pRemarks, pChecked, pCost);\n    this.addToTotal(pPrice);\n    pChecked && this.addToTotalValueAdded(pPrice);\n  }\n\n  //handling total prices\n  minusFromTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) - Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal,\n      tableUpdated: true\n    })\n  }\n\n  addToTotal = (pPrice) => {\n    let updatedTotal = parseFloat(Number(this.state.orderTotal) + Number(pPrice)).toFixed(2)\n    this.setState({\n      orderTotal: updatedTotal,\n      tableUpdated: true\n    })\n  }\n\n  minusFromTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) - Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded,\n      tableUpdated: true\n    })\n  }\n\n  addToTotalValueAdded = (pPrice) => {\n    let updatedTotalValueAdded = parseFloat(Number(this.state.totalValueAdded) + Number(pPrice)).toFixed(2)\n    this.setState({\n      totalValueAdded: updatedTotalValueAdded,\n      tableUpdated: true\n    })\n  }\n\n  //checking order forms validity\n  checkOrderValidity = () => {\n    let orderDetailsValidity = this.refs.orderDetails.checkValidity();\n    let orderCustomerDetailsValidity = this.refs.orderDetails.checkValidity();\n    if (!orderDetailsValidity || !orderCustomerDetailsValidity) {\n      return false;\n    }\n    else {\n      return true;\n    }\n  }\n\n  //updating order-products to DB\n  saveOrderDetailsToDB = (orderDetails) => {\n    let { orderDate, orderId, orderSource, orderStatus } = this.refs.orderDetails.state,\n      { tableUpdated } = this.state\n\n    //deleting existing order-products of updated-order\n    if (tableUpdated) {\n      let deleteOrderDetailsOptions = {\n        method: 'DELETE',\n        body: JSON.stringify({ orderId: orderId }),\n        headers: { 'Content-Type': 'application/json' }\n      }\n      fetch('/deleteOrderDetails', deleteOrderDetailsOptions)\n        .then((res) => res.json())\n        .then((json) => {\n          console.log(json)\n\n          //creating again order-products of updated order\n          if (json.success) {\n            orderDetails.map(detail => {\n              detail.order_date = orderDate\n              detail.order_id = orderId\n              detail.order_source = orderSource.value\n              detail.order_status = orderStatus.value\n              detail.detail_type = this.state.orderType === 'sale' && 'Sale'\n            })\n            // console.log(orderDetails);\n            let orderDetailsOptions = {\n              method: 'POST',\n              body: JSON.stringify({ orderDetails: orderDetails }),\n              headers: { 'Content-Type': 'application/json' }\n            }\n            fetch('/addNewOrderDetails', orderDetailsOptions)\n              .then((res) => res.json())\n              .then((json) => {\n                console.log(json)\n                let success = true;\n                json.data.forEach(data => { if (!data.success) success = false; return })\n                success && this.saveOrderToDB()\n              })\n              .catch((error) => console.log(error))\n          }\n        })\n        .catch((error) => console.log(error))\n    }\n    else {\n      let updates = {\n        orderId: orderId, orderDate: orderDate,\n        orderSource: orderSource.value,\n        orderStatus: orderStatus.value,\n      },\n        updateOrderDetailsOptions = {\n          method: 'PUT',\n          body: JSON.stringify(updates),\n          headers: { 'Content-Type': 'application/json' }\n        }\n      fetch('/updateOrderDetails', updateOrderDetailsOptions)\n        .then((res) => res.json())\n        .then((json) => {\n          console.log(json)\n          json.success && this.saveOrderToDB()\n        })\n        .catch((error) => console.log(error))\n    }\n  }\n\n  //updating order to DB\n  saveOrderToDB = () => {\n    let { orderDate, orderSource, orderNote, orderStatus, orderTracking, courier } = this.refs.orderDetails.state,\n      { orderTotal, totalValueAdded, desiredOrder } = this.state,\n      { cName, cContact, cAddress } = this.refs.orderCustomerDetails.state,\n      updatedOrder = {\n        id: desiredOrder.id, date: orderDate, source: orderSource.value, status: orderStatus.value, courier: courier,\n        trackingId: orderTracking, note: orderNote, total: orderTotal, totalAddedValue: totalValueAdded,\n        cName: cName, cContact: cContact, cAddress: cAddress\n      }\n    // console.log(\n    //   JSON.stringify(newOrder)\n    // );\n    let updatedOrderOptions = {\n      method: 'PUT',\n      body: JSON.stringify(updatedOrder),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/updateOrder', updatedOrderOptions)\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json)\n        if (json.success) {\n          window.location.reload()\n        }\n        else\n          alert(json.message)\n      })\n      .catch((error) => console.log(error))\n  }\n\n\n\n  render() {\n    let { orderTotal, totalValueAdded, orderState, displayAddFormButton, desiredOrder, desiredOrderDetails } = this.state, { allData } = this.props\n\n    return (\n      <Can I='create' a='order'>\n        <MDBCard style={{ marginTop: '50px', borderRadius: '15px', marginBottom: '20px' }} className='w-100'>\n          <MDBCardHeader tag=\"h4\" className=\"text-center text-white font-weight-bold backGround-green\"\n            style={{ borderTopRightRadius: '15px', borderTopLeftRadius: '15px' }}>\n            Order Details\n          </MDBCardHeader>\n          <MDBCardBody className='px-5 py-4 m-0'>\n\n            <OrderDetails\n              ref='orderDetails'\n              orderState={orderState}\n              orderBeingEdited={desiredOrder}\n              orderDetailsBeingEdited={desiredOrderDetails}\n            />\n\n            <OrderCustomerDetails\n              ref='orderCustomerDetails'\n            />\n\n            <OrderProductDetails\n              ref='orderProductDetails'\n              addProductToTbl={this.addProductToTbl}\n              deleteRowsFromtbl={this.deleteRowsFromtbl}\n              allData={allData}\n              orderState={orderState}\n            />\n\n            <MDBRow end className='mb-0 mt-3 p-0' >\n              {displayAddFormButton ?\n                <MDBCol sm='4' middle className='m-0'>\n                  <button style={{ fontSize: '17px', borderRadius: '4px', color: 'white' }}\n                    onClick={() => {\n                      this.refs.orderProductDetails.setState({ displayForm: true },\n                        this.setState({ displayAddFormButton: false }))\n                    }}\n                    className='btn py-1 px-2 font-weight-bold backGround-blue fontRaleway borderBlue'>\n                    {/* <MDBIcon icon=\"plus colorBlue mr-1\" /> */}\n                    Add New Product\n                  </button>\n                </MDBCol>\n                : null}\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={orderTotal}\n                  label=\"Total\"\n                  hint=\"Total\"\n                  disabled\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                />\n              </MDBCol>\n              <MDBCol sm='4' className='m-0'>\n                <MDBInput\n                  value={totalValueAdded}\n                  className='m-0'\n                  style={{ fontWeight: 'bold' }}\n                  label=\"Total value added\"\n                  hint=\"Total value added\"\n                  disabled\n                />\n              </MDBCol>\n            </MDBRow>\n\n            <OrderProductsTable\n              ref='orderProductsTable'\n              saveOrderDetailsToDB={this.saveOrderDetailsToDB}\n              saveOrderToDB={this.saveOrderToDB}\n              checkOrderValidity={this.checkOrderValidity}\n              minusFromTotal={this.minusFromTotal}\n              addToTotal={this.addToTotal}\n              minusFromTotalValueAdded={this.minusFromTotalValueAdded}\n              addToTotalValueAdded={this.addToTotalValueAdded}\n              orderState={orderState}\n              allData={allData}\n            />\n          </MDBCardBody>\n        </MDBCard >\n      </Can >\n    );\n  }\n}\n\nexport default EditOrder;","import React, { Component } from 'react';\r\nimport EditOrder from './pages/EditOrder';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditOrder extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='order'><EditOrder allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditOrder","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../misc//components/DeleteModal';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllOrders extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            orderToBeDeleted: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/orders/edit\", search: `order=${id}` })\n    }\n\n    handleView = (id) => (e) => {\n        this.props.history.push({ pathname: \"/orders/view\", search: `order=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/orders/new')\n    }\n\n    handleDelete = (id) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            orderToBeDeleted: id\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteOrder = () => {\n        let { rowToBeDeleted, orderToBeDeleted } = this.state\n        let deleteOrder = { value: orderToBeDeleted }\n\n        let deleteOrderOptions = {\n            method: 'DELETE',\n            body: JSON.stringify(deleteOrder),\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch('/deleteOrder', deleteOrderOptions)\n            .then((res) => res.json())\n            .then((json) => {\n                // console.log(json)\n                json.success && document.getElementById('allOrdersTable').deleteRow(rowToBeDeleted)\n            })\n            .catch((error) => console.log(error))\n    }\n\n\n    render() {\n        let { allOrders } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n;\n\n        allOrders && allOrders.forEach((order) => {\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    orderId: order.order_id,\n                    date: new Date(order.date).toLocaleDateString(),\n                    source: order.source,\n                    status: order.status,\n                    tracking: order.tracking_id,\n                    total: order.total,\n                    totalValueAdded: order.total_value_added,\n                    cName: order.customer_name,\n                    cContact: order.customer_contact,\n                    cAddress: order.customer_address,\n                    buttons: <React.Fragment>\n                        <Can I='read' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleView(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"eye iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='update' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='order'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(order.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Id', field: 'orderId' }, { label: 'Date', field: 'date' }, { label: 'Source', field: 'source', },\n                { label: 'Status', field: 'status', }, { label: 'Tracking Id', field: 'tracking', }, { label: 'Total', field: 'total', },\n                { label: 'TVA', field: 'totalValueAdded', }, { label: 'Customer', field: 'cName', }, { label: 'Contact', field: 'cContact', },\n                { label: 'Address', field: 'cAddress', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='order'>\n                <MyOwnListing\n                    cardHeading={`Orders`}\n                    permissionEntity='order'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Order'\n                    tableId='allOrdersTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteOrder}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllOrders","import React, { Component } from 'react';\r\nimport AllOrders from './pages/AllOrders';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllOrders extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='order'><AllOrders  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllOrders","import React from 'react';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nconst AllOrderDetails = ({ allData }) => {\n\n    let { allOrderDetails, allProducts } = allData, rows = [], data, index = 0\n    allOrderDetails && allOrderDetails.forEach((detail) => {\n        index = index + 1;\n        let product = allProducts && allProducts.filter(product => product.id === Number(detail.product_id)).shift(),\n            pName = product ? product.name : 'Not Found'\n        rows.push(\n            {\n                index: index,\n                orderId: detail.order_id,\n                date: new Date(detail.order_date).toLocaleDateString(),\n                source: detail.order_source,\n                status: detail.order_status,\n                pName: pName,\n                pSku: detail.product_sku,\n                pCost: detail.product_cost,\n                pRate: detail.product_rate,\n                pQty: detail.product_qty,\n                pDiscount: detail.product_discount,\n                pPrice: detail.product_price,\n            }\n        );\n    });\n    data = {\n        columns: [\n            { label: '#', field: 'index', }, { label: 'Order-Id', field: 'orderId' }, { label: 'Date', field: 'date' }, { label: 'Source', field: 'source', },\n            { label: 'Status', field: 'status', }, { label: 'Product', field: 'pName', }, { label: 'SKU', field: 'pSku', }, { label: 'Cost', field: 'pCost', },\n            { label: 'Rate', field: 'pRate', },\n            { label: 'QTY', field: 'pQty', }, { label: 'Discount (%)', field: 'pDiscount', }, { label: 'Price', field: 'pPrice', },\n        ],\n        rows: rows\n    }\n\n    return (\n        <Can I='read' a='orderDetail'>\n            <MyOwnListing\n                cardHeading={`Order-Details`}\n                permissionEntity='orderDetail'\n                tableId='allOrderDetailsTable'\n                data={data}\n            />\n            {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n        </Can>\n    );\n\n}\n\nexport default AllOrderDetails","import React, { Component } from 'react';\r\nimport AllOrderDetails from './pages/AllOrderDetails';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllOrderDetails extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='orderDetail'><AllOrderDetails  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllOrderDetails","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewOrder from './SecuredNewOrder';\r\nimport SecuredViewOrder from './SecuredViewOrder';\r\nimport SecuredEditOrder from './SecuredEditOrder';\r\nimport SecuredAllOrders from './SecuredAllOrders';\r\nimport SecuredAllOrderDetails from './SecuredAllOrderDetails';\r\n\r\n\r\n\r\nconst Orders = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/orders/new\" render={() => <SecuredNewOrder allData={allData} />} />\r\n            <Route path=\"/orders/view\" render={() => <SecuredViewOrder allData={allData} />} />\r\n            <Route path=\"/orders/edit\" render={() => <SecuredEditOrder allData={allData} />} />\r\n            <Route path=\"/orders/all\" render={(routeProps) => <SecuredAllOrders {...routeProps} allData={allData} />} />\r\n            <Route path=\"/orders/order_details\" render={() => <SecuredAllOrderDetails allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Orders","import React, { Component } from \"react\";\r\nimport { MDBBtn, MDBCard, MDBCardBody, MDBInput, MDBIcon, } from 'mdbreact';\r\n\r\n\r\n\r\nconst serviceOptions = [\r\n    { value: 'seo', label: 'SEO', key: 1, color: '#112648' },\r\n    { value: 'web development', label: 'Web Development', key: 1, color: '#687722' },\r\n    { value: 'graphics designing', label: 'Graphics Designing', key: 1, color: '#112648' },\r\n    { value: 'mobile apps', label: 'Mobile App', key: 1, color: '#687722' }\r\n];\r\n\r\n\r\nclass Invoice extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editingInvoiceId = props.id\r\n        let { allRoles, allUsers, allCompanies } = props.allData,\r\n            clientRole = allRoles && allRoles.filter(role => role.name === 'client').shift(),\r\n            clientRoleId = clientRole && clientRole.id,\r\n            allClients = allUsers && allUsers.filter(user => user.role_id === clientRoleId)\r\n        this.state = {\r\n            date: new Date().toDateString(),\r\n            invoice_id: Math.floor((Math.random() * 200000) + 1),\r\n            address: '',\r\n            phone: '',\r\n            total: 0,\r\n            selectedClient: '',\r\n            clients: allClients,\r\n            selectedCompany: '',\r\n            companies: allCompanies,\r\n            items: [],\r\n            service: '',\r\n            detail: '',\r\n            rate: '',\r\n            qty: '',\r\n            message: '',\r\n            printInvoice: false\r\n        }\r\n    }\r\n\r\n    makeStateEmpty = () => {\r\n        this.setState({\r\n            invoice_id: Math.floor((Math.random() * 200000) + 1),\r\n            selectedClient: '',\r\n            selectedCompany: '',\r\n            address: '',\r\n            phone: '',\r\n            items: [],\r\n            service: '',\r\n            detail: '',\r\n            rate: '',\r\n            qty: '',\r\n        })\r\n    }\r\n\r\n    printInvoice = () => {\r\n        this.setState({ message: '' })\r\n        const printArea = document.getElementById('capture').innerHTML;\r\n        const wholeContent = document.body.innerHTML;\r\n        document.body.innerHTML = printArea;\r\n        window.print();\r\n        document.body.innerHTML = wholeContent;\r\n        window.location.reload()\r\n        setTimeout(() => {\r\n            this.makeStateEmpty()\r\n        }, 1500)\r\n    }\r\n\r\n    submitInvoice = () => {\r\n        let { items, printInvoice } = this.state, total = this.total_amount.state.innerValue\r\n        let form = this.selectClientForm;\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n        } else if (items.length === 0) {\r\n            this.setState({ message: 'No Invoice Data !' })\r\n            return\r\n        }\r\n        else if (isNaN(total)) {\r\n            this.setState({ message: 'Please enter a valid price!' })\r\n            return\r\n        }\r\n        else {\r\n            let { invoice_id, selectedClient, selectedCompany, address, phone, date } = this.state\r\n\r\n            const obj = {\r\n                slagme: invoice_id,\r\n                companyId: selectedCompany,\r\n                cId: selectedClient,\r\n                address: address,\r\n                number: phone,\r\n                date: date,\r\n                total_amount: total,\r\n            };\r\n            if (!this.editingInvoiceId) {\r\n                let newInvoiceOptions = {\r\n                    method: 'POST',\r\n                    body: JSON.stringify(obj),\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }\r\n                fetch('/addNewInvoice', newInvoiceOptions)\r\n                    .then(res => res.json())\r\n                    .then(json => {\r\n                        console.log(json);\r\n                        this.setState({ message: json.message });\r\n                        if (json.success) {\r\n                            newInvoiceOptions.body = JSON.stringify(items)\r\n                            fetch('/addNewInvoiceDetails', newInvoiceOptions)\r\n                                .then(res => res.json())\r\n                                .then(json => {\r\n                                    console.log(json)\r\n                                    this.setState({ message: json.message });\r\n                                    if (json.success) {\r\n                                        this.selectClientForm.classList.remove('was-validated')\r\n                                        printInvoice ? this.printInvoice() : this.makeStateEmpty()\r\n                                    }\r\n                                })\r\n                                .catch(error => console.log(error))\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err)\r\n                    });\r\n            }\r\n            else {\r\n                let deleteInvoiceDetailsOptions = {\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }\r\n                fetch(`/deleteInvoiceDetails/${invoice_id}`, deleteInvoiceDetailsOptions)\r\n                    .then(res => res.json())\r\n                    .then((json) => {\r\n                        console.log(json);\r\n                        this.setState({ message: json.message });\r\n                        if (json.success) {\r\n                            let updateInvoiceOptions = deleteInvoiceDetailsOptions\r\n                            updateInvoiceOptions.method = 'PUT'\r\n                            updateInvoiceOptions.body = JSON.stringify(obj)\r\n                            fetch(`/updateInvoice/${this.editingInvoiceId}`, updateInvoiceOptions)\r\n                                .then(res => res.json())\r\n                                .then((json) => {\r\n                                    console.log(json);\r\n                                    this.setState({ message: json.message });\r\n                                    if (json.success) {\r\n                                        let updateInvoiceDetailsOptions = updateInvoiceOptions\r\n                                        updateInvoiceDetailsOptions.method = 'POST'\r\n                                        updateInvoiceDetailsOptions.body = JSON.stringify(items)\r\n                                        fetch('/addNewInvoiceDetails', updateInvoiceDetailsOptions)\r\n                                            .then(res => res.json())\r\n                                            .then(json => {\r\n                                                console.log(json);\r\n                                                this.setState({ message: json.message });\r\n                                                if (json.success) {\r\n                                                    this.selectClientForm.classList.remove('was-validated')\r\n                                                    printInvoice ? this.printInvoice() : this.makeStateEmpty()\r\n                                                }\r\n                                            })\r\n                                    }\r\n                                })\r\n                                .catch(err => console.log(err))\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (this.editingInvoiceId) {\r\n            let { allInvoices, allInvoiceDetails } = this.props.allData,\r\n                invoiceToBeEdited = allInvoices && allInvoices.filter(invoice => invoice.id === this.editingInvoiceId).shift(),\r\n                editingInvoiceDetails = invoiceToBeEdited && allInvoiceDetails && allInvoiceDetails.filter(\r\n                    detail => detail.invoice_id === Number(invoiceToBeEdited.slagme)\r\n                ), items = [];\r\n            editingInvoiceDetails && editingInvoiceDetails.forEach(detail => {\r\n                items.push({\r\n                    invoice_id: detail.invoice_id,\r\n                    service: detail.service,\r\n                    detail: detail.detail,\r\n                    rate: detail.rate,\r\n                    qty: detail.qty,\r\n                    price: detail.price\r\n                })\r\n            })\r\n            invoiceToBeEdited && this.setState({\r\n                date: new Date(invoiceToBeEdited.date).toDateString(),\r\n                invoice_id: invoiceToBeEdited.slagme,\r\n                selectedClient: invoiceToBeEdited.c_id,\r\n                selectedCompany: invoiceToBeEdited.company_id,\r\n                address: invoiceToBeEdited.c_address,\r\n                phone: invoiceToBeEdited.c_number,\r\n                items: items\r\n            })\r\n        }\r\n    }\r\n\r\n    calculateTotal = () => {\r\n        let total = 0;\r\n        this.state.items.length !== 0 && this.state.items.forEach(item => {\r\n            total += Number(item.price)\r\n        })\r\n        return total\r\n    };\r\n\r\n    onChangeSelect = name => (e) => {\r\n        if (name === 'client') {\r\n            let ourClient = this.state.clients.filter(client => client.id == e.target.value).shift()\r\n            ourClient ?\r\n                this.setState({\r\n                    selectedClient: ourClient.id,\r\n                    address: ourClient.address,\r\n                    phone: ourClient.cell\r\n                })\r\n                :\r\n                this.setState({\r\n                    selectedClient: '',\r\n                    address: '',\r\n                    phone: ''\r\n                })\r\n        }\r\n        else {\r\n            this.setState({ selectedCompany: Number(e.target.value) })\r\n        }\r\n    }\r\n\r\n    onInput = name => e => {\r\n        this.setState({\r\n            [name]: e.target.value,\r\n            message: ''\r\n        })\r\n    }\r\n\r\n    addItem = (e) => {\r\n        e.preventDefault()\r\n        if (this.addItemForm.checkValidity() === false) {\r\n            this.addItemForm.classList.add('was-validated')\r\n            return\r\n        } else {\r\n            let { invoice_id, detail, qty, rate, service } = this.state\r\n            let newitem = {\r\n                invoice_id: invoice_id,\r\n                service: service,\r\n                detail: detail,\r\n                rate: rate,\r\n                qty: qty,\r\n                price: this.price.state.innerValue\r\n            };\r\n            this.setState({\r\n                items: [...this.state.items, newitem],\r\n                detail: '',\r\n                service: '',\r\n                rate: '',\r\n                qty: '',\r\n                price: '',\r\n            }, function () {\r\n                this.addItemForm.classList.remove('was-validated')\r\n            });\r\n        }\r\n    }\r\n\r\n    tdOnBlur = (Index, name) => (e) => {\r\n        let el = e.target\r\n        this.setState(state => {\r\n            const items = state.items.map((item, index) => {\r\n                if (index === Index) {\r\n                    item[name] = el.innerHTML\r\n                    name !== 'detail' && (item.price = name === 'rate' ? Number(el.innerHTML * item.qty) : Number(item.rate * el.innerHTML))\r\n                    return item;\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n            return {\r\n                items,\r\n            };\r\n        });\r\n    }\r\n\r\n    deleteItemData = Index => (e) => {\r\n        this.setState(prevState => ({\r\n            items: prevState.items.filter((itemData, index) => {\r\n                return index !== Index\r\n            })\r\n        }))\r\n    }\r\n\r\n    onKeyPress = (e) => {\r\n        let array = [46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]\r\n        if (array.includes(e.which)) {\r\n        }\r\n        else {\r\n            e.preventDefault()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { date, invoice_id, selectedClient, selectedCompany, phone, address, service, detail, rate, qty, clients, companies, message, printInvoice } = this.state,\r\n            companyDetailStyle = { fontSize: '0.8rem' },\r\n            clientOptions = clients && clients.map((client) => <option key={client.id} value={client.id}>{client.name}</option>),\r\n            companyOptions = companies && companies.map((company) => <option key={company.id} value={company.id}>{company.name}</option>),\r\n            companyDetails = companies && companies.filter(company => company.id === Number(selectedCompany)).shift(),\r\n            tableRows = [];\r\n\r\n\r\n        this.state.items.map((item, index) => {\r\n            tableRows.push(\r\n                <tr key={index} className='text-center'>\r\n                    <td>\r\n                        {item.service}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'detail')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                    >\r\n                        {item.detail}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'rate')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                        onKeyPress={this.onKeyPress}\r\n                    >\r\n                        {item.rate}\r\n                    </td>\r\n                    <td\r\n                        onBlur={this.tdOnBlur(index, 'qty')}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={true}\r\n                        onKeyPress={this.onKeyPress}\r\n                    >\r\n                        {item.qty}\r\n                    </td>\r\n                    <td>\r\n                        {item.rate * item.qty}\r\n                    </td>\r\n                    <td className='printHide'>\r\n                        <MDBBtn size=\"sm\" color=\"danger\" onClick={this.deleteItemData(index)}>\r\n                            <i className=\"fas fa-trash\" />\r\n                        </MDBBtn>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row m-4\">\r\n                    <div className=\"col-sm-12\" id=\"capture\">\r\n                        <MDBCard>\r\n                            <MDBCardBody>\r\n                                <h2 className=\"text-center invoiceHeader\"\r\n                                    style={{ backgroundColor: \"#9ACD32\", color: \"white\" }}>INVOICE</h2>\r\n                                <div className=\"row m-0 p-0\">\r\n                                    <div className=\"col-sm-3 align-self-center mb-0 mt-4 p-0\">\r\n                                        <MDBInput label=\"Date\" className='m-0' disabled value={date} />\r\n                                        <MDBInput label=\"Id\" className='m-0' disabled value={invoice_id} />\r\n                                    </div>\r\n                                    <div className=\"col-sm-6 align-self-center m-0 p-0\">\r\n                                        <img src={companyDetails && `/getImage/${companyDetails.logo}`} alt={companyDetails && companyDetails.name} width=\"100%\" height=\"auto\" /><br />\r\n                                    </div>\r\n                                    <div className=\"col-md-3 mb-0 mt-4 p-0 align-self-center\">\r\n                                        <div className='row mb-2'>\r\n                                            <div className='col-2 text-center  m-0 p-0'>\r\n                                                <i className='fa fa-mobile-alt' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.cell}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='row mb-2'>\r\n                                            <div className='col-2 text-center  m-0 py-0 pr-0 pl-0'>\r\n                                                <i className='fa fa-envelope' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.email}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='row'>\r\n                                            <div className='col-2 text-center  m-0 p-0'>\r\n                                                <i className='fa fa-map-marker-alt' />\r\n                                            </div>\r\n                                            <div className='col-10 m-0 p-0 text-left'\r\n                                                style={companyDetailStyle}>\r\n                                                {companyDetails && companyDetails.address}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <form ref={el => this.selectClientForm = el} noValidate>\r\n                                    <div className=\"row justify-content-start\">\r\n                                        <div className=\"col-sm-4 mb-0\">\r\n                                            <br />\r\n                                            <select\r\n                                                value={selectedClient}\r\n                                                className=\"browser-default custom-select mt-1 p-2\"\r\n                                                onChange={this.onChangeSelect('client')}\r\n                                                required\r\n                                            >\r\n                                                <option key={Math.random()} value='' disabled>Select Client...</option>\r\n                                                {clientOptions}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"col-sm-4 mb-0\">\r\n                                            <MDBInput\r\n                                                label=\"Phone\"\r\n                                                value={phone}\r\n                                                className='my-0 px-2'\r\n                                                disabled\r\n                                                required />\r\n                                        </div>\r\n                                        <div className=\"col-sm-4 m-0 printHide\">\r\n                                            <br />\r\n                                            <select\r\n                                                value={selectedCompany}\r\n                                                className=\"browser-default custom-select mt-1 p-2\"\r\n                                                onChange={this.onChangeSelect('company')}\r\n                                                required\r\n                                            >\r\n                                                <option key={Math.random()} value='' disabled>Select Company...</option>\r\n                                                {companyOptions}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"col-sm-12 clientAddress \">\r\n                                            <MDBInput\r\n                                                label=\"Address\"\r\n                                                value={address}\r\n                                                disabled\r\n                                                required\r\n                                                validate\r\n                                                className='my-0 px-2'\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                <div className='text-center'><label className='validatingLabel'>{message}</label></div>\r\n\r\n                                <div className=\"container-fluid m-0 p-0\"\r\n                                    style={{ borderStyle: \"groove\", borderRadius: \"10px\" }}>\r\n                                    <form onSubmit={this.addItem} className='p-0 printHide' ref={ref => this.addItemForm = ref}\r\n                                        noValidate>\r\n                                        <div className=\"row px-2 m-0\">\r\n                                            <div className=\"col-md-3 m-0\">\r\n                                                <br />\r\n                                                <select\r\n                                                    className=\"form-control mt-1\"\r\n                                                    onChange={this.onInput('service')}\r\n                                                    required\r\n                                                    value={service}\r\n                                                >\r\n                                                    <option value='' disabled>Select Services...</option>\r\n                                                    <option value=\"seo\">SEO</option>\r\n                                                    <option value=\"web development\">Web Development</option>\r\n                                                    <option value=\"mob app\">Mobile App</option>\r\n                                                    <option value=\"graphic designing\">Graphic Designing</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-5 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Item-descrption\"\r\n                                                    value={detail}\r\n                                                    type=\"text\"\r\n                                                    onChange={this.onInput('detail')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Rate\"\r\n                                                    value={rate}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onInput('rate')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\">\r\n                                                <MDBInput\r\n                                                    label=\"Qty\"\r\n                                                    value={qty}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    onChange={this.onInput('qty')}\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-2 m-0\" style={{ marginBottom: '-20px' }}>\r\n                                                <MDBInput\r\n                                                    label=\"Price\"\r\n                                                    ref={el => this.price = el}\r\n                                                    value={rate * qty}\r\n                                                    type=\"number\"\r\n                                                    min=\"1\"\r\n                                                    disabled\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-1 m-0 pt-2 align-self-center\">\r\n                                                <button\r\n                                                    type='submit'\r\n                                                    color=\"transparent\"\r\n                                                    className='mb-2'\r\n                                                >\r\n                                                    <MDBIcon icon=\"plus\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                    <div className=\"row px-2 mx-0 mt-4\"\r\n                                        style={{ display: this.state.items.length === 0 ? 'none' : '' }}>\r\n                                        <div className=\"col-md-12 m-0\">\r\n                                            <div className='m-0 p-0 table-responsive'>\r\n                                                <table id='invoiceTable' className=\"table table-bordered table-hover table-sm\">\r\n                                                    <thead className='thead-light text-center'>\r\n                                                        <tr style={{ borderTopLeftRadius: '10px', borderTopRightRadius: '10px' }}>\r\n                                                            <th >Services</th>\r\n                                                            <th>Description</th>\r\n                                                            <th>Rate</th>\r\n                                                            <th>Qty.</th>\r\n                                                            <th>Price</th>\r\n                                                            <th className='printHide'>Action</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {tableRows}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row px-2 m-0\" style={{ display: this.state.items.length === 0 ? 'none' : '' }}>\r\n                                        <div className='col-md-4 offset-md-8'>\r\n                                            <MDBInput label='Total' outline ref={el => this.total_amount = el} value={this.calculateTotal()} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <p className='text-center' style={{ fontFamily: 'monospace' }}>Thank you for doing business with {companyDetails && companyDetails.name}.</p>\r\n\r\n                                <div className=\"row m-0 p-2 justify-content-center printHide\">\r\n                                    <div className=\"col-md-3 align-self-center p-0\">\r\n                                        <div className='row m-0 p-0'>\r\n                                            <div className='col m-0 p-0 text-right'>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={printInvoice}\r\n                                                    onChange={() => {\r\n                                                        this.setState({\r\n                                                            printInvoice: !this.state.printInvoice\r\n                                                        })\r\n                                                    }}\r\n                                                    style={{ width: '30px', height: '30px', verticalAlign: 'middle' }}\r\n                                                />\r\n                                            </div>\r\n                                            <div className='col text-left m-0 p-0 align-self-center'>\r\n                                                <p className='m-0 p-0'>Print Invoice?</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* To print invoice, press ctrl+p before saving. */}\r\n                                    <div className=\"col-md-3 align-self-center py-0 px-2\">\r\n                                        <MDBBtn\r\n                                            color=\"success\"\r\n                                            onClick={this.submitInvoice}\r\n                                            size=\"md\"\r\n                                            className='form-control my-0 mx-2 py-2'\r\n                                        >\r\n                                            <MDBIcon\r\n                                                icon=\"save\"\r\n                                                size=\"lg\"\r\n                                                className='mr-1'\r\n                                            />\r\n                                            Save\r\n                                        </MDBBtn>\r\n                                    </div>\r\n                                </div>\r\n                            </MDBCardBody>\r\n                        </MDBCard>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Invoice;","import React from \"react\";\nimport Invoice from '../../misc/pages/Invoice'\nimport { Can } from '../../../configs/Ability-context'\n\n\nconst NewInvoice = (props) => {\n\n  return (\n    <Can I='create' a='invoice'><Invoice allData={props.allData} /></Can>\n  )\n}\n\nexport default NewInvoice;","import React, { Component } from 'react';\r\nimport NewInvoice from './pages/NewInvoice';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewInvoice extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='Invoice'><NewInvoice allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewInvoice","import React from \"react\";\nimport Invoice from '../../misc/pages/Invoice'\nimport { Can } from '../../../configs/Ability-context'\n\n\nconst EditInvoice = (props) => {\n  let params = new URLSearchParams(window.location.search),\n    id = Number(params.get('invoice'))\n  return (\n    <Can I='update' a='invoice'><Invoice id={id} allData={props.allData} /></Can>\n\n  )\n}\n\nexport default EditInvoice;","import React, { Component } from 'react';\r\nimport EditInvoice from './pages/EditInvoice';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditInvoice extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='Invoice'><EditInvoice allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditInvoice","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../misc/components/DeleteModal';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllInvoices extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            invoiceToBeDeleted: '',\n            invoiceId: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/edit\", search: `invoice=${id}` })\n    }\n\n    handleView = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/view\", search: `invoice=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/invoices/new')\n    }\n\n    handleDelete = (invoice) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            invoiceToBeDeleted: invoice.id,\n            invoiceId: invoice.slagme,\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteInvoice = () => {\n        let { rowToBeDeleted, invoiceToBeDeleted, invoiceId } = this.state\n        let deleteInvoiceOptions = {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch(`/deleteInvoiceDetails/${invoiceId}`, deleteInvoiceOptions)\n            .then(res => res.json())\n            .then(json => {\n                console.log(json)\n                json.success &&\n                    fetch(`/deleteInvoice/${invoiceToBeDeleted}`, deleteInvoiceOptions)\n                        .then((res) => res.json())\n                        .then((json) => {\n                            console.log(json)\n                            json.success && document.getElementById('allInvoicesTable').deleteRow(rowToBeDeleted)\n                        })\n                        .catch((error) => console.log(error))\n\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    render() {\n        let { allInvoices, allUsers, allCompanies } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n            ;\n\n        allInvoices && allInvoices.forEach((invoice) => {\n            let client = allUsers && allUsers.filter(user => user.id === Number(invoice.c_id)).shift()\n            let company = allCompanies && allCompanies.filter(company => company.id === Number(invoice.company_id)).shift()\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    invoiceId: invoice.slagme,\n                    date: new Date(invoice.date).toLocaleDateString(),\n                    company: company && company.name,\n                    client: client && client.name,\n                    address: invoice.c_address,\n                    cell: invoice.c_number,\n                    total: invoice.total_amount,\n                    buttons: <React.Fragment>\n                        {/* <Can I='read' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleView(invoice.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"eye iconGreen\" />\n                            </MDBBtn>\n                        </Can> */}\n                        <Can I='update' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(invoice.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='invoice'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(invoice)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Id', field: 'invoiceId' }, { label: 'Date', field: 'date' },\n                { label: 'Company', field: 'company' }, { label: 'Client', field: 'client', }, { label: 'Address', field: 'address', },\n                { label: 'Phone no.', field: 'cell', }, { label: 'Amount', field: 'total', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='invoice'>\n                <MyOwnListing\n                    cardHeading={`Invoices`}\n                    permissionEntity='invoice'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Invoice'\n                    tableId='allInvoicesTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteInvoice}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllInvoices","import React, { Component } from 'react';\r\nimport AllInvoices from './pages/AllInvoices';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllInvoices extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='Invoice'><AllInvoices  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInvoices","import React from 'react';\nimport { Can } from \"../../../configs/Ability-context\";\nimport MyOwnListing from '../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\n\nconst AllInvoiceDetails = ({ allData }) => {\n\n    let { allInvoiceDetails } = allData, rows = [], data, index = 0\n    allInvoiceDetails && allInvoiceDetails.forEach((detail) => {\n        index = index + 1;\n        rows.push(\n            {\n                index: index,\n                invoiceId: detail.invoice_id,\n                service: detail.service,\n                detail: detail.detail,\n                qty: detail.qty,\n                price: detail.price,\n            }\n        );\n    });\n    data = {\n        columns: [\n            { label: '#', field: 'index', }, { label: 'Invoice-Id', field: 'invoiceId' }, { label: 'Service', field: 'service' },\n            { label: 'Detail', field: 'detail', }, { label: 'QTY', field: 'qty', }, { label: 'Price', field: 'pPrice', },\n        ],\n        rows: rows\n    }\n\n    return (\n        <Can I='read' a='invoiceDetail'>\n            <MyOwnListing\n                cardHeading={`Invoice-Details`}\n                permissionEntity='invoiceDetail'\n                tableId='allInvoiceDetailsTable'\n                data={data}\n            />\n            {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n        </Can>\n    );\n\n}\n\nexport default AllInvoiceDetails","import React, { Component } from 'react';\r\nimport AllInvoiceDetails from './pages/AllInvoiceDetails';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../configs/Ability-context'\r\n\r\nclass SecuredAllInvoiceDetails extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='InvoiceDetail'><AllInvoiceDetails  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllInvoiceDetails","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol } from 'mdbreact';\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass Company extends Component {\r\n    _isMounted = false\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = true\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            cell: '',\r\n            address: '',\r\n            logoAddress: '',\r\n            selectedFile: '',\r\n            validatingMessage: '',\r\n            editCompany: false,\r\n            existingLogo: false,\r\n            displayExistingLogo: false,\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        let { id, allData } = this.props\r\n        if (id) {\r\n            let companyToBeEdited = allData.allCompanies && allData.allCompanies.filter(company => company.id === id).shift()\r\n            companyToBeEdited &&\r\n                this.setState({\r\n                    name: companyToBeEdited.name,\r\n                    email: companyToBeEdited.email,\r\n                    cell: companyToBeEdited.cell,\r\n                    address: companyToBeEdited.address,\r\n                    editCompany: companyToBeEdited.id,\r\n                    existingLogo: companyToBeEdited.logo,\r\n                    displayExistingLogo: true,\r\n                })\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        e.target.name === 'logoAddress' ?\r\n            this.setState({ selectedFile: e.target.files[0], [e.target.name]: e.target.value, }) :\r\n            this.setState({\r\n                [e.target.name]: e.target.value,\r\n            })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        this.refs.validatingLabel.innerHTML = ''\r\n        e.preventDefault();\r\n        let form = this.refs.newCompanyForm\r\n        if (form.checkValidity() === false) {\r\n            form.classList.add('was-validated');\r\n            return\r\n        }\r\n        else {\r\n            let { name, email, cell, address, selectedFile, editCompany, existingLogo } = this.state\r\n            let fd = new FormData(this.refs.fakeForm), companyOptions\r\n            fd.append('image', selectedFile)\r\n            fd.append('name', name)\r\n            fd.append('email', email)\r\n            fd.append('cell', cell)\r\n            fd.append('address', address)\r\n            existingLogo && fd.append('id', editCompany)\r\n            if (!existingLogo) {\r\n                companyOptions = {\r\n                    method: 'POST',\r\n                    body: fd,\r\n                }\r\n                fetch('/addNewCompany', companyOptions)\r\n                    // .then((res) => console.log(res))\r\n                    .then((res) => res.json())\r\n                    .then((json) => {\r\n                        console.log(json)\r\n                        this.setState({ validatingMessage: json.message })\r\n                        json.success ?\r\n                            this.setState({\r\n                                name: '',\r\n                                email: '',\r\n                                cell: '',\r\n                                address: '',\r\n                                logoAddress: '',\r\n                                selectedFile: '',\r\n                                validatingMessage: '',\r\n                            })\r\n                            :\r\n                            json.message === `This Company already exists.` ? this.name.focus() : this.logo.focus()\r\n                        // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                    })\r\n                    .catch((error) => console.log(error))\r\n            }\r\n            else {\r\n                companyOptions = {\r\n                    method: 'PUT',\r\n                    body: fd\r\n                }\r\n                //deleteImageexisting.....\r\n                fetch(`/deleteImage/${existingLogo}`, { method: 'DELETE', headers: { 'content-type': 'application/json' } })\r\n                    .then(res => res.json())\r\n                    .then(json => {\r\n                        console.log(json);\r\n                        this.setState({ validatingMessage: json.message })\r\n                        if (json.success) {\r\n                            fetch('/updateCompany', companyOptions)\r\n                                // .then((res) => console.log(res))\r\n                                .then((res) => res.json())\r\n                                .then((json) => {\r\n                                    console.log(json)\r\n                                    this.setState({ validatingMessage: json.message })\r\n                                    let updatedCompany = json.data\r\n                                    json.success ?\r\n                                        this.setState({\r\n                                            name: updatedCompany.name,\r\n                                            email: updatedCompany.email,\r\n                                            cell: updatedCompany.cell,\r\n                                            address: updatedCompany.address,\r\n                                            logoAddress: '',\r\n                                            existingLogo: updatedCompany.logo,\r\n                                            validatingMessage: '',\r\n                                            displayExistingLogo: true\r\n                                        })\r\n                                        :\r\n                                        json.message === `This Company already exists.` ? this.name.focus() : this.logo.focus()\r\n                                    // this._isMounted && setTimeout(() => this.setState({ notificationShow: false }), 1502);\r\n                                })\r\n                                .catch((error) => console.log(error))\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, email, cell, address, logoAddress, validatingMessage, editCompany, existingLogo, displayExistingLogo } = this.state\r\n\r\n\r\n        return (\r\n            <Can I='create' a='company' >\r\n                <MDBRow center className='mt-5 p-0'>\r\n                    <MDBCol xl='4' lg='5' md='6' sm='8' xs='10'>\r\n                        <form ref='newCompanyForm' className='mb-4' onSubmit={this.handleSubmit} noValidate>\r\n                            <fieldset className='w-100'>\r\n                                <h2 className=\"fontRaleway colorGreen font-weight-bold mb-4 text-center\">{editCompany ? 'Edit Company' : 'New Company'}</h2>\r\n                                < div className='mb-2'>\r\n                                    <i className=\"fa fa-edit inputIcon\" />\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.name = el}\r\n                                        required\r\n                                        placeholder='Name*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-envelope inputIcon\" />\r\n                                    <input\r\n                                        name=\"email\"\r\n                                        value={email}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.email = el}\r\n                                        required\r\n                                        placeholder='Email*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-phone inputIcon\" />\r\n                                    <input\r\n                                        name=\"cell\"\r\n                                        value={cell}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"text\"\r\n                                        ref={el => this.cell = el}\r\n                                        required\r\n                                        placeholder='Phone*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='mb-2'>\r\n                                    <i className=\"fa fa-map-marker-alt inputIcon\" />\r\n                                    <textarea\r\n                                        name=\"address\"\r\n                                        value={address}\r\n                                        onInput={this.handleInput}\r\n                                        onChange={() => { }}\r\n                                        type=\"textarea\"\r\n                                        ref={el => this.address = el}\r\n                                        rows='2'\r\n                                        required\r\n                                        placeholder='Address*'\r\n                                        className='fontRaleway inputText pl-5 form-control'\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    displayExistingLogo ?\r\n                                        <div className='mb-2'>\r\n                                            <img\r\n                                                src={`/getImage/${existingLogo}`}\r\n                                                width='100%'\r\n                                                height='100'\r\n                                                alt='Logo'\r\n                                                style={{ borderRadius: '7px' }}\r\n                                            />\r\n                                            <b\r\n                                                className='float-right mr-1 fontRaleway colorBlue hoverGreen'\r\n                                                onClick={() => this.setState({ displayExistingLogo: false })}\r\n                                                style={{ cursor: 'pointer' }}\r\n                                            >Change</b>\r\n                                        </div>\r\n                                        :\r\n                                        <div className='mb-2' style={{ position: 'relative' }}>\r\n                                            <input name={'logoAddress'} type='file' accept=\".jpg, .jpeg, .png,\" onInput={this.handleInput} required className='inputText' />\r\n                                            <div className=\"fakefile inputText\">\r\n                                                <i className=\"fa fa-file-alt inputIcon\" />\r\n                                                <input\r\n                                                    value={logoAddress}\r\n                                                    onChange={() => { }}\r\n                                                    type=\"text\"\r\n                                                    ref={el => this.logo = el}\r\n                                                    required\r\n                                                    placeholder='Choose file...*'\r\n                                                    className='fontRaleway inputText pl-5 form-control'\r\n                                                />\r\n                                                <small className='float-right grey-text'>{'PNG or JPG, max size = 3MB'}</small>\r\n                                            </div>\r\n                                        </div>\r\n                                }\r\n                                <div className='text-center w-100 mt-0'>\r\n                                    <label className='validatingLabel mt-3' ref='validatingLabel'>{validatingMessage}</label><br />\r\n                                    <input type=\"submit\" className=\"next action-button my-0\" value={editCompany ? 'Update' : \"Create..\"} />\r\n                                </div>\r\n                            </fieldset>\r\n                        </form>\r\n                        <form ref='fakeForm' encType='multipart/form-data' />\r\n                    </MDBCol>\r\n                </MDBRow>\r\n\r\n                {/* {\r\n                    this.state.notificationShow ?\r\n                        <MDBAnimation type=\"fadeInUp\" >\r\n                            <Notification\r\n                                message={this.state.notificationMessage}\r\n                                icon={\"bell\"}\r\n                            />\r\n                        </MDBAnimation>\r\n                        : null\r\n                } */}\r\n            </Can >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Company","import React from \"react\";\nimport Company from '../../../misc/pages/Company'\nimport { Can } from '../../../../configs/Ability-context'\n\n\nconst NewCompany = (props) => {\n\n  return (\n    <Can I='create' a='company'><Company allData={props.allData} /></Can>\n  )\n}\n\nexport default NewCompany;","import React, { Component } from 'react';\r\nimport NewCompany from './pages/NewCompany';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredNewCompany extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='create' a='company'><NewCompany /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredNewCompany","import React from \"react\";\nimport Company from '../../../misc/pages/Company'\nimport { Can } from '../../../../configs/Ability-context'\n\n\nconst EditCompany = (props) => {\n  let params = new URLSearchParams(window.location.search),\n    id = Number(params.get('company'))\n  return (\n    <Can I='update' a='company'><Company id={id} allData={props.allData} /></Can>\n\n  )\n}\n\nexport default EditCompany;","import React, { Component } from 'react';\r\nimport EditCompany from './pages/EditCompany';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass SecuredEditCompany extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n\r\n        let { allData } = this.props\r\n\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='update' a='company'><EditCompany allData={allData} /></Can>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredEditCompany","import React, { Component } from 'react';\nimport { MDBBtn, MDBIcon } from 'mdbreact';\nimport DeleteModal from '../../../misc/components/DeleteModal';\nimport { Can } from \"../../../../configs/Ability-context\";\nimport MyOwnListing from '../../../misc/components/MyOwnListing'\n// import LoaderModal from '../sections/LoaderModal'\n\n\nclass AllCompanies extends Component {\n    _isMounted = false\n    constructor(props) {\n        super(props);\n        this._isMounted = true\n        this.state = {\n            rowToBeDeleted: '',\n            companyToBeDeleted: '',\n            companyLogo: '',\n            // loaderModalShow: false\n        }\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false\n    }\n\n    handleEdit = (id) => (e) => {\n        this.props.history.push({ pathname: \"/invoices/companies/edit\", search: `company=${id}` })\n    }\n\n    redirectToNewEntityPath = () => {\n        this.props.history.push('/invoices/companies/new')\n    }\n\n    handleDelete = (company) => (e) => {\n        let el = e.target\n        let row = el.closest('tr')\n        var i = row.rowIndex;\n        this.setState({\n            rowToBeDeleted: i,\n            companyToBeDeleted: company.id,\n            companyLogo: company.logo,\n        })\n        this.refs.deleteModal.setState({\n            modalShow: true,\n        })\n    }\n\n    deleteCompany = () => {\n        let { rowToBeDeleted, companyToBeDeleted, companyLogo } = this.state\n        let deleteCompanyOptions = {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' }\n        }\n        fetch(`/deleteImage/${companyLogo}`, deleteCompanyOptions)\n            .then(res => {\n                return res.json()\n            })\n            .then(json => {\n                console.log(json)\n            })\n            .catch(err => console.log(err))\n        fetch(`/deleteCompany/${companyToBeDeleted}`, deleteCompanyOptions)\n            .then((res) => res.json())\n            .then((json) => {\n                console.log(json)\n                json.success && document.getElementById('allCompaniesTable').deleteRow(rowToBeDeleted)\n            })\n            .catch((error) => console.log(error))\n    }\n\n\n    render() {\n        let { allCompanies } = this.props.allData, rows = [], data, index = 0,\n            btnStyle = { fontSize: '17px', borderRadius: '50%', border: '2px solid #112648' }\n            ;\n\n        allCompanies && allCompanies.forEach((company) => {\n            index = index + 1;\n            rows.push(\n                {\n                    index: index,\n                    name: company.name,\n                    email: company.email,\n                    cell: company.cell,\n                    address: company.address,\n                    logo: <img src={`/getImage/${company.logo}`} alt='Logo' className='m-0 p-0' width='120' height='80' />,\n                    buttons: <React.Fragment>\n                        <Can I='update' a='company'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleEdit(company.id)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"pencil-alt iconGreen\" />\n                            </MDBBtn>\n                        </Can>\n                        <Can I='delete' a='company'>\n                            <MDBBtn style={btnStyle} color='white' onClick={this.handleDelete(company)} className='m-1 py-1 px-2' size=\"sm\">\n                                <MDBIcon icon=\"trash iconRed\" />\n                            </MDBBtn>\n                        </Can>\n                    </React.Fragment>\n                }\n            );\n        });\n        data = {\n            columns: [\n                { label: '#', field: 'index', }, { label: 'Name', field: 'name', }, { label: 'Email', field: 'email', },\n                { label: 'Phone no.', field: 'cell', }, { label: 'Address', field: 'address', },\n                { label: 'Logo', field: 'logo', }, { label: 'Action', field: 'buttons' }\n            ],\n            rows: rows\n        }\n\n        return (\n            <Can I='read' a='company'>\n                <MyOwnListing\n                    cardHeading={`Companies`}\n                    permissionEntity='company'\n                    redirectToNewEntityPath={this.redirectToNewEntityPath}\n                    addButtonEntityLabel='Company'\n                    tableId='allCompaniesTable'\n                    data={data}\n                />\n                <DeleteModal\n                    ref='deleteModal'\n                    deleteEntry={this.deleteCompany}\n                />\n\n                {/* <LoaderModal\n            //    show={loaderModalShow}\n        // /> */}\n            </Can>\n        );\n    }\n\n}\n\nexport default AllCompanies","import React, { Component } from 'react';\r\nimport AllCompanies from './pages/AllCompanies';\r\nimport { Redirect } from 'react-router'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\nclass SecuredAllCompanies extends Component {\r\n    loggedIn\r\n    constructor() {\r\n        super()\r\n        this.user = localStorage.getItem('ui')\r\n        this.user ? this.loggedIn = true : this.loggedIn = false\r\n    }\r\n\r\n    render() {\r\n        if (this.loggedIn === false) {\r\n            return <Redirect to='/login' />\r\n        }\r\n        else {\r\n            return <Can I='read' a='company'><AllCompanies  {...this.props} /></Can>\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SecuredAllCompanies","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewCompany from './SecuredNewCompany';\r\nimport SecuredEditCompany from './SecuredEditCompany';\r\nimport SecuredAllCompanies from './SecuredAllCompanies';\r\n\r\n\r\n\r\nconst Companies = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/invoices/companies/new\" render={() => <SecuredNewCompany />} />\r\n            <Route path=\"/invoices/companies/edit\" render={() => <SecuredEditCompany allData={allData} />} />\r\n            <Route path=\"/invoices/companies/all\" render={(routeProps) => <SecuredAllCompanies {...routeProps} allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Companies","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport SecuredNewInvoice from './SecuredNewInvoice';\r\n// import SecuredViewInvoice from './SecuredViewInvoice';\r\nimport SecuredEditInvoice from './SecuredEditInvoice';\r\nimport SecuredAllInvoices from './SecuredAllInvoices';\r\nimport SecuredAllInvoiceDetails from './SecuredAllInvoiceDetails';\r\nimport Companies from './companies/Companies';\r\n\r\n\r\n\r\nconst Invoices = ({ allData }) => {\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/invoices/new\" render={() => <SecuredNewInvoice allData={allData} />} />\r\n            {/* <Route path=\"/invoices/view\" render={() => <SecuredViewInvoice allData={allData} />} /> */}\r\n            <Route path=\"/invoices/edit\" render={() => <SecuredEditInvoice allData={allData} />} />\r\n            <Route path=\"/invoices/all\" render={(routeProps) => <SecuredAllInvoices {...routeProps} allData={allData} />} />\r\n            <Route path=\"/invoices/invoice_details\" render={() => <SecuredAllInvoiceDetails allData={allData} />} />\r\n            <Route path=\"/invoices/companies\" render={(routeProps) => <Companies {...routeProps} allData={allData} />} />\r\n        </Switch>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Invoices","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport NotFound from './pages/NotFound';\r\nimport SecuredLogin from '../auth/SecuredLogin';\r\nimport Vendors from '../vendors/Vendors';\r\nimport SecuredHome from '../home/SecuredHome';\r\nimport Users from '../users/Users';\r\nimport Products from '../products/Products';\r\nimport Inventories from '../inventories/Inventories';\r\nimport Orders from '../orders/Orders';\r\nimport Invoices from '../invoices/Invoices';\r\n\r\n\r\n\r\nclass AllRoutes extends Component {\r\n\r\n\r\n\r\n    render() {\r\n        let { allData, changeUser } = this.props\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{}} className=\"container-fluid\">\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={(routeProps) => <SecuredLogin {...routeProps} changeUser={changeUser} />} />\r\n                        <Route exact path=\"/login\" render={(routeProps) => <SecuredLogin {...routeProps} changeUser={changeUser} />} />\r\n                        <Route path=\"/home\" render={(routeProps) => <SecuredHome {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/vendors\" render={(routeProps) => <Vendors {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/users\" render={(routeProps) => <Users {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/products\" render={(routeProps) => <Products {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/inventories\" render={(routeProps) => <Inventories {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/orders\" render={(routeProps) => <Orders {...routeProps} allData={allData} />} />\r\n                        <Route path=\"/invoices\" render={(routeProps) => <Invoices {...routeProps} allData={allData} />} />\r\n                        <Route render={() => <NotFound />} />\r\n                    </Switch>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default AllRoutes","import React, { Component } from \"react\";\r\nimport {\r\n    MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse\r\n} from \"mdbreact\";\r\n\r\nclass NavBar extends Component {\r\n    state = {\r\n        isOpen: false\r\n    };\r\n\r\n    toggleCollapse = () => {\r\n        this.props.loggedIn ?\r\n            this.props.toggleSidebar()\r\n            :\r\n            this.setState({ isOpen: !this.state.isOpen });\r\n    }\r\n\r\n    activeClassToggeler = (e) => {\r\n        let elems = document.querySelector('.active')\r\n        elems && elems.classList.remove('active')\r\n        e.target.classList.add('active')\r\n    }\r\n\r\n    render() {\r\n        let { loggedIn } = this.props\r\n        let navBarNavStyle = { fontWeight: '800', textTransform: '' }\r\n\r\n        return (\r\n            <MDBNavbar transparent expand=\"sm\" style={{ boxShadow: 'none' }} className='m-0 p-0'>\r\n\r\n                <MDBNavbarBrand className='logoHome my-0 p-0'  >\r\n                    <img id='siteLogo' src=\"/logo_homepage.png\" width=\"224\" height=\"84\" alt=\"bucket_ERP\" />\r\n                </MDBNavbarBrand>\r\n\r\n                {/* {loggedIn ? */}\r\n                <MDBNavbarToggler id='navbarToggler' className='navbar-light mt-5 p-1 mr-4 ml-2' style={{ border: '1px solid #112648' }} onClick={this.toggleCollapse} />\r\n                {!loggedIn ?\r\n                    <>\r\n                        <MDBCollapse isOpen={this.state.isOpen} navbar>\r\n\r\n                            <MDBNavbarNav right style={navBarNavStyle} className='navBar row p-0' onClick={this.activeClassToggeler}>\r\n                                {/* <MDBNavItem>\r\n                                    <MDBNavLink className='hoverGreen activeBlue' to=\"/home\">Home</MDBNavLink>\r\n                                </MDBNavItem> */}\r\n                                <MDBNavItem>\r\n                                    <MDBNavLink className='hoverGreen activeBlue' to=\"/login\">Sign In</MDBNavLink>\r\n                                </MDBNavItem>\r\n                                <MDBNavItem>\r\n                                    {/* {loggedIn ? */}\r\n                                    {/* <MDBNavLink className='colorGreen hoverBlue activeGreen' to=\"/login\" onClick={() => this.props.loggingOut()}>\r\n                                            LogOut\r\n                                        </MDBNavLink> */}\r\n                                    {/* : */}\r\n                                    <MDBNavLink className='colorGreen hoverBlue activeGreen' to=\"/vendors/signup\">\r\n                                        Become Seller <b className='colorBlue'>...</b>\r\n                                    </MDBNavLink>\r\n                                    {/* } */}\r\n                                </MDBNavItem>\r\n                            </MDBNavbarNav>\r\n                        </MDBCollapse>\r\n                    </>\r\n                    : null}\r\n            </MDBNavbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Can } from '../../../configs/Ability-context'\r\n\r\n\r\nclass ReactSideBar extends Component {\r\n    _isMounted = false\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    onClick = e => {\r\n        this.activeClassToggeler(e);\r\n        this.handleDropDownMenus(e);\r\n    }\r\n\r\n    activeClassToggeler = (e) => {\r\n        let elems = document.querySelector('.active')\r\n        elems && elems.classList.remove('active')\r\n        e.target.classList.add('active')\r\n    }\r\n\r\n    handleDropDownMenus = (e) => {\r\n        let dropdownMenus = document.getElementsByClassName(\"dropdownMenu\"),\r\n            listElement = e.target.closest('li'),\r\n            dropDown = e.target.closest('.dropdownMenu')\r\n        for (let i = 0; i < dropdownMenus.length; i++) {\r\n            if (listElement.childElementCount > 1) {\r\n                if (dropdownMenus[i] === dropDown) {\r\n                    //toggle selected dropdown items\r\n                    for (let j = 1; j < listElement.childNodes.length; j++) {\r\n                        if (listElement.childNodes[j].style.display === 'block' || listElement.childNodes[j].style.display === '') {\r\n                            listElement.childNodes[j].children[0].classList.remove('slideInDown')\r\n                            listElement.childNodes[j].children[0].classList.add('slideOutUp')\r\n                            setTimeout(() => { listElement.childNodes[j].style.display = 'none' }, 450)\r\n                        }\r\n                        else {\r\n                            listElement.childNodes[j].children[0].classList.remove('slideOutUp')\r\n                            listElement.childNodes[j].children[0].classList.add('slideInDown')\r\n                            listElement.childNodes[j].style.display = ''\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //hide all other dropdown items\r\n                    dropdownMenus[i].nextElementSibling.style.display = 'none'\r\n                    dropdownMenus[i].nextElementSibling.nextElementSibling && (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n                }\r\n            }\r\n            else {\r\n                //hide all other dropdown items if clicked on non-dropdown item\r\n                dropdownMenus[i].nextElementSibling.style.display = 'none'\r\n                dropdownMenus[i].nextElementSibling.nextElementSibling && (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        let dropdownMenus = document.getElementsByClassName(\"dropdownMenu\"), { loggedIn } = this.props,\r\n            homeLink = document.getElementById('sidebarHomeLink')\r\n        homeLink && homeLink.classList.add('active')\r\n        for (let i = 0; i < dropdownMenus.length; i++) {\r\n            //hide all open dropdown items when user logged-in\r\n            dropdownMenus[i] && (dropdownMenus[i].nextElementSibling) && (dropdownMenus[i].nextElementSibling.style.display = 'none')\r\n            dropdownMenus[i] && dropdownMenus[i].nextElementSibling && dropdownMenus[i].nextElementSibling.nextElementSibling &&\r\n                (dropdownMenus[i].nextElementSibling.nextElementSibling.style.display = 'none')\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n                <div className='col text-center mt-5 mb-4 mx-0 p-0'>\r\n                    <h2 className='m-0 p-0 sidebarHeading'>Dashboard</h2>\r\n                </div>\r\n                <div className='text-white sidebar'>\r\n\r\n                    <li className='mb-3'>\r\n                        <div className='row m-0 p-0 align-items-center'>\r\n                            <div className='col-xl-4 col-lg-4'>\r\n                                <i className='flaticon-home' />\r\n                            </div>\r\n                            <div className='col-xl-8 col-lg-8 text-left' >\r\n                                <Link id='sidebarHomeLink' to=\"/home\" onClick={this.onClick}>Home</Link>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                    <Can I='read' a='user'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.onClick}>\r\n\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-multiple-users-silhouette' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left'>\r\n                                    <Link to=\"/users/all\" >Users</Link>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <Can I='read' a='role'>\r\n                                <div style={{ display: 'none' }} className='row m-0 p-0 justify-content-end dropdownItem'>\r\n                                    <div className='col-6 p-0 text-left mr-1 animated' >\r\n                                        <Link to=\"/users/roles/all\" className='' style={{ fontSize: '0.9vw' }}>Roles</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </li>\r\n                    </Can>\r\n                    <Can I='read' a='product'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.onClick}>\r\n\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-product' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/products/all\">Products</Link>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <Can I='read' a='productCategory'>\r\n                                <div style={{ display: 'none' }} className='row m-0 p-0 justify-content-end dropdownItem'>\r\n                                    <div className='col-6 p-0 text-left mr-1 animated' >\r\n                                        <Link to=\"/products/categories/all\" style={{ fontSize: '0.9vw' }}>Categories</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </li>\r\n                    </Can>\r\n                    <Can I='read' a='inventories'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center' onClick={this.onClick}>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-storage' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/inventories/all\" >Inventory</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </Can>\r\n\r\n                    <Can I='read' a='order'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.onClick}>\r\n\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-box font-weight-bold' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/orders/all\">Orders</Link>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <Can I='read' a='orderDetail'>\r\n                                <div style={{ display: 'none' }} className='row m-0 p-0 justify-content-end dropdownItem'>\r\n                                    <div className='col-6 p-0 text-left mr-1 animated' >\r\n                                        <Link to=\"/orders/order_details\" style={{ fontSize: '0.9vw' }} >Order-Details</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </li>\r\n                    </Can>\r\n                    <Can I='read' a='vendor'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center' onClick={this.onClick} >\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-vendor' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/vendors/all\" >Vendors</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </Can>\r\n                    <Can I='read' a='invoice'>\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center dropdownMenu' onClick={this.onClick}>\r\n\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='fas fa-file-invoice pl-1 text-white' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/invoices/all\">Invoices</Link>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <Can I='read' a='invoiceDetail'>\r\n                                <div style={{ display: 'none' }} className='row m-0 p-0 justify-content-end dropdownItem'>\r\n                                    <div className='col-6 p-0 text-left mr-1 animated' >\r\n                                        <Link to=\"/invoices/invoice_details\" style={{ fontSize: '0.9vw' }} >Invoice-details</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Can>\r\n                            <Can I='read' a='company'>\r\n                                <div style={{ display: 'none' }} className='row m-0 p-0 justify-content-end dropdownItem'>\r\n                                    <div className='col-6 p-0 text-left mr-1 animated' >\r\n                                        <Link to=\"/invoices/companies/all\" style={{ fontSize: '0.9vw' }} >Companies</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Can>\r\n\r\n                        </li>\r\n                    </Can>\r\n                    {loggedIn ?\r\n                        <li className='mb-3'>\r\n                            <div className='row m-0 p-0 align-items-center'>\r\n                                <div className='col-xl-4 col-lg-4'>\r\n                                    <i className='flaticon-logout' />\r\n                                </div>\r\n                                <div className='col-xl-8 col-lg-8 text-left' >\r\n                                    <Link to=\"/login\" onClick={() => this.props.loggingOut()}>Sign Out</Link>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        : null}\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ReactSideBar","import React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Redirect } from 'react-router-dom';\r\nimport { AbilityContext } from \"./configs/Ability-context\";\r\nimport defineRulesFor from \"./configs/Ability\";\r\nimport { Ability } from \"@casl/ability\";\r\nimport AllRoutes from './components/misc/AllRoutes'\r\nimport NavBar from './components/misc/sections/NavBar'\r\nimport ReactSideBar from './components/misc/components/ReactSideBar';\r\n\r\n\r\nconst ability = new Ability();\r\n\r\nclass App extends React.Component {\r\n  _isMounted = false\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    this._isMounted = true\r\n    this.state = {\r\n      user: '',\r\n      loggedIn: '',\r\n      allRoles: [],\r\n      allPermissions: [],\r\n      allRolePermissions: [],\r\n      allUsers: [],\r\n      allProductCategories: [],\r\n      allBrands: [],\r\n      allProducts: [],\r\n      allInventories: [],\r\n      allInventoryHistories: [],\r\n      allOrders: [],\r\n      allOrderDetails: [],\r\n      allInvoices: [],\r\n      allInvoiceDetails: [],\r\n      allCompanies: [],\r\n    }\r\n\r\n    this.paths = [\r\n      '/getAllRoles',\r\n      '/getAllPermissions',\r\n      '/getAllRolesPermissions',\r\n      '/getAllUsers',\r\n      '/getAllProductCategories',\r\n      '/getAllBrands',\r\n      '/getAllProducts',\r\n      '/getAllInventories',\r\n      '/getAllInventoryHistories',\r\n      '/getAllOrders',\r\n      '/getAllOrderDetails',\r\n      '/getAllInvoices',\r\n      '/getAllInvoiceDetails',\r\n      '/getAllCompanies',\r\n    ]\r\n\r\n    fetch('/isAuth')\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        // console.log(json);\r\n        let user = json.user;\r\n        this.setState({\r\n          user: user,\r\n          loggedIn: json.loggedIn,\r\n        },\r\n          function () {\r\n            if (json.loggedIn === false) {\r\n              let sidebar = document.getElementById('sidebar'), main = document.getElementById('main')\r\n              sidebar.style.width = '0%'\r\n              main.style.width = '100%'\r\n              main.style.marginLeft = '0px'\r\n              if (localStorage.getItem('ui') || localStorage.getItem('uri')) {\r\n                localStorage.removeItem('ui')\r\n                localStorage.removeItem('uri')\r\n              }\r\n            }\r\n            if (user !== undefined && user !== null) {\r\n              localStorage.setItem('ui', JSON.stringify(user.id))\r\n              localStorage.setItem('uri', JSON.stringify(user.role_id))\r\n              this.changeUser(user);\r\n            }\r\n          })\r\n      })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n  }\r\n\r\n  loggingOut = () => {\r\n    fetch('/logout')\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        // console.log(json)\r\n        this.setState({\r\n          loggedIn: false,\r\n        }, function () {\r\n          localStorage.removeItem('ui')\r\n          localStorage.removeItem('uri')\r\n          let main = document.getElementById('main'), sidebar = document.getElementById('sidebar')\r\n          sidebar.style.width = ' 0%'\r\n          main.style.width = '100%'\r\n          main.style.marginLeft = '0px'\r\n        })\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n\r\n  changeUser = (user) => {\r\n    let userRole, { loggedIn } = this.state\r\n\r\n    //fetching all Data\r\n    let dataRequests = this.paths.map(path => fetch(path))\r\n    Promise.all(dataRequests)\r\n      .then(responses => {\r\n        Promise.all(responses.map(res => res.json()))\r\n          .then(jsons => {\r\n            // console.log(jsons);\r\n            if (this._isMounted) {\r\n              this.setState({\r\n                allRoles: jsons[0].data,\r\n                allPermissions: jsons[1].data,\r\n                allRolePermissions: jsons[2].data,\r\n                allUsers: jsons[3].data,\r\n                allProductCategories: jsons[4].data,\r\n                allBrands: jsons[5].data,\r\n                allProducts: jsons[6].data,\r\n                allInventories: jsons[7].data,\r\n                allInventoryHistories: jsons[8].data,\r\n                allOrders: jsons[9].data,\r\n                allOrderDetails: jsons[10].data,\r\n                allInvoices: jsons[11].data,\r\n                allInvoiceDetails: jsons[12].data,\r\n                allCompanies: jsons[13].data,\r\n              }, function () {\r\n                //updating user permissions\r\n                let { allRoles, allPermissions, allRolePermissions } = this.state\r\n                allRoles &&\r\n                  allRoles.forEach(role => {\r\n                    if (role.id === user.role_id) {\r\n                      userRole = role.name\r\n                    }\r\n                  });\r\n                const rules = defineRulesFor(userRole, allRoles, allPermissions, allRolePermissions);\r\n                ability.update(rules);\r\n              })\r\n            }\r\n          })\r\n      })\r\n    if (!loggedIn) {\r\n      this.setState({ loggedIn: true })\r\n    }\r\n  }\r\n\r\n  toggleSidebar = () => {\r\n    let a = document.getElementById('navbarToggler'), logo = document.getElementById('siteLogo')\r\n    logo.width === 224 ? logo.width = 204 : logo.width = 224\r\n\r\n    // if (a.classList.contains('mt-5')) {\r\n    //   a.classList.remove('mt-5', 'ml-2')\r\n    //   a.classList.add('mt-3', 'ml-3')\r\n    // }\r\n    // else {\r\n    //   a.classList.remove('mt-3', 'ml-3')\r\n    //   a.classList.add('mt-5', 'ml-2')\r\n    // }\r\n    if (a.classList.contains('ml-2')) {\r\n      a.classList.remove('ml-2','mr-4')\r\n      a.classList.add('mr-2')\r\n    }\r\n    else {\r\n      a.classList.remove('mr-2')\r\n      a.classList.add('mr-4', 'ml-2')\r\n    }\r\n    let sidebar = document.getElementById('sidebar'), main = document.getElementById('main')\r\n    sidebar.style.width !== '12%' ? sidebar.style.width = '12%' : sidebar.style.width = '0%'\r\n    main.style.width !== '88%' ? main.style.width = '88%' : main.style.width = '100%'\r\n    main.style.marginLeft !== '12%' ? main.style.marginLeft = '12%' : main.style.marginLeft = '0px'\r\n  }\r\n\r\n\r\n  render() {\r\n    let {\r\n      loggedIn, user, allRoles, allPermissions, allRolePermissions, allUsers, allProductCategories, allBrands, allProducts, allInventories,\r\n      allInventoryHistories, allOrders, allOrderDetails, allInvoices, allInvoiceDetails, allCompanies\r\n    } = this.state\r\n\r\n    let allData = {\r\n      user: user, allRoles: allRoles, allPermissions: allPermissions, allRolePermissions: allRolePermissions, allUsers: allUsers,\r\n      allProductCategories: allProductCategories, allBrands: allBrands, allProducts: allProducts, allInventories: allInventories,\r\n      allInventoryHistories: allInventoryHistories, allOrders: allOrders, allOrderDetails: allOrderDetails, allInvoices: allInvoices,\r\n      allInvoiceDetails: allInvoiceDetails, allCompanies: allCompanies\r\n    }\r\n    // console.log(allData);\r\n\r\n\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <AbilityContext.Provider value={ability}>\r\n          {loggedIn === false && <Redirect to='/login' />}\r\n          <div className='row m-0 p-0'>\r\n            <div\r\n              // className={loggedIn ? 'backGround-blue col-xl-2 col-lg-2 col-md-3 col-sm-4 col-xs-4' : 'd-none'}\r\n              id='sidebar'\r\n              className='printHide'\r\n            >\r\n              <ReactSideBar\r\n                loggingOut={this.loggingOut}\r\n                loggedIn={loggedIn} />\r\n            </div>\r\n            <div\r\n              id='main'\r\n            // className={loggedIn ? 'col-xl-10 col-lg-10 col-md-9 col-sm-8 col-xs-8' : 'col-12'}\r\n            >\r\n              <NavBar\r\n                // loggingOut={this.loggingOut}\r\n                toggleSidebar={this.toggleSidebar}\r\n                loggedIn={loggedIn}\r\n              />\r\n              <AllRoutes\r\n                changeUser={this.changeUser}\r\n                allData={allData}\r\n              />\r\n            </div>\r\n          </div >\r\n        </AbilityContext.Provider>\r\n      </BrowserRouter >\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { AbilityBuilder } from \"@casl/ability\";\r\n\r\n// let roles;\r\n// let permissions;\r\n// let rolePermissions;\r\n// fetch('/getAllRoles')\r\n//     .then((res) => res.json())\r\n//     .then((json) => {\r\n//         // console.log(json)\r\n//         roles = json.data\r\n//     })\r\n//     .catch((err => {\r\n//         console.log(err);\r\n//     }))\r\n// fetch('/getAllPermissions')\r\n//     .then((res) => res.json())\r\n//     .then((json) => {\r\n//         // console.log(json)\r\n//         permissions = json.data\r\n//     })\r\n//     .catch((err => {\r\n//         console.log(err);\r\n//     }))\r\n\r\n// fetch('/getAllRolesPermissions')\r\n//     .then((res) => res.json())\r\n//     .then((json) => {\r\n//         // console.log(json)\r\n//         rolePermissions = json.data\r\n//     })\r\n//     .catch((err => {\r\n//         console.log(err);\r\n//     }))\r\n\r\n\r\n\r\n\r\nexport default function defineRulesFor(role, roles, permissions, rolePermissions) {\r\n    const { can, rules } = AbilityBuilder.extract();\r\n\r\n    //finding user's role\r\n    let userRoleId;\r\n    if (roles !== undefined) {\r\n        roles.forEach(Role => {\r\n            if (Role.name === role) {\r\n                userRoleId = Role.id\r\n            }\r\n        })\r\n\r\n        //getting permissions against that role\r\n        let userRolePermissions = rolePermissions !== undefined && userRoleId !== undefined ?\r\n            rolePermissions.filter(rolePermission => rolePermission.role_id === userRoleId) : undefined\r\n\r\n        //getting user's permissions\r\n        let userPermissions = []\r\n        if (userRolePermissions !== undefined && permissions !== undefined) {\r\n            userRolePermissions.forEach(rolePermission => {\r\n                permissions.forEach(permission => {\r\n                    if (permission.id === rolePermission.permission_id) {\r\n                        userPermissions.push(permission)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        // console.log(userPermissions);\r\n\r\n        // defining rules for user\r\n        if (userPermissions.length !== 0 && userPermissions !== undefined) {\r\n            for (let index = 0; index < userPermissions.length; index++) {\r\n                can(`${userPermissions[index].permission}`, `${userPermissions[index].entity}`)\r\n            }\r\n        }\r\n        // can(\"manage\", \"all\");\r\n        // can(\"read\", \"all\");\r\n        // can(\"delete\", \"all\");\r\n        // can(\"update\", \"all\");\r\n        // can(\"create\", \"all\");\r\n\r\n        // switch (role) {\r\n        //     // case \"superAdmin\":\r\n        //     //     can(\"manage\", \"all\");\r\n        //     //     break;\r\n        //     case \"admin\":\r\n\r\n        //         can(\"manage\", \"all\");\r\n        //         // can(\"read\", \"all\");\r\n        //         // can(\"delete\", \"all\");\r\n        //         // can(\"update\", \"all\");\r\n        //         // can(\"create\", \"all\");\r\n        //         break;\r\n        //     case \"operator\":\r\n        //         can(\"read\", \"user\");\r\n        //         can('create', 'order')\r\n        //         can(\"read\", \"order\");\r\n        //         can(\"update\", \"order\");\r\n        //         can(\"delete\", \"order\");\r\n        //         break;\r\n        //     case \"endUser\":\r\n        //         can(\"read\", \"order\");\r\n        //         break;\r\n        //     default:\r\n        //         can(\"read\", \"order\");\r\n        // }\r\n    }\r\n    return rules;\r\n}\r\n\r\n        // import { AbilityBuilder } from '@casl/ability'\r\n\r\n        // const superAdmin = AbilityBuilder.define(can => {\r\n            //     can('manage', 'all')\r\n            // });\r\n\r\n// const admin = AbilityBuilder.define((can, cannot) => {\r\n//     can('read', 'all')\r\n//     can('delete', 'all')\r\n//     cannot('update', 'user')\r\n//     cannot('create', 'customer')\r\n// });\r\n// const operator = AbilityBuilder.define(can => {\r\n//     can('read', 'all')\r\n//     can('create', 'all')\r\n\r\n// });\r\n\r\n// const endUser = AbilityBuilder.define(can => {\r\n//     can('read', 'all')\r\n// });\r\n// const ABILITIES = { superAdmin, admin, operator, endUser }\r\n// export default ABILITIES","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ErrorBoundary from './components/misc/pages/ErrorBoundary'\n\nReactDOM.render(<ErrorBoundary><App /></ErrorBoundary>, document.getElementById('root'));\nserviceWorker.unregister();\nmodule.hot && module.hot.accept()\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}